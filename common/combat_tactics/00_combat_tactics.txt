### At the moment we have a pretty basic icon system for combat tactics showing
### the uniticon which has the biggest bonus value in the tactic.
### This is the sprite number for each unit:
### 1=LI 2=HI 3=PIKE 4=LC 5=KNIGHTS 6=ARCHERS 7=HORSE ARCH.

# Must be first in file. This tactic will be set if anything goes wrong
no_tactic = {
	days = 1 # tactic lasts one day
	sprite = 1 # index of icon

	trigger = {
		always = no # never use unless set explicitly by code
	}
}
generic_skirmish_tactic = {
	days = 8
	sprite = 1
	group = skirmish

	trigger = {
		phase = skirmish
	}

	mean_time_to_happen = {
		days = 2

		modifier = {
			factor = 0.85
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 2 } } }
		}
		modifier = {
			factor = 0.85
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 4 } } }
		}
		modifier = {
			factor = 0.85
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 6 } } }
		}
		modifier = {
			factor = 0.85
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 8 } } }
		}
	}
}
# exclusive for light cavalry
harass_tactic = {
	days = 8
	sprite = 4
	group = harass

	trigger = {
		phase = skirmish
		OR = {
			troops = {
				who = light_cavalry
				value = 0.01
			}
			troops = {
				who = camel_cavalry
				value = 0.01
			}
		}
		OR = {
			NOR = {
				troops = {
					who = light_cavalry
					value = 0.45
				}
				troops = {
					who = camel_cavalry
					value = 0.45
				}
			}
			AND = {
				flank_has_leader = yes
				leader = { martial = 12 }
				NOT = {
					OR = {
						troops = {
							who = light_cavalry
							value = 0.75
						}
						troops = {
							who = camel_cavalry
							value = 0.75
						}
					}
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			OR = {
				light_troops = {
					who = light_cavalry
					value = 0.7
				}
				light_troops = {
					who = camel_cavalry
					value = 0.7
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				light_troops = {
					who = light_cavalry
					value = 0.6
				}
				light_troops = {
					who = camel_cavalry
					value = 0.6
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			OR = {
				light_troops = {
					who = light_cavalry
					value = 0.5
				}
				light_troops = {
					who = camel_cavalry
					value = 0.5
				}
			}
		}
	}

	light_cavalry_offensive = 2
	camel_cavalry_offensive = 2
	horse_archers_offensive = -1.5
	archers_offensive = -0.5
	light_cavalry_defensive = -0.25
	camel_cavalry_defensive = -0.25
	enemy = {
		group = swarm
		factor = 1
	}
}
disorganised_harass_tactic = {
	days = 6
	sprite = 4
	group = harass

	trigger = {
		phase = skirmish
		OR = {
			troops = {
				who = light_cavalry
				value = 0.4
			}
			troops = {
				who = camel_cavalry
				value = 0.4
			}
		}
		OR = {
			flank_has_leader = no
			NOT = { leader = { martial = 12 } }
			OR = {
				troops = {
					who = light_cavalry
					value = 0.75
				}
				troops = {
					who = camel_cavalry
					value = 0.75
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 2
		modifier = {
			factor = 1.5
			OR = {
				light_troops = {
					who = light_cavalry
					value = 0.5
				}
				light_troops = {
					who = camel_cavalry
					value = 0.5
				}
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				light_troops = {
					who = light_cavalry
					value = 0.7
				}
				light_troops = {
					who = camel_cavalry
					value = 0.7
				}
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				light_troops = {
					who = light_cavalry
					value = 0.9
				}
				light_troops = {
					who = camel_cavalry
					value = 0.9
				}
			}
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 2 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 4 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 6 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 8 } } }
		}
	}

	light_cavalry_offensive = 0.5
	camel_cavalry_offensive = 0.5
	horse_archers_offensive = -1.5
	archers_offensive = -1.0
	light_cavalry_defensive = -0.5
	camel_cavalry_defensive = -0.5
	enemy = {
		group = swarm
		factor = 0.5
	}
}
# cooperative between light cavalry and archers/gunpowder
volly_harass_tactic = {
	days = 6
	sprite = 4
	group = harass

	trigger = {
		phase = skirmish
		OR = {
			troops = {
				who = light_cavalry
				value = 0.01
			}
			troops = {
				who = camel_cavalry
				value = 0.01
			}
		}
		OR = {
			troops = {
				who = gunpowder
				value = 0.01
			}
			troops = {
				who = archers
				value = 0.01
			}
		}
	}

	mean_time_to_happen = {
		days = 4
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			OR = {
				light_troops = {
					who = light_cavalry
					value = 0.6
				}
				light_troops = {
					who = camel_cavalry
					value = 0.6
				}
			}
			OR = {
				light_troops = {
					who = archers
					value = 0.3
				}
				light_troops = {
					who = gunpowder
					value = 0.3
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				light_troops = {
					who = light_cavalry
					value = 0.5
				}
				light_troops = {
					who = camel_cavalry
					value = 0.5
				}
			}
			OR = {
				light_troops = {
					who = archers
					value = 0.3
				}
				light_troops = {
					who = gunpowder
					value = 0.3
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			OR = {
				light_troops = {
					who = light_cavalry
					value = 0.4
				}
				light_troops = {
					who = camel_cavalry
					value = 0.4
				}
			}
			OR = {
				light_troops = {
					who = archers
					value = 0.2
				}
				light_troops = {
					who = gunpowder
					value = 0.2
				}
			}
		}
	}

	light_cavalry_offensive = 1.2
	camel_cavalry_offensive = 1.2
	archers_offensive = 0.6
	gunpowder_offensive = 0.6
	siege_tanks_offensive = 0.6
	artillery_offensive = 0.6
	light_infantry_offensive = 1.2
	horse_archers_offensive = -1.8
	enemy = {
		group = swarm
		factor = 1
	}
}
# exclusive for archers/gunpowder/artillery
volley_tactic = {
	days = 8
	sprite = 6
	group = volley

	trigger = {
		phase = skirmish
		OR = {
			troops = {
				who = archers
				value = 0.01
			}
			troops = {
				who = gunpowder
				value = 0.01
			}
			troops = {
				who = artillery
				value = 0.01
			}
		}
		NOT = {
			AND = {
				flank_has_leader = yes
				leader = {
					OR = {
						culture_group = asrai_group
						culture_group = asur_group
					}
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			OR = {
				light_troops = {
					who = archers
					value = 0.6
				}
				light_troops = {
					who = gunpowder
					value = 0.6
				}
				light_troops = {
					who = artillery
					value = 0.6
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				light_troops = {
					who = archers
					value = 0.5
				}
				light_troops = {
					who = gunpowder
					value = 0.5
				}
				light_troops = {
					who = artillery
					value = 0.5
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			OR = {
				light_troops = {
					who = archers
					value = 0.4
				}
				light_troops = {
					who = gunpowder
					value = 0.4
				}
				light_troops = {
					who = artillery
					value = 0.4
				}
			}
		}
	}

	light_cavalry_offensive = -1.5
	camel_cavalry_offensive = -1.5
	horse_archers_offensive = -0.5
	archers_offensive = 2.0
	gunpowder_offensive = 2.0
	artillery_offensive = 2.0
	siege_tanks_offensive = 2.0
	enemy = {
		group = harass
		factor = 1
	}
}
# cooperative between archers and horse archers
swarm_volley_tactic = {
	days = 8
	sprite = 6
	group = volley

	trigger = {
		phase = skirmish
		troops = {
			who = archers
			value = 0.01
		}
		troops = {
			who = horse_archers
			value = 0.01
		}
		OR = {
			location = {
				num_of_settlements > 0
				NOR = {
					terrain = forest
					terrain = woods
					terrain = mountain
					terrain = impassable_mountains
					terrain = jungle
					terrain = marsh
				}
			}
			leader = {
				location = {
					NOR = {
						terrain = forest
						terrain = woods
						terrain = mountain
						terrain = impassable_mountains
						terrain = jungle
						terrain = marsh
					}
				}
			}
			enemy = {
				leader = {
					location = {
						NOR = {
							terrain = forest
							terrain = woods
							terrain = mountain
							terrain = impassable_mountains
							terrain = jungle
							terrain = marsh
						}
					}
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 4
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			light_troops = {
				who = archers
				value = 0.6
			}
			light_troops = {
				who = horse_archers
				value = 0.3
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_troops = {
				who = archers
				value = 0.5
			}
			light_troops = {
				who = horse_archers
				value = 0.3
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			light_troops = {
				who = archers
				value = 0.4
			}
			light_troops = {
				who = horse_archers
				value = 0.2
			}
		}
	}

	light_cavalry_offensive = -1.8
	camel_cavalry_offensive = -1.8
	horse_archers_offensive =  0.6
	archers_offensive = 1.2
	gunpowder_offensive = 1.2
	artillery_offensive = 0.6
	siege_tanks_offensive = 0.6
	enemy = {
		group = harass
		factor = 1
	}
}
# exclusive for horse archers
swarm_tactic = {
	days = 8
	sprite = 7
	group = swarm

	trigger = {
		phase = skirmish
		troops = {
			who = horse_archers
			value = 0.01
		}
		OR = {
			NOT = {
				troops = {
					who = horse_archers
					value = 0.35
				}
			}
			AND = {
				flank_has_leader = yes
				leader = { martial = 12 }
				NOT = {
					troops = {
						who = horse_archers
						value = 0.65
					}
				}
			}
		}
		OR = {
			location = {
				num_of_settlements > 0
				NOR = {
					terrain = forest
					terrain = woods
					terrain = mountain
					terrain = impassable_mountains
					terrain = jungle
					terrain = marsh
				}
			}
			leader = {
				location = {
					NOR = {
						terrain = forest
						terrain = woods
						terrain = mountain
						terrain = impassable_mountains
						terrain = jungle
						terrain = marsh
					}
				}
			}
			enemy = {
				leader = {
					location = {
						NOR = {
							terrain = forest
							terrain = woods
							terrain = mountain
							terrain = impassable_mountains
							terrain = jungle
							terrain = marsh
						}
					}
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			light_troops = {
				who = horse_archers
				value = 0.7
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_troops = {
				who = horse_archers
				value = 0.6
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			light_troops = {
				who = horse_archers
				value = 0.5
			}
		}
	}

	light_cavalry_offensive = -0.5
	camel_cavalry_offensive = -0.5
	horse_archers_offensive = 2.0
	horse_archers_defensive = -0.25
	archers_offensive = -1.5
	gunpowder_offensive = -1.5
	artillery_offensive = -2.0
	siege_tanks_offensive = -2.0
	enemy = {
		group = volley
		factor = 1
	}
}
disorganised_swarm_tactic = {
	days = 6
	sprite = 7
	group = swarm

	trigger = {
		phase = skirmish
		troops = {
			who = horse_archers
			value = 0.30
		}
		OR = {
			flank_has_leader = no
			NOT = { leader = { martial = 12 } }
			troops = {
				who = horse_archers
				value = 0.65
			}
		}
		OR = {
			location = {
				num_of_settlements > 0
				NOR = {
					terrain = forest
					terrain = woods
					terrain = mountain
					terrain = impassable_mountains
					terrain = jungle
					terrain = marsh
				}
			}
			leader = {
				location = {
					NOR = {
						terrain = forest
						terrain = woods
						terrain = mountain
						terrain = impassable_mountains
						terrain = jungle
						terrain = marsh
					}
				}
			}
			enemy = {
				leader = {
					location = {
						NOR = {
							terrain = forest
							terrain = woods
							terrain = mountain
							terrain = impassable_mountains
							terrain = jungle
							terrain = marsh
						}
					}
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 2
		modifier = {
			factor = 1.5
			light_troops = {
				who = horse_archers
				value = 0.5
			}
		}
		modifier = {
			factor = 1.5
			light_troops = {
				who = horse_archers
				value = 0.7
			}
		}
		modifier = {
			factor = 1.5
			light_troops = {
				who = horse_archers
				value = 0.9
			}
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 2 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 4 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 6 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 8 } } }
		}
	}

	light_cavalry_offensive = -1.0
	camel_cavalry_offensive = -1.0
	horse_archers_offensive = 0.5
	horse_archers_defensive = -0.5
	archers_offensive = -1.5
	gunpowder_offensive = -1.5
	artillery_offensive = -2.0
	siege_tanks_offensive = -2.0
	enemy = {
		group = volley
		factor = 0.5
	}
}
# cooperative between horse archers and light cavalry
harras_swarm_tactic = {
	days = 8
	sprite = 7
	group = swarm

	trigger = {
		phase = skirmish
		troops = {
			who = horse_archers
			value = 0.01
		}
		OR = {
			troops = {
				who = light_cavalry
				value = 0.01
			}
			troops = {
				who = camel_cavalry
				value = 0.01
			}
		}
		OR = {
			location = {
				num_of_settlements > 0
				NOR = {
					terrain = forest
					terrain = woods
					terrain = mountain
					terrain = impassable_mountains
					terrain = jungle
					terrain = marsh
				}
			}
			leader = {
				location = {
					NOR = {
						terrain = forest
						terrain = woods
						terrain = mountain
						terrain = impassable_mountains
						terrain = jungle
						terrain = marsh
					}
				}
			}
			enemy = {
				leader = {
					location = {
						NOR = {
							terrain = forest
							terrain = woods
							terrain = mountain
							terrain = impassable_mountains
							terrain = jungle
							terrain = marsh
						}
					}
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 4
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			light_troops = {
				who = horse_archers
				value = 0.6
			}
			OR = {
				light_troops = {
					who = light_cavalry
					value = 0.3
				}
				light_troops = {
					who = camel_cavalry
					value = 0.3
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_troops = {
				who = horse_archers
				value = 0.5
			}
			OR = {
				light_troops = {
					who = light_cavalry
					value = 0.3
				}
				light_troops = {
					who = camel_cavalry
					value = 0.3
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			light_troops = {
				who = horse_archers
				value = 0.4
			}
			OR = {
				light_troops = {
					who = light_cavalry
					value = 0.2
				}
				light_troops = {
					who = camel_cavalry
					value = 0.2
				}
			}
		}
	}

	light_cavalry_offensive = 0.6
	camel_cavalry_offensive = 0.6
	horse_archers_offensive = 1.2
	archers_offensive = -1.8
	gunpowder_offensive = -1.8
	artillery_offensive = -2.4
	siege_tanks_offensive = -2.4
	enemy = {
		group = volley
		factor = 1
	}
}
shieldwall_tactic = {
	days = 8
	sprite = 2 # index of icon
	group = defensive

	trigger = {
		phase = skirmish
		OR = {
			troops = {
				who = heavy_infantry
				value = 0.2
			}
			troops = {
				who = pikemen
				value = 0.2
			}
			AND = {
				troops = {
					who = light_infantry
					value = 0.2
				}
				OR = {
					troops = {
						who = heavy_infantry
						value = 0.01
					}
					troops = {
						who = pikemen
						value = 0.01
					}
				}
			}
		}
		troops = {
			who = archers
			value = 0.01
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = {
				who = pikemen
				value = 0.3
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = {
				who = heavy_infantry
				value = 0.3
			}
		}

		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			heavy_troops = {
				who = pikemen
				value = 0.3
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			heavy_troops = {
				who = heavy_infantry
				value = 0.3
			}
		}

		modifier = {
			factor = 0.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				light_troops = {
					who = light_cavalry
					value = 0.3
				}
				light_troops = {
					who = camel_cavalry
					value = 0.3
				}
			}
		}
		modifier = {
			factor = 0.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_troops = {
				who = horse_archers
				value = 0.3
			}
		}

		modifier = {
			factor = 0.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			OR = {
				light_troops = {
					who = light_cavalry
					value = 0.3
				}
				light_troops = {
					who = camel_cavalry
					value = 0.3
				}
			}
		}
		modifier = {
			factor = 0.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			light_troops = {
				who = horse_archers
				value = 0.3
			}
		}
	}

	light_infantry_defensive = 1.2
	heavy_infantry_defensive = 3
	pikemen_defensive = 2.4
	archers_offensive = 0.6
	gunpowder_offensive = 0.6
	artillery_offensive = 0.6
	siege_tanks_offensive = 0.6
	light_cavalry_defensive = -0.5
	camel_cavalry_defensive = -0.5
	knights_defensive = -0.5
	vampire_knights_defensive = -0.5
	horse_archers_defensive = -0.5
}
fient_tactic = {
	days = 6
	sprite = 2 # index of icon
	group = defensive

	trigger = {
		phase = skirmish
		troops = {
			who = light_infantry
			value = 0.2
		}
		OR = {
			OR = {
				troops = {
					who = archers
					value = 0.2
				}
				troops = {
					who = gunpowder
					value = 0.2
				}
			}
			AND = {
				OR = {
					troops = {
						who = archers
						value = 0.1
					}
					troops = {
						who = gunpowder
						value = 0.1
					}
				}
				NOT = {
					troops = {
						who = heavy_infantry
						value = 0.02
					}
				}
				NOT = {
					troops = {
						who = pikemen
						value = 0.02
					}
				}
				NOT = {
					troops = {
						who = knights
						value = 0.03
					}
				}
				NOT = {
					troops = {
						who = vampire_knights
						value = 0.02
					}
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				light_troops = {
					who = archers
					value = 0.3
				}
				light_troops = {
					who = gunpowder
					value = 0.3
				}
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			troops = {
				who = light_infantry
				value = 0.4
			}
		}
		modifier = {
			factor = 0.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				light_troops = {
					who = light_cavalry
					value = 0.5
				}
				light_troops = {
					who = camel_cavalry
					value = 0.5
				}
			}
		}
		modifier = {
			factor = 0.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				light_troops = {
					who = light_cavalry
					value = 0.6
				}
				light_troops = {
					who = camel_cavalry
					value = 0.6
				}
			}
		}
	}

	light_infantry_offensive = 1.0
	light_infantry_defensive = 0.5
	archers_offensive = 1.5
	gunpowder_offensive = 1.5
	artillery_offensive = 0.75
	siege_tanks_offensive = 0.75
	heavy_infantry_offensive = -0.5
	heavy_infantry_defensive = -0.5
	knights_offensive = -0.5
	vampire_knights_offensive = -0.5
	knights_defensive = -0.5
	vampire_knights_defensive = -0.5
}
prepare_tactic = {
	days = 1
	sprite = 2
	group = defensive

	trigger = {
		phase = skirmish
		days = 15
	}

	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 0.1
			flank_has_leader = yes
			leader = {
				martial = 8
			}
		}
		modifier = {
			factor = 0.1
			flank_has_leader = yes
			leader = {
				martial = 12
			}
		}
		modifier = {
			factor = 0.1
			flank_has_leader = yes
			leader = {
				martial = 16
			}
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 2 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 4 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 6 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_SKIRMISH = 8 } } }
		}
	}

	change_phase_to = melee
}
charge_on_undefended_tactic = {
	days = 2
	sprite = 5
	group = charge

	trigger = {
		phase = skirmish
		is_flanking = no
		enemy = {
			troops = {
				who = archers
				value = 0.75
			}
		}
	}

	mean_time_to_happen = {
		days = 10
		modifier = {
			factor = 0.50
			flank_has_leader = yes
			enemy = {
				leader = {
					martial < 10
				}
				troops = {
					who = archers
					value = 0.6
				}
			}
		}

		modifier = {
			factor = 1.50
			enemy = {
				troops = {
					who = archers
					value = 0.8
				}
			}
		}
		modifier = {
			factor = 1.50
			enemy = {
				troops = {
					who = archers
					value = 1.0
				}
			}
		}
	}

	change_phase_to = melee
}
charge_of_opportunity_tactic = {
	days = 6
	sprite = 5 # index of icon
	group = charge

	trigger = {
		phase = skirmish
		is_flanking = no
		days = 10 # duration of combat >= 10 days
	}

	mean_time_to_happen = {
		days = 3 # this has nothing to do with days, it just represents relative chance of selecting this tactic, higher is better
	}

	change_phase_to = melee

	knights_offensive = 3
	vampire_knights_offensive = 3
	horse_archers_offensive = 3
	heavy_infantry_offensive = 1.2
}
charge_tactic = {
	days = 6
	sprite = 5 # index of icon
	group = charge

	trigger = {
		phase = skirmish
		is_flanking = no
		days = 10 # duration of combat >= 10 days
	}

	mean_time_to_happen = {
		days = 10 # this has nothing to do with days, it just represents relative chance of selecting this tactic, higher is better
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_troops = {
				who = horse_archers
				value = 0.3
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = {
				who = knights
				value = 0.1
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = {
				who = heavy_infantry
				value = 0.1
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = {
				who = vampire_knights
				value = 0.1
			}
		}
	}

	change_phase_to = melee
	knights_offensive = 3
	vampire_knights_offensive = 3
	horse_archers_offensive = 3
	heavy_infantry_offensive = 1.2
}
wait_tactic = {
	days = 1
	sprite = 2
	group = stand_fast

	trigger = {
		phase = melee
	}

	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 0.1
			flank_has_leader = yes
			leader = {
				martial = 8
			}
		}
		modifier = {
			factor = 0.1
			flank_has_leader = yes
			leader = {
				martial = 12
			}
		}
		modifier = {
			factor = 0.1
			flank_has_leader = yes
			leader = {
				martial = 16
			}
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_MELEE = 2 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_MELEE = 4 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_MELEE = 6 } } }
		}
		modifier = {
			factor = 0.80
			flank_has_leader = yes
			leader = { liege = { capital_scope = { TECH_MELEE = 8 } } }
		}
	}
}
# exclusive for heavy infantry and undead
advance_tactic = {
	days = 8
	sprite = 2
	group = advance

	trigger = {
		phase = melee
		OR = {
			troops = {
				who = heavy_infantry
				value = 0.01
			}
			troops = {
				who = undead_horde
				value = 0.10
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			heavy_troops = {
				who = heavy_infantry
				value = 0.7
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = {
				who = heavy_infantry
				value = 0.6
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			heavy_troops = {
				who = heavy_infantry
				value = 0.5
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			troops = {
				who = undead_horde
				value = 0.20
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 10
			}
			troops = {
				who = undead_horde
				value = 0.10
			}
		}
	}

	knights_offensive = -0.5
	vampire_knights_offensive = -0.5
	heavy_infantry_offensive = 3
	pikemen_offensive = -1.5
	enemy = {
		group = stand_fast
		factor = 3
	}
}
# cooperative between heavy infantry and heavy cavalry
awesome_advance_tactic = {
	days = 8
	sprite = 2
	group = advance

	trigger = {
		phase = melee
		troops = {
			who = heavy_infantry
			value = 0.01
		}
		OR = {
			troops = {
				who = knights
				value = 0.01
			}
			troops = {
				who = vampire_knights
				value = 0.01
			}
		}
	}

	mean_time_to_happen = {
		days = 4
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			heavy_troops = {
				who = heavy_infantry
				value = 0.6
			}
			OR  = {
				heavy_troops = {
					who = knights
					value = 0.3
				}
				heavy_troops = {
					who = vampire_knights
					value = 0.3
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = {
				who = heavy_infantry
				value = 0.5
			}
			OR  = {
				heavy_troops = {
					who = knights
					value = 0.3
				}
				heavy_troops = {
					who = vampire_knights
					value = 0.3
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			heavy_troops = {
				who = heavy_infantry
				value = 0.4
			}
			OR  = {
				heavy_troops = {
					who = knights
					value = 0.2
				}
				heavy_troops = {
					who = vampire_knights
					value = 0.2
				}
			}
		}
	}

	knights_offensive = 0.6
	vampire_knights_offensive = 0.6
	heavy_infantry_offensive = 2.4
	pikemen_offensive = -1.8
	enemy = {
		group = stand_fast
		factor = 3
	}
}
# exclusive for pikemen
stand_fast_tactic = {
	days = 8
	sprite = 3
	group = stand_fast

	trigger = {
		phase = melee
		troops = {
			who = pikemen
			value = 0.01
		}
		location = {
			OR = {
				terrain = forest
				terrain = woods
				terrain = mountain
				terrain = impassable_mountains
				terrain = jungle
				terrain = hills
				terrain = city
				terrain = urban
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			heavy_troops = {
				who = pikemen
				value = 0.7
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = {
				who = pikemen
				value = 0.6
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			heavy_troops = {
				who = pikemen
				value = 0.5
			}
		}
		modifier = {
			factor = 0.1
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			troops = {
				who = war_elephants
				value = 0.04
			}
		}
		modifier = {
			factor = 0.1
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			troops = {
				who = war_elephants
				value = 0.02
			}
		}
		modifier = {
			factor = 0.1
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			troops = {
				who = war_elephants
				value = 0.01
			}
		}
	}

	knights_offensive = -1.5
	vampire_knights_offensive = -1.5
	heavy_infantry_offensive = -0.5
	pikemen_offensive = 3
	enemy = {
		group = charge
		factor = 3
	}
}
# cooperative between pikemen and heavy infantry
slow_advance_tactic = {
	days = 10
	sprite = 3
	group = stand_fast

	trigger = {
		phase = melee
		troops = {
			who = heavy_infantry
			value = 0.01
		}
		OR = {
			troops = {
				who = pikemen
				value = 0.01
			}
			troops = {
				who = war_elephants
				value = 0.01
			}
		}
	}

	mean_time_to_happen = {
		days = 4
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			troops = {
				who = heavy_infantry
				value = 0.06
			}
			OR = {
				troops = {
					who = pikemen
					value = 0.04
				}
				troops = {
					who = war_elephants
					value = 0.03
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			troops = {
				who = heavy_infantry
				value = 0.05
			}
			OR = {
				troops = {
					who = pikemen
					value = 0.03
				}
				troops = {
					who = war_elephants
					value = 0.02
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			troops = {
				who = heavy_infantry
				value = 0.04
			}
			OR = {
				troops = {
					who = pikemen
					value = 0.02
				}
				troops = {
					who = war_elephants
					value = 0.01
				}
			}
		}
	}

	knights_offensive = -1.8
	vampire_knights_offensive = -1.8
	heavy_infantry_offensive = 1.0
	pikemen_offensive = 2.0
	war_elephants_offensive = 1.2
	enemy = {
		group = charge
		factor = 3
	}
}
# exclusive for heavy cavalry
awesome_charge_tactic = {
	days = 6
	sprite = 5
	group = charge

	trigger = {
		phase = melee
		OR = {
			troops = {
				who = knights
				value = 0.01
			}
			troops = {
				who = vampire_knights
				value = 0.01
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			OR = {
				heavy_troops = {
					who = knights
					value = 0.6
				}
				heavy_troops = {
					who = vampire_knights
					value = 0.5
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				heavy_troops = {
					who = knights
					value = 0.5
				}
				heavy_troops = {
					who = vampire_knights
					value = 0.4
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			OR = {
				heavy_troops = {
					who = knights
					value = 0.4
				}
				heavy_troops = {
					who = vampire_knights
					value = 0.3
				}
			}
		}
	}

	knights_offensive = 3
	vampire_knights_offensive = 3
	heavy_infantry_offensive = -1.5
	pikemen_offensive = -0.5
	enemy = {
		group = advance
		factor = 3
	}
}
# cooperative between heavy cavalry and pikemen
awesomer_charge_tactic = {
	days = 6
	sprite = 5
	group = charge

	trigger = {
		phase = melee
		OR = {
			troops = {
				who = knights
				value = 0.01
			}
			troops = {
				who = vampire_knights
				value = 0.01
			}
		}
		troops = {
			who = pikemen
			value = 0.01
		}
	}

	mean_time_to_happen = {
		days = 4
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			OR = {
				heavy_troops = {
					who = knights
					value = 0.6
				}
				heavy_troops = {
					who = vampire_knights
					value = 0.5
				}
			}
			heavy_troops = {
				who = pikemen
				value = 0.3
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				heavy_troops = {
					who = knights
					value = 0.5
				}
				heavy_troops = {
					who = vampire_knights
					value = 0.4
				}
			}
			heavy_troops = {
				who = pikemen
				value = 0.3
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			OR = {
				heavy_troops = {
					who = knights
					value = 0.4
				}
				heavy_troops = {
					who = vampire_knights
					value = 0.3
				}
			}
			heavy_troops = {
				who = pikemen
				value = 0.2
			}
		}
	}

	knights_offensive = 2.4
	vampire_knights_offensive = 2.4
	heavy_infantry_offensive = -1.8
	pikemen_offensive = 0.6
	enemy = {
		group = advance
		factor = 3
	}
}
barrage_tactic = {
	days = 8
	sprite = 6 # index of icon
	group = defensive

	trigger = {
		phase = melee
		OR = {
			troops = {
				who = archers
				value = 0.2
			}
			troops = {
				who = gunpowder
				value = 0.2
			}
			troops = {
				who = artillery
				value = 0.2
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 2
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				troops = {
					who = archers
					value = 0.3
				}
				troops = {
					who = gunpowder
					value = 0.3
				}
				troops = {
					who = artillery
					value = 0.3
				}
			}
		}
		modifier = {
			factor = 2
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_troops = {
				who = horse_archers
				value = 0.3
			}
		}
	}

	archers_offensive = 2.4
	horse_archers_offensive = 1.2
	gunpowder_offensive = 2.4
	artillery_offensive = 3.2
	siege_tanks_offensive = 3.2
}
raid_tactic = {
	days = 8
	sprite = 1
	group = defensive

	trigger = {
		phase = melee
		OR = {
			troops = {
				who = light_infantry
				value = 0.4
			}
			troops = {
				who = light_cavalry
				value = 0.2
			}
			troops = {
				who = camel_cavalry
				value = 0.2
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 2
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				troops = {
					who = light_infantry
					value = 0.6
				}
				troops = {
					who = light_cavalry
					value = 0.3
				}
				troops = {
					who = camel_cavalry
					value = 0.3
				}
			}
		}
		modifier = {
			factor = 2
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			troops = {
				who = light_infantry
				value = 0.3
			}
		}
	}

	light_infantry_offensive = 2.4
	light_cavalry_offensive = 2.4
	camel_cavalry_offensive = 2.4
	gunpowder_offensive = 2.4
	archers_offensive = 1.2
}
pursue_tactic = {
	days = 10
	sprite = 4
	group = charge

	trigger = {
		phase = pursue
	}

	mean_time_to_happen = {
		days = 10
	}
}
#########################
# Combat Flavor Tactics #
#########################

# Bad Tactics
reckless_charge_tactic = {
	days = 6
	sprite = 5 # index of icon
	group = charge

	trigger = {
		phase = skirmish
		is_flanking = no
		days = 10 # duration of combat >= 10 days
		flank_has_leader = yes
		leader = {
			OR = {
				trait = aggressive_leader
				trait = wroth
			}
		}
	}

	mean_time_to_happen = {
		days = 10 # this has nothing to do with days, it just represents relative chance of selecting this tactic, higher is better
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				NOT = { martial = 7 }
			}
			light_troops = {
				who = horse_archers
				value = 0.3
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				NOT = { martial = 7 }
			}
			OR = {
				heavy_troops = {
					who = knights
					value = 0.1
				}
				heavy_troops = {
					who = vampire_knights
					value = 0.1
				}
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				NOT = { martial = 7 }
			}
			heavy_troops = {
				who = heavy_infantry
				value = 0.1
			}
		}
	}

	change_phase_to = melee

	knights_defensive = -0.5
	vampire_knights_defensive = -0.5
	horse_archers_defensive = -0.5
	heavy_infantry_defensive = -0.3
	knights_offensive = 1.2
	vampire_knights_offensive = 1.2
	horse_archers_offensive = 1.2
	heavy_infantry_offensive = 0.6
}
timid_advance_tactic = {
	days = 10
	sprite = 2
	group = advance

	trigger = {
		phase = melee
		troops = {
			who = heavy_infantry
			value = 0.01
		}
		flank_has_leader = yes
		leader = {
			OR = {
				trait = craven
				trait = organizer
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				NOT = { martial = 7 }
			}
			heavy_troops = {
				who = heavy_infantry
				value = 0.5
			}
		}
	}

	knights_offensive = -2.1
	vampire_knights_offensive = -2.1
	heavy_infantry_offensive = -2.1
	pikemen_offensive = 1.2

	enemy = {
		group = stand_fast
		factor = 1.2
	}
}
confused_orders_tactic = {
	days = 12
	sprite = 6
	group = volley

	trigger = {
		phase = skirmish
		troops = {
			who = archers
			value = 0.01
		}
		flank_has_leader = yes
		leader = {
			OR = {
				trait = lisp
				trait = stutter
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				NOT = { martial = 7 }
			}
			light_troops = {
				who = archers
				value = 0.5
			}
		}
	}

	archers_offensive = -1.2
	gunpowder_offensive = -1.2
	artillery_offensive = -2.4
	horse_archers_offensive = -1.2

	enemy = {
		group = charge
		factor = -1.2
	}
}
hesitant_commander_tactic = {
	days = 10
	sprite = 3
	group = stand_fast

	trigger = {
		phase = melee
		flank_has_leader = yes
		leader = {
			OR = {
				trait = slothful
				trait = shy
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				NOT = { martial = 7 }
			}
		}
	}

	knights_offensive = -1.5
	heavy_infantry_offensive = -1.5
}
charging_own_skirmishers_tactic = {
	days = 6
	sprite = 5 # index of icon
	group = charge

	trigger = {
		phase = skirmish
		is_flanking = no
		days = 10 # duration of combat >= 10 days
		flank_has_leader = yes
		leader = { trait = cruel }
	}

	mean_time_to_happen = {
		days = 10 # this has nothing to do with days, it just represents relative chance of selecting this tactic, higher is better
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				NOT = { martial = 10 }
			}
			OR = {
				heavy_troops = {
					who = knights
					value = 0.1
				}
				heavy_troops = {
					who = vampire_knights
					value = 0.1
				}
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				NOT = { martial = 10 }
			}
			OR = {
				light_troops = {
					who = light_cavalry
					value = 0.1
				}
				light_troops = {
					who = camel_cavalry
					value = 0.1
				}
			}
		}
	}

	change_phase_to = melee

	knights_offensive = 3
	vampire_knights_offensive = 3
	light_cavalry_offensive = 1.8
	camel_cavalry_offensive = 1.8
	archers_offensive = -4.2
	archers_defensive = -0.5
	gunpowder_offensive = -4.2
	horse_archers_offensive = -1.2
	horse_archers_defensive = -0.3
}

# Good tactics
inspired_defense_tactic = {
	days = 8
	sprite = 2 # index of icon
	group = defensive

	trigger = {
		phase = skirmish
		flank_has_leader = yes
		leader = {
			OR = {
				trait = inspiring_leader
				trait = defensive_leader
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 14
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 14
				trait = defensive_leader
			}
		}
	}

	knights_defensive = 1.5
	heavy_infantry_defensive = 1.5
	light_infantry_defensive = 1.5
	light_cavalry_defensive = 1.5
	camel_cavalry_defensive = 1.5
	archers_defensive = 1.5
	gunpowder_defensive = 1.5
	artillery_defensive = 0.5
	horse_archers_defensive = 1.5
	pikemen_defensive = 1.5
	war_elephants_defensive = 1.5

	enemy = {
		group = charge
		factor = 1.2
	}
	enemy = {
		group = advance
		factor = 0.6
	}
}
heroic_countercharge_tactic = {
	days = 8
	sprite = 5
	group = charge

	trigger = {
		phase = melee
		troops = {
			who = knights
			value = 0.01
		}
		OR = {
			troops = {
				who = light_cavalry
				value = 0.01
			}
			troops = {
				who = camel_cavalry
				value = 0.01
			}
		}
		flank_has_leader = yes
		leader = {
			OR = {
				trait = aggressive_leader
				trait = brave
				trait = cavalry_leader
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 14
			}
			heavy_troops = {
				who = knights
				value = 0.1
			}
		}
	}

	knights_offensive = 3.6
	light_cavalry_offensive = 3.6
	camel_cavalry_offensive = 3.6
	heavy_infantry_offensive = 0.6
	pikemen_offensive = 0.6

	enemy = {
		group = charge
		factor = 3
	}
}

#Call to Glory tactic. - Generic
glorious_countercharge_tactic = {
	days = 8
	sprite = 5
	group = charge

	trigger = {
		phase = melee
		OR = {
			troops = {
				who = light_cavalry
				value = 0.01
			}
			troops = {
				who = light_infantry
				value = 0.01
			}
			troops = {
				who = pikemen
				value = 0.01
			}
			troops = {
				who = horse_archers
				value = 0.01
			}
		}
		flank_has_leader = yes
		leader = {
			has_character_modifier = call_to_glory
		}
	}

	mean_time_to_happen = {
		days = 15
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 14
			}
			light_troops = {
				who = light_cavalry
				value = 0.1
			}
		}
	}

	heavy_infantry_offensive = 1.75
	light_infantry_offensive = 1.75
	light_cavalry_offensive = 1.75
	camel_cavalry_offensive = 1.75
	archers_offensive = 1.75
	horse_archers_offensive = 1.75
	pikemen_offensive = 1.75

	enemy = {
		group = charge
		factor = 3
	}
}
#Call to Glory - Winter's Maw Tactic - Norse (heavy infantry)
glorious_norse_tactic = {
	days = 8
	sprite = 5
	group = charge

	trigger = {
		phase = melee
		troops = {
			who = heavy_infantry
			value = 0.01
		}
		leader = {
			has_character_modifier = call_to_glory
			society_member_of = warband_of_chaos
		}
	}

	mean_time_to_happen = {
		days = 15
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			heavy_troops = {
				who = heavy_infantry
				value = 0.7
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = {
				who = heavy_infantry
				value = 0.6
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			heavy_troops = {
				who = heavy_infantry
				value = 0.5
			}
		}
	}

	light_infantry_defensive = 1.5
	heavy_infantry_offensive = 2.75

	enemy = {
		group = stand_fast
		factor = 1
	}
}
#Call to Glory - Wolf's Howling Tactic - Tengri (horse archers)
glorious_tengri_tactic = {
	days = 8
	sprite = 1
	group = defensive

	trigger = {
		phase = melee
		troops = {
			who = horse_archers
			value = 0.05
		}
		leader = {
			has_character_modifier = call_to_glory
			society_member_of = warband_of_chaos
			NOR = {
				any_current_enemy = { has_opinion_modifier = { who = PREV modifier = opinion_honorable_combat } }
				AND = {
					OR = {
						is_ruler = no
						is_playable = no
					}
					liege = { any_current_enemy = { has_opinion_modifier = { who = PREV modifier = opinion_honorable_combat } } }
				}
			}
			location = {
				NOR = {
					terrain = forest
					terrain = hills
					terrain = woods
					terrain = mountain
					terrain = impassable_mountains
					terrain = jungle
					terrain = marsh
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 15
		modifier = {
			factor = 2
			flank_has_leader = yes
			leader = {
				martial = 10
			}
			light_troops = {
				who = horse_archers
				value = 0.3
			}
		}
		modifier = {
			factor = 2
			flank_has_leader = yes
			leader = {
				martial = 4
			}
			light_troops = {
				who = horse_archers
				value = 0.4
			}
		}
	}

	change_phase_to = skirmish

	horse_archers_offensive =  2.0
	light_cavalry_offensive = 1.2
}
#Call to Glory - Slavic Last Stand Tactic - Slavic (light infantry)
glorious_slavic_tactic = {
	days = 8
	sprite = 3
	group = stand_fast

	trigger = {
		phase = melee
		troops = {
			who = light_infantry
			value = 0.01
		}
		leader = {
			has_character_modifier = call_to_glory
			society_member_of = warband_of_chaos
		}
	}

	mean_time_to_happen = {
		days = 15
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			troops = {
				who = light_infantry
				value = 0.4
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			troops = {
				who = light_infantry
				value = 0.3
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			troops = {
				who = light_infantry
				value = 0.2
			}
		}
	}

	light_infantry_offensive = 1.25
	light_infantry_defensive = 2.5
	light_cavalry_defensive = 1.25

	enemy = {
		group = charge
		factor = 3
	}
}
#Call to Glory - Baltic Last Stand Tactic - Baltic (heavy infantry)
glorious_baltic_tactic = {
	days = 8
	sprite = 3
	group = stand_fast

	trigger = {
		phase = melee
		troops = {
			who = heavy_infantry
			value = 0.01
		}
		leader = {
			has_character_modifier = call_to_glory
			society_member_of = warband_of_nurgle
		}
	}

	mean_time_to_happen = {
		days = 15
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			heavy_troops = {
				who = heavy_infantry
				value = 0.7
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = {
				who = heavy_infantry
				value = 0.6
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			heavy_troops = {
				who = heavy_infantry
				value = 0.5
			}
		}
	}

	heavy_infantry_offensive = 1.25
	heavy_infantry_defensive = 2.5
	light_infantry_defensive = 1.5

	enemy = {
		group = charge
		factor = 3
	}
}
#Call to Glory - Elk's Lament Tactic - Finnish (archers)
glorious_finnish_tactic = {
	days = 8
	sprite = 6
	group = volley

	trigger = {
		phase = melee
		troops = {
			who = archers
			value = 0.05
		}
		leader = {
			has_character_modifier = call_to_glory
			society_member_of = warband_of_slaanesh
			NOR = {
				any_current_enemy = { has_opinion_modifier = { who = PREV modifier = opinion_honorable_combat } }
				AND = {
					OR = {
						is_ruler = no
						is_playable = no
					}
					liege = { any_current_enemy = { has_opinion_modifier = { who = PREV modifier = opinion_honorable_combat } } }
				}
			}
			location = {
				NOT = { terrain = desert }
			}
		}
	}

	mean_time_to_happen = {
		days = 15
		modifier = {
			factor = 2
			flank_has_leader = yes
			leader = {
				martial = 10
			}
			light_troops = {
				who = archers
				value = 0.3
			}
		}
		modifier = {
			factor = 2
			flank_has_leader = yes
			leader = {
				martial = 4
			}
			light_troops = {
				who = archers
				value = 0.4
			}
		}
	}

	change_phase_to = skirmish

	archers_offensive =  2.5
	light_infantry_defensive = 1.5
}
#Call to Glory - Bull Horns Tactic - West-africans (pikemen)
glorious_west_african_tactic = {
	days = 8
	sprite = 5
	group = charge

	trigger = {
		phase = melee
		troops = {
			who = pikemen
			value = 0.01
		}
		leader = {
			has_character_modifier = call_to_glory
			society_member_of = warband_of_khorne
		}
	}

	mean_time_to_happen = {
		days = 15
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			heavy_troops = {
				who = pikemen
				value = 0.7
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = {
				who = pikemen
				value = 0.6
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			heavy_troops = {
				who = pikemen
				value = 0.5
			}
		}
	}

	archers_offensive = 1.5
	light_infantry_offensive = 1.5
	pikemen_offensive = 2.5
	enemy = {
		group = advance
		factor = 3
	}
}
#Call to Glory - Sunburst Tactic - Zunists (archers)
glorious_zun_tactic = {
	days = 8
	sprite = 6
	group = volley

	trigger = {
		phase = skirmish
		troops = {
			who = archers
			value = 0.01
		}
		leader = {
			has_character_modifier = call_to_glory
			society_member_of = warband_of_tzeentch
		}
	}

	mean_time_to_happen = {
		days = 15
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			light_troops = {
				who = archers
				value = 0.6
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_troops = {
				who = archers
				value = 0.5
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			light_troops = {
				who = archers
				value = 0.4
			}
		}
	}

	archers_offensive = 3.75
	archers_defensive = 1.25

	enemy = {
		group = harass
		factor = 1
	}
	enemy = {
		group = charge
		factor = 1
	}
}
#Call to Glory - Balanced Tactic - Bon (light infantry/cavalry)
glorious_bon_tactic = {
	days = 8
	sprite = 3
	group = stand_fast

	trigger = {
		phase = melee
		troops = {
			who = light_infantry
			value = 0.01
		}
		troops = {
			who = light_cavalry
			value = 0.01
		}
		leader = {
			has_character_modifier = call_to_glory
			society_member_of = warband_of_chaos
		}
	}

	mean_time_to_happen = {
		days = 15
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			troops = {
				who = light_infantry
				value = 0.6
			}
			light_troops = {
				who = light_cavalry
				value = 0.4
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			troops = {
				who = light_infantry
				value = 0.5
			}
			light_troops = {
				who = light_cavalry
				value = 0.3
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			troops = {
				who = light_infantry
				value = 0.4
			}
			light_troops = {
				who = light_cavalry
				value = 0.2
			}
		}
	}

	light_infantry_offensive = 1.5
	light_infantry_defensive = 1.5
	light_cavalry_offensive = 1.5
	light_cavalry_defensive = 1.5

	enemy = {
		group = charge
		factor = 3
	}
}
#Call to Glory - Quincunx Tactic - Hellenic (pikemen)
glorious_hellenic_tactic = {
	days = 8
	sprite = 3
	group = stand_fast

	trigger = {
		phase = melee
		troops = {
			who = pikemen
			value = 0.01
		}
		leader = {
			has_character_modifier = call_to_glory
			society_member_of = warband_of_chaos
		}
	}

	mean_time_to_happen = {
		days = 15
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			heavy_troops = {
				who = pikemen
				value = 0.6
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = {
				who = pikemen
				value = 0.5
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			heavy_troops = {
				who = pikemen
				value = 0.4
			}
		}
	}

	pikemen_offensive = 1.75
	pikemen_defensive = 2.75
	light_infantry_offensive = -0.5

	enemy = {
		group = charge
		factor = 3
	}
}

###########################

clever_ambush_tactic = {
	days = 6
	sprite = 3
	group = stand_fast

	trigger = {
		phase = melee
		troops = {
			who = light_infantry
			value = 0.1
		}
		OR = {
			troops = {
				who = horse_archers
				value = 0.1
			}
			troops = {
				who = light_cavalry
				value = 0.1
			}
			troops = {
				who = camel_cavalry
				value = 0.1
			}
		}
		flank_has_leader = yes
		leader = {
			OR = {
				trait = trickster
				trait = quick
				trait = genius
				trait = shrewd
			}
			NOR = {
				any_current_enemy = { has_opinion_modifier = { who = PREV modifier = opinion_honorable_combat } }
				AND = {
					OR = {
						is_ruler = no
						is_playable = no
					}
					liege = { any_current_enemy = { has_opinion_modifier = { who = PREV modifier = opinion_honorable_combat } } }
				}
			}
			location = {
				OR = {
					terrain = forest
					terrain = hills
					terrain = mountain
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 14
			}
			OR = {
				troops = {
					who = horse_archers
					value = 0.2
				}
				troops = {
					who = light_cavalry
					value = 0.2
				}
				troops = {
					who = camel_cavalry
					value = 0.2
				}
			}
			troops = {
				who = light_infantry
				value = 0.2
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 14
				trait = trickster
			}
			OR = {
				troops = {
					who = horse_archers
					value = 0.2
				}
				troops = {
					who = light_cavalry
					value = 0.2
				}
				troops = {
					who = camel_cavalry
					value = 0.2
				}
			}
			troops = {
				who = light_infantry
				value = 0.2
			}
		}
	}

	light_cavalry_offensive = 2.4
	camel_cavalry_offensive = 2.4
	light_infantry_offensive = 1.2
	horse_archers_offensive = 1.2
	archers_offensive = 1.2
	artillery_offensive = 1.2
	gunpowder_offensive = 1.2
	enemy = {
		group = advance
		factor = 3
	}
}
religious_fervour_tactic = {
	days = 10
	sprite = 2
	group = advance

	trigger = {
		phase = melee
		flank_has_leader = yes
		OR = {
			leader = {
				trait = zealous
				trait = inspiring_leader
			}
			leader = { trait = possessed }
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 14
				trait = possessed
			}
		}
	}

	knights_offensive = 1.8
	vampire_knights_offensive = 1.5
	heavy_infantry_offensive = 1.5
	light_infantry_offensive = 2.2
	light_cavalry_offensive = 1.5
	camel_cavalry_offensive = 1.5
	archers_offensive = 1.5
	gunpowder_offensive = 1.5
	artillery_offensive = 1.5
	siege_tanks_offensive = 1.5
	horse_archers_offensive = 1.5
	pikemen_offensive = 1.5
	war_elephants_offensive = 1.5
}

############################
# Culture Specific Tactics #
############################

# Altaic (Mongol, etc)
retreat_and_ambush_tactic = {
	days = 10
	sprite = 1
	group = defensive

	trigger = {
		phase = melee
		troops = {
			who = horse_archers
			value = 0.2
		}
		flank_has_leader = yes
		leader = {
			OR = {
				culture_group = kislevite_group
				culture_group = kurgan_group
				culture_group = hung_group
			}
			NOR = {
				any_current_enemy = { has_opinion_modifier = { who = PREV modifier = opinion_honorable_combat } }
				AND = {
					OR = {
						is_ruler = no
						is_playable = no
					}
					liege = { any_current_enemy = { has_opinion_modifier = { who = PREV modifier = opinion_honorable_combat } } }
				}
			}
			location = {
				NOR = {
					terrain = mountain
					terrain = impassable_mountains
					terrain = jungle
					terrain = marsh
					terrain = urban
					terrain = city
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 2
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			troops = {
				who = horse_archers
				value = 0.3
			}
		}
		modifier = {
			factor = 2
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				light_troops = {
					who = light_cavalry
					value = 0.3
				}
				light_troops = {
					who = camel_cavalry
					value = 0.3
				}
			}
		}
	}

	change_phase_to = skirmish

	horse_archers_offensive =  2.0
	light_cavalry_offensive = 1.2
	archers_offensive = 1.0
	heavy_infantry_offensive = 1.0
}
# Scandinavian
berserker_charge_tactic = {
	days = 8
	sprite = 5
	group = charge

	trigger = {
		phase = melee
		troops = {
			who = heavy_infantry
			value = 0.01
		}
		flank_has_leader = yes
		leader = {
			OR = {
				culture_group = norscan_group
				culture_group = kurgan_group
				culture_group = hung_group
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 10
			}
			heavy_troops = {
				who = heavy_infantry
				value = 0.3
			}
		}
	}

	heavy_infantry_offensive = 3.6
	light_infantry_offensive = 1.2

	heavy_infantry_defensive = -0.5
	light_infantry_defensive = -0.3

	enemy = {
		group = stand_fast
		factor = 1
	}
}
schiltron_formation_tactic = {
	days = 10
	sprite = 13
	group = stand_fast

	trigger = {
		phase = melee
		troops = {
			who = pikemen
			value = 0.01
		}
		flank_has_leader = yes
		leader = {
			OR = {
				culture_group = tilean_group
				culture_group = estalian_group
				culture_group = dwarf_group
			}
		}
	}

	mean_time_to_happen = {
		days = 4
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			heavy_troops = {
				who = pikemen
				value = 0.6
			}
			heavy_troops = {
				who = heavy_infantry
				value = 0.3
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = {
				who = pikemen
				value = 0.5
			}
			heavy_troops = {
				who = heavy_infantry
				value = 0.3
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			heavy_troops = {
				who = pikemen
				value = 0.4
			}
			heavy_troops = {
				who = heavy_infantry
				value = 0.2
			}
		}
	}

	light_infantry_defensive = 1.2
	heavy_infantry_defensive = 2.4
	pikemen_defensive = 3.6

	archers_offensive = 0.6
	gunpowder_offensive = 0.6
	artillery_offensive = 0.6
	pikemen_offensive = 2.4

	light_cavalry_defensive = -0.4
	knights_defensive = -0.4
	horse_archers_defensive = -0.4

	enemy = {
		group = charge
		factor = 3
	}
}
pike_column_advance_tactic = {
	days = 8
	sprite = 2
	group = advance

	trigger = {
		phase = melee
		troops = {
			who = pikemen
			value = 0.01
		}
		flank_has_leader = yes
		leader = {
			OR = {
				culture_group = tilean_group
				culture_group = estalian_group
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			heavy_troops = {
				who = pikemen
				value = 0.6
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = {
				who = pikemen
				value = 0.5
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			heavy_troops = {
				who = pikemen
				value = 0.4
			}
		}
	}

	knights_offensive = 0.6
	heavy_infantry_offensive = 1.2
	pikemen_offensive = 3
	enemy = {
		group = stand_fast
		factor = 3
	}
}
massive_longbow_volley_tactic = {
	days = 6
	sprite = 12
	group = volley

	trigger = {
		phase = skirmish
		troops = {
			who = archers
			value = 0.01
		}
		flank_has_leader = yes
		leader = {
			OR = {
				culture_group = asrai_group
				culture_group = asur_group
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			light_troops = {
				who = archers
				value = 0.6
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_troops = {
				who = archers
				value = 0.5
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			light_troops = {
				who = archers
				value = 0.4
			}
		}
	}

	archers_offensive = 3.5

	enemy = {
		group = harass
		factor = 1
	}
	enemy = {
		group = charge
		factor = 1
	}
}
couched_lance_charge_tactic = {
	days = 6
	sprite = 5
	group = charge

	trigger = {
		phase = melee
		troops = {
			who = knights
			value = 0.01
		}
		flank_has_leader = yes
		leader = {
			OR = {
				culture_group = estalian_group
				culture_group = tilean_group
				culture_group = kislevite_group
				culture_group = bretonnian_group
				culture_group = imperial_group
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			heavy_troops = {
				who = knights
				value = 0.6
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = {
				who = knights
				value = 0.5
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			heavy_troops = {
				who = knights
				value = 0.4
			}
		}
	}

	knights_offensive = 4.2
	heavy_infantry_offensive = -0.6
	pikemen_offensive = -0.6
	enemy = {
		group = advance
		factor = 3
	}
}
# Dwarf
mountain_ambush_tactic = {
	days = 12
	sprite = 3
	group = stand_fast

	trigger = {
		phase = melee
		troops = {
			who = heavy_infantry
			value = 0.1
		}
		flank_has_leader = yes
		leader = {
			martial = 9
			culture_group = dwarf_group
			NOR = {
				any_current_enemy = { has_opinion_modifier = { who = PREV modifier = opinion_honorable_combat } }
				AND = {
					OR = {
						is_ruler = no
						is_playable = no
					}
					liege = { any_current_enemy = { has_opinion_modifier = { who = PREV modifier = opinion_honorable_combat } } }
				}
			}
			location = {
				OR = {
					terrain = hills
					terrain = mountain
					terrain = impassable_mountains
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			troops = {
				who = heavy_infantry
				value = 0.2
			}
		}
		modifier = {
			factor = 2
			troops = {
				who = archers
				value = 0.1
			}
		}
		modifier = {
			factor = 2
			flank_has_leader = yes
			leader = {
				martial = 14
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				trait = trickster
			}
		}
	}

	light_cavalry_offensive = 2.4
	light_infantry_offensive = 1.5
	heavy_infantry_offensive = 1.25
	horse_archers_offensive = 1.5
	archers_offensive = 1.2
	enemy = {
		group = advance
		factor = 3
	}
}
# Arab
desert_ambush_tactic = {
	days = 10
	sprite = 3
	group = stand_fast

	trigger = {
		phase = melee
		OR = {
			troops = {
				who = horse_archers
				value = 0.1
			}
			troops = {
				who = light_cavalry
				value = 0.1
			}
			troops = {
				who = camel_cavalry
				value = 0.1
			}
		}
		troops = {
			who = light_infantry
			value = 0.1
		}
		flank_has_leader = yes
		leader = {
			culture_group = arabyan_group
			NOR = {
				any_current_enemy = { has_opinion_modifier = { who = PREV modifier = opinion_honorable_combat } }
				AND = {
					OR = {
						is_ruler = no
						is_playable = no
					}
					liege = { any_current_enemy = { has_opinion_modifier = { who = PREV modifier = opinion_honorable_combat } } }
				}
			}
			location = { terrain = desert }
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 10
			}
			OR = {
				troops = {
					who = horse_archers
					value = 0.2
				}
				troops = {
					who = light_cavalry
					value = 0.2
				}
				troops = {
					who = camel_cavalry
					value = 0.2
				}
			}
			troops = {
				who = light_infantry
				value = 0.2
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 10
				trait = trickster
			}
			OR = {
				troops = {
					who = horse_archers
					value = 0.2
				}
				troops = {
					who = light_cavalry
					value = 0.2
				}
				troops = {
					who = camel_cavalry
					value = 0.2
				}
			}
			troops = {
				who = light_infantry
				value = 0.2
			}
		}
	}

	light_cavalry_offensive = 1.8
	camel_cavalry_offensive = 2.4
	light_infantry_offensive = 1.2
	horse_archers_offensive = 1.2
	archers_offensive = 1.2
	enemy = {
		group = advance
		factor = 3
	}
}
# Byzantine
embolon_charge_formation_tactic = {
	days = 8
	sprite = 5
	group = charge

	trigger = {
		phase = melee
		troops = {
			who = knights
			value = 0.01
		}
		flank_has_leader = yes
		leader = { culture_group = bretonnian_group }
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			heavy_troops = {
				who = knights
				value = 0.6
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = {
				who = knights
				value = 0.5
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			heavy_troops = {
				who = knights
				value = 0.4
			}
		}
	}

	knights_offensive = 2.4
	horse_archers_offensive = 1.2
	light_cavalry_offensive = 0.8
	heavy_infantry_offensive = -1.2
	pikemen_offensive = 0.6
	enemy = {
		group = advance
		factor = 3
	}
}
# War Elephants
crushing_charge_tactic = {
	days = 6
	sprite = 8
	group = charge

	trigger = {
		phase = skirmish
		is_flanking = no

		OR = {
			troops = {
				who = war_elephants
				value = 0.01
			}
			troops = {
				who = knights
				value = 0.2
			}
		}

		days = 10 # duration of combat >= 10 days
	}

	mean_time_to_happen = {
		days = 2 # this has nothing to do with days, it just represents relative chance of selecting this tactic, higher is better
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			troops = {
				who = war_elephants
				value = 0.04
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			troops = {
				who = war_elephants
				value = 0.03
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			troops = {
				who = war_elephants
				value = 0.02
			}
		}
		modifier = {
			factor = 8
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			troops = {
				who = knights
				value = 0.4
			}
		}
	}

	change_phase_to = melee

	knights_offensive = 1.75
	war_elephants_offensive = 2.5
}
gray_wall_tactic = {
	days = 8
	sprite = 8 # index of icon
	group = defensive

	trigger = {
		phase = skirmish
		troops = {
			who = war_elephants
			value = 0.025
		}
	}

	mean_time_to_happen = {
		days = 5
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_troops = {
				who = archers
				value = 0.3
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			troops = {
				who = war_elephants
				value = 0.05
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			troops = {
				who = war_elephants
				value = 0.075
			}
		}
	}

	light_infantry_defensive = 1.2
	heavy_infantry_defensive = 3
	pikemen_defensive = 2.4
	war_elephants_defensive = 1.5

	archers_offensive = 1.2
	archers_defensive = 0.6

	gunpowder_offensive = 1.2
	gunpowder_defensive = 0.6
	artillery_offensive = 1.2
	artillery_defensive = 0.6

	light_cavalry_defensive = -0.5
	knights_defensive = -0.5
	horse_archers_defensive = -0.5
}
force_back_tactic = {
	days = 6
	sprite = 3
	group = stand_fast

	trigger = {
		phase = melee
		OR = {
			troops = {
				who = war_elephants
				value = 0.02
			}
			troops = {
				who = heavy_infantry
				value = 0.03
			}
			troops = {
				who = pikemen
				value = 0.03
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			OR = {
				heavy_troops = {
					who = pikemen
					value = 0.7
				}
				heavy_troops = {
					who = heavy_infantry
					value = 0.3
				}
				troops = {
					who = war_elephants
					value = 0.04
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				heavy_troops = {
					who = pikemen
					value = 0.6
				}
				heavy_troops = {
					who = heavy_infantry
					value = 0.3
				}
				troops = {
					who = war_elephants
					value = 0.02
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			OR = {
				heavy_troops = {
					who = pikemen
					value = 0.5
				}
				heavy_troops = {
					who = heavy_infantry
					value = 0.3
				}
				troops = {
					who = war_elephants
					value = 0.01
				}
			}
		}
	}

	knights_offensive = -1.8
	vampire_knights_offensive = -1.8
	archers_defensive = -1.0
	gunpowder_defensive = -1.0
	artillery_defensive = -1.0
	light_cavalry_defensive = -0.2
	horse_archers_offensive = -1.0
	light_infantry_offensive = 1.6
	heavy_infantry_offensive = 1.6
	pikemen_offensive = 2.4
	war_elephants_offensive = 1.2
	enemy = {
		group = charge
		factor = 3
	}
}
elephant_trample_tactic = {
	days = 6
	sprite = 5
	group = advance

	trigger = {
		phase = melee
		troops = {
			who = war_elephants
			value = 0.02
		}
	}

	mean_time_to_happen = {
		days = 4
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			OR = {
				heavy_troops = {
					who = pikemen
					value = 0.7
				}
				heavy_troops = {
					who = heavy_infantry
					value = 0.6
				}
				troops = {
					who = war_elephants
					value = 0.05
				}
				troops = {
					who = knights
					value = 0.4
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				heavy_troops = {
					who = pikemen
					value = 0.6
				}
				heavy_troops = {
					who = heavy_infantry
					value = 0.5
				}
				troops = {
					who = war_elephants
					value = 0.04
				}
				troops = {
					who = knights
					value = 0.3
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			OR = {
				heavy_troops = {
					who = pikemen
					value = 0.5
				}
				heavy_troops = {
					who = heavy_infantry
					value = 0.4
				}
				troops = {
					who = war_elephants
					value = 0.01
				}
				troops = {
					who = knights
					value = 0.25
				}
			}
		}
	}

	knights_offensive = 2.0
	heavy_infantry_offensive = 2.0
	pikemen_offensive = 2.0
	war_elephants_offensive = 2.5
	war_elephants_defensive = -0.4
	light_cavalry_offensive = 0.5
	light_cavalry_defensive = -0.2
}
# Kislevites/Gospodars
repeated_charge_tactic = {
	days = 10
	sprite = 5
	group = charge

	trigger = {
		OR = {
			phase = melee
			phase = skirmish
		}
		OR = {
			troops = {
				who = light_cavalry
				value = 0.04
			}
			troops = {
				who = knights
				value = 0.02
			}
		}
		flank_has_leader = yes
		leader = {
			OR = {
				culture = kislevite
				culture = ungol
				culture = gospodar
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			OR = {
				light_troops = {
					who = light_cavalry
					value = 0.6
				}
				heavy_troops = {
					who = knights
					value = 0.5
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				light_troops = {
					who = light_cavalry
					value = 0.5
				}
				heavy_troops = {
					who = knights
					value = 0.4
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 14
			}
			OR = {
				light_troops = {
					who = light_cavalry
					value = 0.4
				}
				heavy_troops = {
					who = knights
					value = 0.3
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			NOT = {
				phase = melee
			}
			OR = {
				light_troops = {
					who = light_cavalry
					value = 0.3
				}
				heavy_troops = {
					who = knights
					value = 0.2
				}
			}
		}
	}

	change_phase_to = melee

	knights_offensive = 3
	light_cavalry_offensive = 2
	heavy_infantry_offensive = -1.5
	pikemen_offensive = -1.5
	enemy = {
		group = advance
		factor = 1
	}
}
# Gunpowder
gun_volley_tactic = {
	days = 6
	sprite = 11
	group = volley

	trigger = {
		OR = {
			phase = skirmish
			phase = melee
		}
		troops = {
			who = gunpowder
			value = 0.03
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			heavy_troops = {
				who = gunpowder
				value = 0.5
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = {
				who = gunpowder
				value = 0.4
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			heavy_troops = {
				who = gunpowder
				value = 0.3
			}
		}
	}

	light_infantry_offensive = 1.5
	light_infantry_defensive = 1
	gunpowder_offensive = 3
	artillery_offensive = 2
	gunpowder_defensive = 2
	artillery_defensive = 1

	enemy = {
		group = defensive
		factor = 1
	}
}
#Artillery
artillery_barrage_tactic = {
	days = 8
	sprite = 9
	group = volley

	trigger = {
		phase = skirmish
		OR = {
			troops = {
				who = artillery
				value = 0.03
			}
			troops = {
				who = siege_tanks
				value = 0.02
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				learning = 6
			}
			OR = {
				heavy_troops = {
					who = artillery
					value = 0.3
				}
				heavy_troops = {
					who = siege_tanks
					value = 0.3
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				learning = 8
			}
			OR = {
				heavy_troops = {
					who = artillery
					value = 0.2
				}
				heavy_troops = {
					who = siege_tanks
					value = 0.2
				}
			}
		}
		modifier = {
			factor = 2
			flank_has_leader = yes
			leader = {
				learning = 10
			}
			OR = {
				heavy_troops = {
					who = artillery
					value = 0.1
				}
				heavy_troops = {
					who = siege_tanks
					value = 0.1
				}
			}
		}
	}

	artillery_offensive = 4.0
	artillery_defensive = 2.0
	siege_tanks_offensive = 4.0
	siege_tanks_defensive = 2.0

	enemy = {
		group = defensive
		factor = 1
	}
}
# Khorne Bloodletters
bloodletter_charge_tactic = {
	days = 8
	sprite = 15 # index of icon
	group = charge

	trigger = {
		phase = skirmish
		flank_has_leader = yes
		leader = { religion = khorne }
		troops = {
			who = daemonic_host
			value = 0.01
		}
	}

	mean_time_to_happen = {
		days = 15 # this has nothing to do with days, it just represents relative chance of selecting this tactic, higher is better
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { martial = 10 }
			heavy_troops = {
				who = daemonic_host
				value = 0.07
			}
		}
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { martial = 12 }
			heavy_troops = {
				who = daemonic_host
				value = 0.06
			}
		}
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { martial = 14 }
			heavy_troops = {
				who = daemonic_host
				value = 0.05
			}
		}
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { martial = 16 }
			heavy_troops = {
				who = heavy_infantry
				value = 0.3
			}
		}
	}
	change_phase_to = melee

	knights_defensive = -0.5
	light_cavalry_defensive = -0.5
	heavy_infantry_defensive = -0.5
	pikemen_defensive = -0.5
	war_elephants_defensive = -0.5
	daemonic_host_offensive = 2
	daemonic_host_defensive = 0.75
}
# Nurgle Plaguebearers
plaguebearer_defense_tactic = {
	days = 7
	sprite = 15
	group = stand_fast

	trigger = {
		phase = melee
		flank_has_leader = yes
		leader = { religion = nurgle }
		troops = {
			who = daemonic_host
			value = 0.01
		}
	}

	mean_time_to_happen = {
		days = 15
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { martial = 10 }
			heavy_troops = {
				who = daemonic_host
				value = 0.07
			}
		}
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { martial = 12 }
			heavy_troops = {
				who = daemonic_host
				value = 0.06
			}
		}
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { martial = 14 }
			heavy_troops = {
				who = daemonic_host
				value = 0.05
			}
		}
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { martial = 16 }
			heavy_troops = {
				who = heavy_infantry
				value = 0.3
			}
		}
	}

	knights_offensive = -0.5
	light_cavalry_offensive = -0.5
	heavy_infantry_offensive = -0.5
	pikemen_offensive = -0.5
	war_elephants_offensive = -0.5
	daemonic_host_offensive = 0.75
	daemonic_host_defensive = 2
}
# Daemonettes leap
daemonettes_leap_tactic = {
	days = 6
	sprite = 15
	group = advance

	trigger = {
		phase = melee
		flank_has_leader = yes
		leader = { religion = slaanesh }
		troops = {
			who = daemonic_host
			value = 0.01
		}
	}

	mean_time_to_happen = {
		days = 15
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { martial = 10 }
			heavy_troops = {
				who = daemonic_host
				value = 0.07
			}
		}
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { martial = 12 }
			heavy_troops = {
				who = daemonic_host
				value = 0.06
			}
		}
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { martial = 14 }
			heavy_troops = {
				who = daemonic_host
				value = 0.05
			}
		}
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { martial = 16 }
			heavy_troops = {
				who = heavy_infantry
				value = 0.3
			}
		}
	}
	change_phase_to = skirmish

	light_infantry_offensive = 0.5
	light_infantry_defensive = -1.0
	light_cavalry_offensive = 0.5
	light_cavalry_defensive = -1.0
	heavy_infantry_offensive = 0.5
	heavy_infantry_defensive = 0.5
	daemonic_host_offensive = 1.50
	daemonic_host_defensive = 1.25
}
#Flamers burst
flamers_burst_tactic = {
	days = 9
	sprite = 15
	group = volley

	trigger = {
		phase = skirmish
		flank_has_leader = yes
		leader = { religion = tzeentch }
		troops = {
			who = daemonic_host
			value = 0.01
		}
	}

	mean_time_to_happen = {
		days = 15
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { martial = 10 }
			heavy_troops = {
				who = daemonic_host
				value = 0.07
			}
		}
		modifier = {
			factor = 2.5
			leader = { martial = 12 }
			heavy_troops = {
				who = daemonic_host
				value = 0.06
			}
		}
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { martial = 14 }
			heavy_troops = {
				who = daemonic_host
				value = 0.05
			}
		}
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { martial = 16 }
			heavy_troops = {
				who = heavy_infantry
				value = 0.3
			}
		}
	}

	archers_offensive = 0.5
	light_infantry_defensive = 0.5
	heavy_infantry_defensive = 0.5
	daemonic_host_offensive = 3.25
	daemonic_host_defensive = -0.5
}
###DAEMON PRINCES TACTICS
daemonic_defense_tactic = {
	days = 8
	sprite = 15 # index of icon
	group = defensive

	trigger = {
		phase = skirmish
		flank_has_leader = yes
		leader = {
			OR = {
				trait = prince_khorne
				trait = prince_nurgle
				trait = prince_slaanesh
				trait = prince_tzeentch
				trait = prince_undivided
			}
		}
		troops = {
			who = daemonic_host
			value = 0.01
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = { martial = 10 }
			heavy_troops = {
				who = daemonic_host
				value = 0.3
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = { martial = 12 }
			heavy_troops = {
				who = daemonic_host
				value = 0.2
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = { martial = 14 }
			heavy_troops = {
				who = daemonic_host
				value = 0.1
			}
		}
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { martial = 16 }
			heavy_troops = {
				who = heavy_infantry
				value = 0.3
			}
		}
	}

	knights_defensive = 1
	light_cavalry_defensive = 1
	pikemen_defensive = 1
	pikemen_morale = 0.5
	light_infantry_defensive = 1
	light_infantry_morale = 0.5
	heavy_infantry_defensive = 1
	heavy_infantry_morale = 0.5
	daemonic_host_defensive = 2
	daemonic_host_morale = 0.75
}
daemonic_countercharge_tactic = {
	days = 6
	sprite = 15
	group = charge

	trigger = {
		phase = melee
		flank_has_leader = yes
		leader = {
			OR = {
				trait = prince_khorne
				trait = prince_nurgle
				trait = prince_slaanesh
				trait = prince_tzeentch
				trait = prince_undivided
			}
		}
		troops = {
			who = daemonic_host
			value = 0.01
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = { martial = 10 }
			heavy_troops = {
				who = daemonic_host
				value = 0.4
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = { martial = 12 }
			heavy_troops = {
				who = daemonic_host
				value = 0.3
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = { martial = 14 }
			heavy_troops = {
				who = daemonic_host
				value = 0.2
			}
		}
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { martial = 16 }
			heavy_troops = {
				who = heavy_infantry
				value = 0.4
			}
		}
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { martial = 16 }
			heavy_troops = {
				who = heavy_cavalry
				value = 0.4
			}
		}
	}

	knights_offensive = 1.5
	light_cavalry_offensive = 1.5
	light_infantry_offensive = 1
	heavy_infantry_offensive = 1
	pikemen_offensive = 0.5
	daemonic_host_offensive = 2
	daemonic_host_morale = 0.75
}
###MAGICAL TACTICS
magical_onslaught_tactic = {
	days = 6
	sprite = 13
	group = advance

	trigger = {
		OR = {
			phase = melee
			phase = skirmish
		}
		OR = {
			AND = {
				flank_has_leader = yes
				leader = {
					is_trained_mage_trigger = yes
				}
			}
			troops = {
				who = magical_spells
				value = 0.01
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = { learning = 8 }
			light_troops = {
				who = magical_spells
				value = 0.05
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = { learning = 10 }
			light_troops = {
				who = magical_spells
				value = 0.04
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = { learning = 12 }
			light_troops = {
				who = magical_spells
				value = 0.03
			}
		}
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { learning = 14 }
			light_troops = {
				who = magical_spells
				value = 0.02
			}
		}
	}

	pikemen_offensive = 1
	light_infantry_offensive = 1
	heavy_infantry_offensive = 1
	archers_offensive = 1.5
	gunpowder_offensive = 1.5
	ogre_maneater_offensive = 1.5
	magical_spells_offensive = 3
}
magical_barrier_tactic = {
	days = 6
	sprite = 13
	group = defensive

	trigger = {
		OR = {
			phase = melee
			phase = skirmish
		}
		OR = {
			AND = {
				flank_has_leader = yes
				leader = {
					is_trained_mage_trigger = yes
				}
			}
			troops = {
				who = magical_spells
				value = 0.01
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = { learning = 8 }
			light_troops = {
				who = magical_spells
				value = 0.05
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = { learning = 10 }
			light_troops = {
				who = magical_spells
				value = 0.04
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = { learning = 12 }
			light_troops = {
				who = magical_spells
				value = 0.03
			}
		}
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { learning = 14 }
			light_troops = {
				who = magical_spells
				value = 0.02
			}
		}
	}

	knights_defensive = 1
	knights_morale = 0.5
	light_cavalry_defensive = 1
	light_cavalry_morale = 0.5
	pikemen_defensive = 1
	pikemen_morale = 0.5
	heavy_infantry_defensive = 1
	heavy_infantry_morale = 0.5
	light_infantry_defensive = 1
	light_infantry_morale = 0.5
	archers_defensive = 1
	archers_morale = 0.5
	gunpowder_defensive = 1
	gunpowder_morale = 0.5
	artillery_defensive = 1
	artillery_morale = 0.5
	ogre_maneater_defensive = 1
	ogre_maneater_morale = 0.5
	magical_spells_offensive = 2
}
#special tactic when Asur are being invaded by Druchii
asuryan_defense = {
	days = 10
	sprite = 15
	group = stand_fast

	trigger = {
		phase = melee
		flank_has_leader = yes
		leader = { culture_group = asur_group }
		enemy = {
			flank_has_leader = yes
			leader = { religion_group = cytharai_group }
		}
	}

	mean_time_to_happen = {
		days = 5
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = { martial = 8 }
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = { martial = 10 }
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = { martial = 12 }
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = { martial = 14 }
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = { martial = 16 }
		}
	}

	heavy_infantry_defensive = 2
	light_infantry_defensive = 2
	pikemen_defensive = 2
	archers_defensive = 1.5
}

##########################################################################
# Siege offensive tactics
##########################################################################

# Must be first "siege = attacker"
no_siege_offense_tactic = {
	days = 1 # tactic lasts one day
	sprite = 1 # index of icon

	siege = attacker

	trigger = {
		always = no # never use unless set explicitly by code
	}
}
default_siege_offense_tactic = {
	days = 5
	sprite = 1

	siege = attacker

	trigger = {
		always = yes
	}

	mean_time_to_happen = {
		days = 10
	}
}

##########################################################################
# Siege defensive tactics
##########################################################################

# Must be first "siege = defender"
no_siege_defense_tactic = {
	days = 1 # tactic lasts one day
	sprite = 1 # index of icon
	siege = defender
	trigger = {
		always = no # never use unless set explicitly by code
	}
}
default_siege_defense_tactic = {
	days = 5
	sprite = 1

	siege = defender

	trigger = {
		always = yes
	}

	mean_time_to_happen = {
		days = 10
	}
}

##########################################################################
# Combat MTTH definitions(do not remove)
##########################################################################

flank_retreat_odds = {
	# MTTH range is 0-100, if flank morale is below MTTH, flank will retreat
	mean_time_to_happen = {
		days = 35

		modifier = {
			factor = 2
			NOT = { flank_has_leader = yes }
		}
		modifier = {
			factor = 1.2
			flank_has_leader = yes
			leader = { NOT = { martial = 3 } }
		}
		modifier = {
			factor = 1.2
			flank_has_leader = yes
			leader = { NOT = { martial = 6 } }
		}
		modifier = {
			factor = 1.2
			flank_has_leader = yes
			leader = { NOT = { martial = 9 } }
		}
		modifier = {
			factor = 1.2
			flank_has_leader = yes
			leader = { NOT = { martial = 12 } }
		}
		modifier = {
			factor = 1.2
			flank_has_leader = yes
			leader = { NOT = { martial = 15 } }
		}
		modifier = {
			factor = 1.2
			flank_has_leader = yes
			leader = { NOT = { martial = 18 } }
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = naive_appeaser
			}
			factor = 0.975
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = underhanded_rogue
			}
			factor = 0.95
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = charismatic_negotiator
			}
			factor = 0.925
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = grey_eminence
			}
			factor = 0.9
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = misguided_warrior
			}
			factor = 0.95
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = tough_soldier
			}
			factor = 0.9
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = skilled_tactician
			}
			factor = 0.85
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = brilliant_strategist
			}
			factor = 0.8
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = inspiring_leader
			}
			factor = 0.6
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = organizer
			}
			factor = 0.8
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = defensive_leader
			}
			factor = 0.8
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = aggressive_leader
			}
			factor = 0.9
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = strategist
			}
			factor = 0.85
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = gamer
			}
			factor = 0.9
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = fair
			}
			factor = 0.8
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = strong
			}
			factor = 0.8
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = robust
			}
			factor = 0.9
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = imbecile
			}
			factor = 1.4
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = inbred
			}
			factor = 1.35
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = slow
			}
			factor = 1.25
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = weak
			}
			factor = 1.15
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = dull
			}
			factor = 1.1
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = feeble
			}
			factor = 1.05
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = slothful
			}
			factor = 1.2
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = wroth
			}
			factor = 0.925
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = proud
			}
			factor = 0.95
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = diligent
			}
			factor = 0.975
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = patient
			}
			factor = 0.875
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = brave
			}
			factor = 0.85
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = ambitious
			}
			factor = 0.9
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = arbitrary
			}
			factor = 0.9
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = just
			}
			factor = 0.9
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = cruel
			}
			factor = 0.8
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = craven
			}
			factor = 1.5
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = shy
			}
			factor = 1.2
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = content
			}
			factor = 1.05
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = pilgrim
			}
			factor = 0.9
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = viking
			}
			factor = 0.95
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = ravager
			}
			factor = 0.9
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				OR = {
					trait = seaking
					trait = sea_queen
				}
			}
			factor = 0.8
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = decadent
			}
			factor = 1.1
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = kinslayer
			}
			factor = 1.6
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = familial_kinslayer
			}
			factor = 1.3
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = dynastic_kinslayer
			}
			factor = 1.15
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = logistics_expert
			}
			factor = 0.95
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = levy_coordinator
			}
			factor = 0.9
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = sapper
			}
			factor = 0.95
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = master_of_flame
			}
			factor = 0.95
		}
		# 2
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = unyielding_leader
			}
			factor = 0.9
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = berserker
			}
			factor = 0.7
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = varangian
			}
			factor = 0.9
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				trait = augustus
			}
			factor = 0.85
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				prestige = 50
			}
			factor = 0.9
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				prestige = 100
			}
			factor = 0.9
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				prestige = 150
			}
			factor = 0.9
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				piety = 25
			}
			factor = 0.9
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				piety = 50
			}
			factor = 0.9
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				piety = 75
			}
			factor = 0.9
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				piety = 100
			}
			factor = 0.9
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				learning = 2
				liege = {
					religion = PREV
				}
			}
			factor = 0.9725
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				learning = 4
				liege = {
					religion = PREV
				}
			}
			factor = 0.9725
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				learning = 6
				liege = {
					religion = PREV
				}
			}
			factor = 0.9725
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				learning = 8
				liege = {
					religion = PREV
				}
			}
			factor = 0.9725
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				learning = 10
				liege = {
					religion = PREV
				}
			}
			factor = 0.9725
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				learning = 12
				liege = {
					religion = PREV
				}
			}
			factor = 0.9725
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				combat_rating = 1
			}
			factor = 0.98
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				combat_rating = 2
			}
			factor = 0.98
		}
		modifier = {
			flank_has_leader = yes
			leader = {
				combat_rating = 3
			}
			factor = 0.98
		}
		modifier = {
			factor = 0.1
			heavy_troops = {
				who = daemonic_host
				value = 0.3
			}
		}
		modifier = {
			factor = 0
			heavy_troops = {
				who = undead_horde
				value = 0.4
			}
		}
		modifier = {
			factor = 0.1
			flank_has_leader = yes
			leader = { culture = nehekharan }
		}
	}
}
flank_pursue_odds = {
	# MTTH range is 0-100, chance (in %) of pursuing a fleeing flank
	mean_time_to_happen = {
		days = 20
	}
}
