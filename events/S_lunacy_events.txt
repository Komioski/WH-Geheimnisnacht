namespace = slunacy

#Umbrella event (yearly pulse)
character_event = {
	id = slunacy.1
	hide_window = yes
	is_triggered_only = yes

	only_playable = yes

    # things which exclude lunacy
	trigger = {
		NOT = { trait = creature_forestspirit }
		NOT = { trait = creature_treekin }
		NOT = { trait = creature_nehekharan }
		NOT = { trait = creature_chaosspawn }
		is_vampire_trigger = no

		OR = { 
			trait = lunatic_1
			trait = lunatic_2
			trait = lunatic_3 
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
	}

	weight_multiplier = {
		factor = 1
        # Cosmic modifiers not geography or trait dependent
        # Morrslieb presence
        modifier = {
            factor = 1.25
            has_global_flag = morrslieb_full
        }

        # Chaos counter modifier
        modifier = {
            factor = 0.5
            is_doom_very_low_trigger = yes
        }
        modifier = {
            factor = 1.2
            is_doom_low_trigger = yes
        }
        modifier = {
            factor = 1.5
            is_doom_medium_trigger = yes
        }
        modifier = {
            factor = 1.75
            is_doom_high_trigger = yes
        }
        modifier = {
            factor = 2
            is_doom_very_high_trigger = yes
        }
        modifier = { #Not true Lunacy
            factor = 0.6
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
        }
        modifier = { #Not true Lunacy
            factor = 0.9
			health=6
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
        }
        modifier = { #Not true Lunacy
            factor = 0.9
			health=8
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
        }
        modifier = { #Not true Lunacy
            factor = 0.9
			health=10
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
        }
        #
        # Trait dependent modifiers
        #
        modifier = {
            factor = 0.75
            trait = creature_dwarf
        }
        modifier = {
            factor = 0.75
            OR = {
                trait = creature_orc
                trait = creature_snotling
                trait = creature_goblin
				trait = creature_hobgoblin
            }
        }
		modifier = {
            factor = 2
            trait = creature_fimir
        }
        modifier = {
            factor = 2
            trait = creature_chaos_dwarf
        }
        modifier = {
            factor = 0.5
            trait = creature_halfling
        }
        modifier = {
            factor = 1.5
            has_minor_mutation_trigger = yes
        }
        modifier = {
            factor = 2
            has_major_mutation_trigger = yes
        }
        modifier = {
            factor = 3
            has_massive_mutation_trigger = yes
        }
        modifier = {
            factor = 1.25
            trait = addict
        }
        modifier = {
            factor = 1.5
            trait = lore_tzeentch
        }
        modifier = {
            factor = 1.25
		NOT = { trait = magic_potential_1 }
		NOT = { trait = magic_potential_2 }
		NOT = { trait = magic_potential_3 }
		NOT = { trait = magic_potential_4 }
        }
        modifier = {
            factor = 1.25
		NOT = { has_character_modifier = magic_power_1 }
		NOT = { has_character_modifier = magic_power_2 }
		NOT = { has_character_modifier = magic_power_3 }
		NOT = { has_character_modifier = magic_power_4 }
        }
        modifier = {
            factor = 2
            has_character_flag = forsaken_flag
        }

        # Religion dependent modifier (obviously service under darks gods banner increase chance)
        # basic modifier
        modifier = {
            factor = 1.5
                religion_group = chaos_gods_group
		}
		modifier = {
            factor = 1.25
            society_member_of = cult_of_tzeentch
		}
		modifier = {
            factor = 1.5
            society_member_of = cult_of_tzeentch2
		}
		modifier = {
            factor = 1.75
            society_member_of = cult_of_tzeentch3
		}
		modifier = {
            factor = 1.25
			OR = {
				society_member_of = cult_of_khorne
				society_member_of = cult_of_slaanesh
				society_member_of = cult_of_nurgle
				society_member_of = cult_of_undivided
			}
		}
		modifier = {
            factor = 1.25
			OR = {
				society_member_of = cult_of_khorne2
				society_member_of = cult_of_slaanesh2
				society_member_of = cult_of_nurgle2
				society_member_of = cult_of_undivided2
			}
		}
		modifier = {
            factor = 1.25
			OR = {
				society_member_of = cult_of_khorne3
				society_member_of = cult_of_slaanesh3
				society_member_of = cult_of_nurgle3
				society_member_of = cult_of_undivided3
			}
		}

        # Location dependent modifiers
        modifier = {
            factor = 1.5
            location = { empire = { title = e_chaos_wastes } }
		}
        modifier = {
            factor = 1.25
            location = { kingdom = { title = k_sylvania } }
		}
        modifier = {
            factor = 1.25
            location = { kingdom = { title = k_mousillon } }
		}
        modifier = {
            factor = 1.25
            location = { duchy = { title = d_geisterforst } }
		}
        modifier = {
            factor = 1.5
            location = { has_province_modifier = warpdust_traces }
		}
        modifier = {
            factor = 0.5
			ai=yes
		}
	}
    # trigger a random mutation
    immediate = {
		#always add modifiers to decide which god would approve more of which sort of madness
		#always call for mutate.5 on any added insanity to determine the new value of the variable.
        random_list = {
		#shadows behind (twitchy becomes paranoid)
		#untouched by others' misery (twitchy becomes cruel)
		#offered substance to ease stress (twitchy loses stressed, gains addict)
		#mage tries dangerous experiment (twitchy, on success increased learning, on failure wounded, on critical failure disfigured+wounded courtier)
		#drunkard feels poisoned (twitchy loses drunkard)

		#maniac gets Blind Virtue maddness
		#maniac gets Fake Mage maddness
		#maniac gets Despairing Laughter maddness
		#maniac gets Unfeeling maddness

		#lunatic gets Bloodthirsty maddness
		#lunatic gets God Delusion maddness


		#lunatic kills random courtier
		#lunatic goes on a killing spree (province modifier)
		#lunatic mage blows up a building (province modifier)

		10 = { character_event = { id = slunacy.2 } } #twitchy
		10 = { character_event = { id = slunacy.3 } } #twitchy
		10 = { character_event = { id = slunacy.4 } } #twitchy
		5 = { character_event = { id = slunacy.5 } } #twitchy
		#5 = { character_event = { id = slunacy.6 } } #twitchy
		#5 = { character_event = { id = slunacy.7 } } #twitchy
		#5 = { character_event = { id = slunacy.8 } } #twitchy
		5 = { character_event = { id = slunacy.9 } } #twitchy
		10 = { modifier = {
          			factor = 0
          			NOT = { trait = lunatic_2 }
				}
			 modifier = {
          			factor = 0
          			OR = {
					 has_character_modifier = blind_virtue
					 has_character_modifier = fake_mage
					 has_character_modifier = despairing_laughter
					 has_character_modifier = unfeeling
					 has_character_modifier = bloodthirsty
					 has_character_modifier = god_delusion
					 has_character_modifier = everchild_syndrome
					 has_character_modifier = exquisite_agonies
					 has_character_modifier = heart_of_melancholy }
				}
			character_event = { id = slunacy.10 } } #maniac
		10 = { modifier = {
          			factor = 0
          			NOT = { trait = lunatic_2 }
				}
			 modifier = {
          			factor = 0
          			OR = {
					 has_character_modifier = blind_virtue
					 has_character_modifier = fake_mage
					 has_character_modifier = despairing_laughter
					 has_character_modifier = unfeeling
					 has_character_modifier = bloodthirsty
					 has_character_modifier = god_delusion
					 has_character_modifier = everchild_syndrome
					 has_character_modifier = exquisite_agonies
					 has_character_modifier = heart_of_melancholy }
				}
			character_event = { id = slunacy.11 } } #maniac
		10 = { 
			modifier = {
          		factor = 0
          		NOT = { trait = lunatic_2 }
			}
			modifier = {
				factor = 0
				OR = {
					has_character_modifier = blind_virtue
					has_character_modifier = fake_mage
					has_character_modifier = despairing_laughter
					has_character_modifier = unfeeling
					has_character_modifier = bloodthirsty
					has_character_modifier = god_delusion
					has_character_modifier = everchild_syndrome
					has_character_modifier = exquisite_agonies
					has_character_modifier = heart_of_melancholy 
				}
			}
			character_event = { id = slunacy.12 } 
		}
		10 = { 
			modifier = {
          		factor = 0
          		NOT = { trait = lunatic_2 }
			}
			modifier = {
				factor = 0
				OR = {
					 has_character_modifier = blind_virtue
					 has_character_modifier = fake_mage
					 has_character_modifier = despairing_laughter
					 has_character_modifier = unfeeling
					 has_character_modifier = bloodthirsty
					 has_character_modifier = god_delusion
					 has_character_modifier = everchild_syndrome
					 has_character_modifier = exquisite_agonies
					 has_character_modifier = heart_of_melancholy 
				}
			}
			character_event = { id = slunacy.13 } 
		}
		10 = { 
			modifier = {
				factor = 0
				NOT = { trait = lunatic_3 }
			}
			modifier = {
				factor = 0
				OR = {
					has_character_modifier = blind_virtue
					has_character_modifier = fake_mage
					has_character_modifier = despairing_laughter
					has_character_modifier = unfeeling
					has_character_modifier = bloodthirsty
					has_character_modifier = god_delusion
					has_character_modifier = everchild_syndrome
					has_character_modifier = exquisite_agonies
					has_character_modifier = heart_of_melancholy 
				}
			}
			character_event = { id = slunacy.14 } } #lunatic
			10 = { 
				modifier = {
					factor = 0
					NOT = { trait = lunatic_3 }
				}
				 modifier = {
					factor = 0
					OR = {
						has_character_modifier = blind_virtue
						has_character_modifier = fake_mage
						has_character_modifier = despairing_laughter
						has_character_modifier = unfeeling
						has_character_modifier = bloodthirsty
						has_character_modifier = god_delusion
						has_character_modifier = everchild_syndrome
						has_character_modifier = exquisite_agonies
						has_character_modifier = heart_of_melancholy 
					}
				}
				character_event = { id = slunacy.15 } 
			}
		}
	}
}

# Twitchy - Whispers and Shadows
character_event = {
	id = slunacy.2
	desc = EVTDESCslunacy2
	picture = GFX_evt_whispers

	trigger = { 
		OR={
			trait = lunatic_1
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
		NOT = { trait = paranoid } 
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy2
		random = { 
			chance = 50
				add_trait = paranoid 
			}
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
	}
}
# Twitchy - Unsympathetic
character_event = {
	id = slunacy.3
	desc = EVTDESCslunacy3
	picture = GFX_evt_lunatic

	trigger = {
		OR={
			trait = lunatic_1
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
		NOT = { trait = cruel } 
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy3
		random = { chance = 50
				add_trait = cruel }
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
	}
}

# Twitchy - Too stressed
character_event = {
	id = slunacy.4
	desc = EVTDESCslunacy4
	picture = GFX_evt_lunatic

	trigger = {
		OR={
			trait = lunatic_1
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
		trait = stressed 
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy4
		random = { 
			chance = 50
			remove_trait = stressed
			add_trait = addict 
		}
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
	}
}

# Twitchy Mage - Dangerous experiment
character_event = {
	id = slunacy.5
	desc = EVTDESCslunacy5
	picture = GFX_evt_lunatic

	trigger = { 
		OR={
			trait = lunatic_1
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
		OR = {
			has_character_modifier = magic_power_1
			has_character_modifier = magic_power_2
			has_character_modifier = magic_power_3
			has_character_modifier = magic_power_4 
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy5
		hidden_tooltip = { 
			random_list = { 
				33 = {
					modifier = {
						factor = 1.5
						trait = patient
					}
					modifier = {
						factor = 1.5
						has_character_modifier = magic_power_4
					}
					modifier = {
						factor = 1.5
						has_character_modifier = magic_power_3
					}
					character_event = { id = slunacy.6 } }
					34 = { character_event = { id = slunacy.7 } }
					33 = { character_event = { id = slunacy.8 } }
			}
		}
	}
}

# Twitchy Mage - Experiment successfull
character_event = {
	id = slunacy.6
	desc = EVTDESCslunacy6
	picture = GFX_evt_lunatic

	trigger = { 
		OR={
			trait = lunatic_1
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		} 
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy6
		change_learning = 1
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
	}
}

# Twitchy Mage - Experiment failed
character_event = {
	id = slunacy.7
	desc = EVTDESCslunacy7
	picture = GFX_evt_lunatic

	trigger = { 
		OR={
			trait = lunatic_1
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy7
		change_variable = { which = "lunatic_counter" value = 1 }
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
	}
}

# Twitchy Mage - Experiment critical failure
character_event = {
	id = slunacy.8
	desc = EVTDESCslunacy8
	picture = GFX_evt_lunatic

	trigger = { 
		OR={
			trait = lunatic_1
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		} 
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy8
		if = { limit = { trait = disfigured }
			if = {
				limit = { is_invincible_trigger = yes }
				antideath_effect = yes
				break = yes
            }
			death = { death_reason = death_accident }
			break = yes 
		}
		if = { limit = { NOT = { trait = disfigured } }
			add_trait = disfigured }
		change_variable = { which = "lunatic_counter" value = 1 }
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
	}
}

# Twitchy - Drunkard feels poisoned
character_event = {
	id = slunacy.9
	desc = EVTDESCslunacy9
	picture = GFX_evt_lunatic

	trigger = { 
		OR={
			trait = lunatic_1
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
		trait = drunkard 
	}

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy9
		remove_trait = drunkard
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
	}
}

# Maniac - Gets Blind Virtue
character_event = {
	id = slunacy.10
	desc = EVTDESCslunacy10
	picture = GFX_evt_lunatic

	trigger = {
		OR={
			trait = lunatic_2
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
		NOT = { trait = creature_forestspirit }
		NOT = { has_character_modifier = blind_virtue }
		NOT = { has_character_modifier = fake_mage }
		NOT = { has_character_modifier = despairing_laughter }
		NOT = { has_character_modifier = unfeeling }
		NOT = { has_character_modifier = bloodthirsty }
		NOT = { has_character_modifier = god_delusion }
		NOT = { has_character_modifier = everchild_syndrome }
		NOT = { has_character_modifier = exquisite_agonies }
		NOT = { has_character_modifier = heart_of_melancholy } }

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy10
		if = { limit = { OR = { religion = nurgle
					AND = { NOT = { religion_group = chaos_gods_group }
						NOT = { religion_group = necromantic_group }
						NOT = { religion_group = horned_rat_god_group } } }
				 }
			piety = -400 }
		hidden_tooltip = {
			any_vassal = {
				limit = { OR = { religion = nurgle
					AND = { NOT = { religion_group = chaos_gods_group }
						NOT = { religion_group = necromantic_group }
						NOT = { religion_group = horned_rat_god_group } } }
					 }
				opinion = { modifier = opinion_lunatic_w
						who = ROOT
						years = 10 } }
			any_courtier = {
				limit = { is_landed = no
					OR = { religion = nurgle
					AND = { NOT = { religion_group = chaos_gods_group }
						NOT = { religion_group = necromantic_group }
						NOT = { religion_group = horned_rat_god_group } } }
					 }
				opinion = { modifier = opinion_lunatic_w
						who = ROOT
						years = 10 } }
				}
		change_variable = { which = "lunatic_counter" value = 3 }
		add_character_modifier = { name = blind_virtue duration = -1 }
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
	}
}


# Maniac - Gets Fake Mage
character_event = {
	id = slunacy.11
	desc = EVTDESCslunacy11
	picture = GFX_evt_lunatic

	trigger = { 
		OR={
			trait = lunatic_2
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
		NOT = { trait = creature_forestspirit }
		NOT = { has_character_modifier = blind_virtue }
		NOT = { has_character_modifier = fake_mage }
		NOT = { has_character_modifier = despairing_laughter }
		NOT = { has_character_modifier = unfeeling }
		NOT = { has_character_modifier = bloodthirsty }
		NOT = { has_character_modifier = god_delusion }
		NOT = { has_character_modifier = magic_power_1 }
		NOT = { has_character_modifier = magic_power_2 }
		NOT = { has_character_modifier = magic_power_3 }
		NOT = { has_character_modifier = magic_power_4 }
		NOT = { has_character_modifier = everchild_syndrome }
		NOT = { has_character_modifier = exquisite_agonies }
		NOT = { has_character_modifier = heart_of_melancholy } }

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy11
		if = { limit = { OR = { religion = khorne
					AND = { NOT = { religion_group = chaos_gods_group }
						NOT = { religion_group = necromantic_group }
						NOT = { religion_group = horned_rat_god_group } } }

				 }
			piety = -800 }
		hidden_tooltip = {
			any_vassal = {
				limit = { OR = { religion = nurgle
					AND = { NOT = { religion_group = chaos_gods_group }
						NOT = { religion_group = necromantic_group }
						NOT = { religion_group = horned_rat_god_group } } }
					 }
				opinion = { modifier = opinion_lunatic_w
						who = ROOT
						years = 10 } }
			any_courtier = {
				limit = { is_landed = no
					OR = { religion = nurgle
					AND = { NOT = { religion_group = chaos_gods_group }
						NOT = { religion_group = necromantic_group }
						NOT = { religion_group = horned_rat_god_group } } }
					 }
				opinion = { modifier = opinion_lunatic_w
						who = ROOT
						years = 10 } }
				}
		change_variable = { which = "lunatic_counter" value = 3 }
		add_character_modifier = { name = fake_mage duration = -1 }
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
	}
}


# Maniac - Gets Despairing Laughter
character_event = {
	id = slunacy.12
	desc = EVTDESCslunacy12
	picture = GFX_evt_lunatic

	trigger = { 
		OR={
			trait = lunatic_2
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
		NOT = { trait = creature_forestspirit }
		NOT = { has_character_modifier = blind_virtue }
		NOT = { has_character_modifier = fake_mage }
		NOT = { has_character_modifier = despairing_laughter }
		NOT = { has_character_modifier = unfeeling }
		NOT = { has_character_modifier = bloodthirsty }
		NOT = { has_character_modifier = god_delusion }
		NOT = { has_character_modifier = everchild_syndrome }
		NOT = { has_character_modifier = exquisite_agonies }
		NOT = { has_character_modifier = heart_of_melancholy } }

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy12
		if = { limit = {  NOT = { religion_group = chaos_gods_group }
				NOT = { religion_group = necromantic_group }
				NOT = { religion_group = horned_rat_god_group }
				 }
			piety = -400 }
		hidden_tooltip = {
			any_vassal = {
				limit = { OR = { religion = nurgle
					AND = { NOT = { religion_group = chaos_gods_group }
						NOT = { religion_group = necromantic_group }
						NOT = { religion_group = horned_rat_god_group } } }
					 }
				opinion = { modifier = opinion_lunatic_w
						who = ROOT
						years = 10 } }
			any_courtier = {
				limit = { is_landed = no
					OR = { religion = nurgle
					AND = { NOT = { religion_group = chaos_gods_group }
						NOT = { religion_group = necromantic_group }
						NOT = { religion_group = horned_rat_god_group } } }
					 }
				opinion = { modifier = opinion_lunatic_w
						who = ROOT
						years = 10 } }
				}
		change_variable = { which = "lunatic_counter" value = 3 }
		add_character_modifier = { name = despairing_laughter duration = -1 }
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
	}
}

# Maniac - Gets Unfeeling
character_event = {
	id = slunacy.13
	desc = EVTDESCslunacy13
	picture = GFX_evt_lunatic

	trigger = { 
		OR={
			trait = lunatic_2
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
		NOT = { trait = creature_forestspirit }
		NOT = { has_character_modifier = blind_virtue }
		NOT = { has_character_modifier = fake_mage }
		NOT = { has_character_modifier = despairing_laughter }
		NOT = { has_character_modifier = unfeeling }
		NOT = { has_character_modifier = bloodthirsty }
		NOT = { has_character_modifier = god_delusion }
		NOT = { has_character_modifier = everchild_syndrome }
		NOT = { has_character_modifier = exquisite_agonies }
		NOT = { has_character_modifier = heart_of_melancholy } }

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy13
		if = { limit = { OR = { religion = slaanesh
					AND = { NOT = { religion_group = chaos_gods_group }
						NOT = { religion_group = necromantic_group }
						NOT = { religion_group = horned_rat_god_group } } }

				 }
			piety = -800 }
		hidden_tooltip = {
			any_vassal = {
				limit = { OR = { religion = nurgle
					AND = { NOT = { religion_group = chaos_gods_group }
						NOT = { religion_group = necromantic_group }
						NOT = { religion_group = horned_rat_god_group } } }
					 }
				opinion = { modifier = opinion_lunatic_w
						who = ROOT
						years = 10 } }
			any_courtier = {
				limit = { is_landed = no
					OR = { religion = nurgle
					AND = { NOT = { religion_group = chaos_gods_group }
						NOT = { religion_group = necromantic_group }
						NOT = { religion_group = horned_rat_god_group } } }
					 }
				opinion = { modifier = opinion_lunatic_w
						who = ROOT
						years = 10 } }
				}
		change_variable = { which = "lunatic_counter" value = 3 }
		add_character_modifier = { name = unfeeling duration = -1 }
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
	}
}

# Lunatic - Gets Bloodthirsty
character_event = {
	id = slunacy.14
	desc = EVTDESCslunacy14
	picture = GFX_evt_lunatic

	trigger = {
		OR={
			trait = lunatic_2
			trait = lunatic_3
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
		NOT = { trait = creature_forestspirit }
		NOT = { has_character_modifier = blind_virtue }
		NOT = { has_character_modifier = fake_mage }
		NOT = { has_character_modifier = despairing_laughter }
		NOT = { has_character_modifier = unfeeling }
		NOT = { has_character_modifier = bloodthirsty }
		NOT = { has_character_modifier = god_delusion }
		NOT = { has_character_modifier = everchild_syndrome }
		NOT = { has_character_modifier = exquisite_agonies }
		NOT = { has_character_modifier = heart_of_melancholy } }

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy14
		if = { limit = { OR = { religion = nurgle
					AND = { NOT = { religion_group = chaos_gods_group }
						NOT = { religion_group = necromantic_group }
						NOT = { religion_group = horned_rat_god_group } } }

				 }
			piety = -400 }
		hidden_tooltip = {
			any_vassal = {
				limit = { OR = { religion = nurgle
					AND = { NOT = { religion_group = chaos_gods_group }
						NOT = { religion_group = necromantic_group }
						NOT = { religion_group = horned_rat_god_group } } }
					 }
				opinion = { modifier = opinion_lunatic_w
						who = ROOT
						years = 10 } }
			any_courtier = {
				limit = { is_landed = no
					OR = { religion = nurgle
					AND = { NOT = { religion_group = chaos_gods_group }
						NOT = { religion_group = necromantic_group }
						NOT = { religion_group = horned_rat_god_group } } }
					 }
				opinion = { modifier = opinion_lunatic_w
						who = ROOT
						years = 10 } }
				}
		change_variable = { which = "lunatic_counter" value = 4 }
		add_character_modifier = { name = bloodthirsty duration = -1 }
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
	}
}

# Lunatic - Gets God Delusion
character_event = {
	id = slunacy.15
	desc = EVTDESCslunacy15
	picture = GFX_evt_lunatic

	trigger = {
		OR={
			trait = lunatic_2
			trait = lunatic_3
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
		is_ruler = yes
		NOT = { trait = creature_forestspirit }
		NOT = { has_character_modifier = blind_virtue }
		NOT = { has_character_modifier = fake_mage }
		NOT = { has_character_modifier = despairing_laughter }
		NOT = { has_character_modifier = unfeeling }
		NOT = { has_character_modifier = bloodthirsty }
		NOT = { has_character_modifier = god_delusion }
		NOT = { has_character_modifier = everchild_syndrome }
		NOT = { has_character_modifier = exquisite_agonies }
		NOT = { has_character_modifier = heart_of_melancholy } }

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy15
		if = { limit = { NOT = { religion_group = chaos_gods_group }
				NOT = { religion_group = necromantic_group }
				NOT = { religion_group = horned_rat_god_group }
				 }
			piety = -400 }
		hidden_tooltip = {
			any_vassal = {
				limit = { OR = { religion = nurgle
					AND = { NOT = { religion_group = chaos_gods_group }
						NOT = { religion_group = necromantic_group }
						NOT = { religion_group = horned_rat_god_group } } }
					 }
				opinion = { modifier = opinion_lunatic_w
						who = ROOT
						years = 10 } }
			any_courtier = {
				limit = { is_landed = no
					OR = { religion = nurgle
					AND = { NOT = { religion_group = chaos_gods_group }
						NOT = { religion_group = necromantic_group }
						NOT = { religion_group = horned_rat_god_group } } }
					 }
				opinion = { modifier = opinion_lunatic_w
						who = ROOT
						years = 10 } }
				}
		change_variable = { which = "lunatic_counter" value = 4 }
		add_character_modifier = { name = god_delusion duration = -1 }
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
	}
}

##################################################################
#########################Random Lunacy Events#####################
##################################################################

#Lunatic - Bloodthirsty kills somebody
character_event = {
	id = slunacy.16
	desc = EVTDESCslunacy16
	picture = GFX_evt_lunatic

	trigger = { 
		prisoner = no
		prisoner = no
		age = 16
		OR={
			trait = lunatic_3
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
		has_character_modifier = bloodthirsty
		NOT = { trait = resting }
		NOT = { trait = incapable }
		NOT = { trait = incapacitated }
		NOT = { trait = studying_magic }
		NOT = { trait = crafting_magic_item }
		liege = {
			any_courtier = { NOT = { is_ruler = yes }
				NOT = { trait = avatar_isha }
				NOT = { trait = avatar_kurnous }
				NOT = { trait = creature_treekin }
				NOT = { trait = creature_forestspirit }
				NOT = { trait = creature_nehekharan }
				NOT = { is_daemon_race_trigger = yes }
				NOT = { trait = vampire_lahmian_visible }
				NOT = { trait = vampire_carstein_visible }
				NOT = { trait = vampire_blood_visible }
				NOT = { trait = vampire_strigoi_visible }
				NOT = { trait = vampire_necrarch_visible }
				NOT = { trait = vampire_jade_visible }
				NOT = { trait = vampire_mahtmasi_visible }
				NOT = { trait = vampire_lahmian_hidden }
				NOT = { trait = vampire_carstein_hidden }
				NOT = { trait = vampire_blood_hidden }
				NOT = { trait = vampire_strigoi_hidden }
				NOT = { trait = vampire_necrarch_hidden }
				NOT = { trait = vampire_jade_hidden }
				NOT = { trait = vampire_mahtmasi_hidden }
				NOT = { has_character_modifier = magic_power_1 }
				NOT = { has_character_modifier = magic_power_2 }
				NOT = { has_character_modifier = magic_power_3 }
				NOT = { has_character_modifier = magic_power_4 }
			}
		}
	}

	mean_time_to_happen = { years = 10}

	option = {
		name = EVTOPTAslunacy16
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
		liege = { 
			random_courtier = { limit = { NOT = { trait = creature_forestspirit }
				NOT = { is_ruler = yes }
				NOT = { trait = avatar_isha }
				NOT = { trait = avatar_kurnous }
				NOT = { trait = creature_treekin }
				NOT = { trait = creature_nehekharan }
				NOT = { is_daemon_race_trigger = yes }
				NOT = { trait = vampire_lahmian_visible }
				NOT = { trait = vampire_carstein_visible }
				NOT = { trait = vampire_blood_visible }
				NOT = { trait = vampire_strigoi_visible }
				NOT = { trait = vampire_necrarch_visible }
				NOT = { trait = vampire_jade_visible }
				NOT = { trait = vampire_mahtmasi_visible }
				NOT = { trait = vampire_lahmian_hidden }
				NOT = { trait = vampire_carstein_hidden }
				NOT = { trait = vampire_blood_hidden }
				NOT = { trait = vampire_strigoi_hidden }
				NOT = { trait = vampire_necrarch_hidden }
				NOT = { trait = vampire_jade_hidden }
				NOT = { trait = vampire_mahtmasi_hidden }
				NOT = { has_character_modifier = magic_power_1 }
				NOT = { has_character_modifier = magic_power_2 }
				NOT = { has_character_modifier = magic_power_3 }
				NOT = { has_character_modifier = magic_power_4 } }
				character_event = { id = slunacy.17 }
			}
		}
	}
}

#Ping victim
character_event = {
	id = slunacy.17
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		if = {  limit = { is_invincible_trigger = yes }
			antideath_effect = yes
			break = yes
		}
		death = { death_reason = death_murder killer = FROM }
		any_dynasty_member = {
			opinion = { modifier = opinion_murderous_lunatic
					who = FROM
					years = 100 
			}
			character_event = { id = slunacy.18 } 
		}
		spouse = {
			opinion = { modifier = opinion_murderous_lunatic
					who = FROM
					years = 100 }
				character_event = { id = slunacy.18 } 
		}
		liege = {
			opinion = {
			modifier = opinion_murderous_lunatic
				who = ROOT
				years = 10 
			}
			character_event = { id = slunacy.18 } 
		}
	}
}

# Close people informed of murder
character_event = {
	id = slunacy.18
	desc = EVTDESCslunacy18
	picture = GFX_evt_lunatic

	trigger = { NOT = { character = FROMFROM } }

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy18
	}
}

#Bloodthirsty lunatic goes on a killing spree
character_event = {
	id = slunacy.19
	desc = EVTDESCslunacy19
	picture = GFX_evt_lunatic

	trigger = { prisoner = no
			age = 16
			OR={
				trait = lunatic_3
				any_artifact={
					is_artifact_equipped = yes
					has_artifact_flag = madness_artifact
				}
			}
			is_ruler = yes
			has_character_modifier = bloodthirsty
			NOT = { trait = resting }
			NOT = { trait = incapable }
			NOT = { trait = incapacitated }
			NOT = { trait = studying_magic }
			NOT = { trait = crafting_magic_item }
			any_demesne_province = { NOT = { has_province_modifier = bloodthirsty_rampage } }
	}

	mean_time_to_happen = { years = 10}

	option = {
		name = EVTOPTAslunacy19
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
			random_demesne_province = { limit = { NOT = { has_province_modifier = bloodthirsty_rampage } }
							add_province_modifier = { name = bloodthirsty_rampage
											duration = 800 } }
			}

}

#Bloodthirsty mage blows up a building
character_event = {
	id = slunacy.20
	desc = EVTDESCslunacy20
	picture = GFX_evt_lunatic

	trigger = { prisoner = no
			age = 16
			OR={
				trait = lunatic_3
				any_artifact={
					is_artifact_equipped = yes
					has_artifact_flag = madness_artifact
				}
			}
			is_ruler = yes
			has_character_modifier = bloodthirsty
			NOT = { trait = resting }
			NOT = { trait = incapable }
			NOT = { trait = incapacitated }
			NOT = { trait = studying_magic }
			NOT = { trait = crafting_magic_item }
			OR = { has_character_modifier = magic_power_1
				has_character_modifier = magic_power_2
				has_character_modifier = magic_power_3
				has_character_modifier = magic_power_4 }
			}

	mean_time_to_happen = { years = 10}

	option = {
		name = EVTOPTAslunacy20
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
			location = {
				destroy_random_building = yes
				owner = { character_event = { id = slunacy.21 } } 
			}
	}

}

# Owner of province informed of destruction
character_event = {
	id = slunacy.21
	desc = EVTDESCslunacy21
	picture = GFX_evt_lunatic

	trigger = { NOT = { character = FROM } }

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy21
		opinion = { 
			modifier = opinion_murderous_lunatic
			who = FROM
			years = 10 
		}
	}
}

# Maniac - Blind Virtue - becomes arbitrary
character_event = {
	id = slunacy.22
	desc = EVTDESCslunacy22
	picture = GFX_evt_lunatic

	trigger = { 
		has_character_modifier = blind_virtue
		OR={
			trait = lunatic_2
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
		age = 12
		NOT = { trait = resting }
		NOT = { trait = incapable }
		NOT = { trait = incapacitated } 
	}

	mean_time_to_happen = { years = 10}

	option = {
		name = EVTOPTAslunacy22
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
		add_trait = arbitrary
	}
}
# Maniac - Blind Virtue - no longer cruel
character_event = {
	id = slunacy.23
	desc = EVTDESCslunacy23
	picture = GFX_evt_lunatic

	min_age = 16
	only_capable = yes


	trigger = {
		has_character_modifier = blind_virtue
		OR={
			trait = lunatic_2
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
		trait = cruel
		NOT = { trait = resting }
		NOT = { trait = incapable }
		NOT = { trait = incapacitated }
	}

	mean_time_to_happen = { years = 10}

	option = {
		name = EVTOPTAslunacy23
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
		remove_trait = cruel
	}
}

# Maniac - Blind Virtue - releases a prisoner
character_event = {
	id = slunacy.24
	desc = EVTDESCslunacy24
	picture = GFX_evt_lunatic

	min_age = 16
	only_capable = yes
	only_rulers = yes

	trigger = {
		has_character_modifier = blind_virtue
		OR={
			trait = lunatic_2
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
		NOT = { trait = resting }
		NOT = { trait = incapable }
		NOT = { trait = incapacitated }
		any_courtier = { 
			host = { character = ROOT }
			prisoner = yes 
		} 
	}

	mean_time_to_happen = { years = 10}

	option = {
		name = EVTOPTAslunacy24
		random_courtier = {
			limit = { host = { character = ROOT }
				prisoner = yes 
			}
			prisoner = no 
		}
	}
}

# Maniac - Fake Mage - becomes real mage
character_event = {
	id = slunacy.25
	desc = EVTDESCslunacy25
	picture = GFX_evt_lunatic

	min_age = 16
	only_capable = yes
	only_rulers = yes

	trigger = { has_character_modifier = fake_mage
		OR={
			trait = lunatic_2
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
		NOT = { trait = resting }
		NOT = { trait = incapable }
		NOT = { trait = incapacitated }
		OR = { has_character_modifier = magic_power_1
			has_character_modifier = magic_power_2
			has_character_modifier = magic_power_3
			has_character_modifier = magic_power_4 
		} 
	}

	mean_time_to_happen = { years = 1}

	option = {
		name = EVTOPTAslunacy25
		remove_character_modifier = fake_mage
		change_variable = { which = "lunatic_counter" value = -3 }
	}
}

# Maniac - Fake Mage - blows up laboratory
character_event = {
	id = slunacy.26
	desc = EVTDESCslunacy26
	picture = GFX_evt_lunatic

	min_age = 16
	only_capable = yes
	only_rulers = yes

	trigger = { 
		has_character_modifier = fake_mage
		OR={
			trait = lunatic_2
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
		NOT = { trait = wounded }
		NOT = { trait = resting }
		NOT = { trait = incapable }
		NOT = { trait = incapacitated } 
	}

	mean_time_to_happen = { years = 10}

	option = {
		name = EVTOPTAslunacy26
		add_trait = wounded
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
	}
}

# Maniac - Despairing Laughter - makes fun of courtier
character_event = {
	id = slunacy.27
	hide_window = yes

	min_age = 16
	only_capable = yes

	trigger = { has_character_modifier = despairing_laughter
		OR={
			trait = lunatic_2
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
		NOT = { trait = wounded }
		NOT = { trait = resting }
		NOT = { trait = incapable }
		NOT = { trait = incapacitated }

		liege = { 
			any_courtier = {
				NOT = { trait = incapable }
				NOT = { trait = incapacitated }
				NOT = { is_daemon_race_trigger = yes }
				OR = { trait = infirm
					trait = wounded
					trait = maimed
					trait = disfigured
					trait = burnt_by_asuryan
					trait = is_fat
					trait = is_malnourished
					trait = leper
					trait = pneumonic
					trait = ill
					trait = syphilitic
					trait = troubled_pregnancy
					trait = hard_pregnancy
					is_mutated_trigger = yes
					trait = lunatic_3
				} 
			} 
		}
	}

	mean_time_to_happen = { years = 6}

	immediate = {
		character_event = { id = mutate.5 } #lunacy counter
		liege = {
			random_courtier = {
				limit = {
					NOT = { trait = incapable }
					NOT = { trait = incapacitated }
					NOT = { is_daemon_race_trigger = yes }
					OR = {
						trait = infirm
						trait = wounded
						trait = maimed
						trait = disfigured
						trait = burnt_by_asuryan
						trait = is_fat
						trait = is_malnourished
						trait = leper
						trait = pneumonic
						trait = ill
						trait = syphilitic
						trait = troubled_pregnancy
						trait = hard_pregnancy
						is_mutated_trigger = yes
						trait = lunatic_3
					}
				}
				character_event = { id = slunacy.28 }
			}
		}
	}
}

# Person insulted
character_event = {
	id = slunacy.28
	desc = { text = EVTDESCAslunacy28
		trigger = { trait = infirm }
		 }
	desc = { text = EVTDESCBslunacy28
		trigger = { OR = { trait = maimed
				trait = wounded } }
		 }
	desc = { text = EVTDESCCslunacy28
		trigger = { OR = { trait = disfigured
				trait = burnt_by_asuryan } }
		 }
	desc = { text = EVTDESCDslunacy28
		trigger = { trait = is_fat }
		 }
	desc = { text = EVTDESCEslunacy28
		trigger = { trait = is_malnourished }
		 }
	desc = { text = EVTDESCFslunacy28
		trigger = { OR = { trait = leper
				trait = pneumonic
				trait = ill
				trait = syphilitic } }
		 }
	desc = { text = EVTDESCGslunacy28
		trigger = { OR = { trait = hard_pregnancy
				trait = troubled_pregnancy } }
		 }
	desc = { text = EVTDESCHslunacy28
		trigger = { is_mutated_trigger = yes }
		 }
	desc = { text = EVTDESCIslunacy28
		trigger = { trait = lunatic_3 }
		 }
	picture = GFX_evt_lunatic

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy28
				opinion = { modifier = opinion_evil_laughter
						who = FROM
						years = 5 }
				random = { chance = 10
						add_trait = depressed }
		hidden_tooltip = { FROM = { character_event = { id = slunacy.29 } } }
	}
}

# Maniac laughs at misery
character_event = {
	id = slunacy.29
	desc = { text = EVTDESCAslunacy29
		trigger = { FROM = { trait = infirm } }
		 }
	desc = { text = EVTDESCBslunacy29
		trigger = { FROM = { OR = { trait = maimed
					trait = wounded } } }
		 }
	desc = { text = EVTDESCCslunacy29
		trigger = { FROM = { OR = { trait = disfigured
					trait = burnt_by_asuryan } } }
		 }
	desc = { text = EVTDESCDslunacy29
		trigger = { FROM = { trait = is_fat } }
		 }
	desc = { text = EVTDESCEslunacy29
		trigger = { FROM = { trait = is_malnourished } }
		 }
	desc = { text = EVTDESCFslunacy29
		trigger = { FROM = { OR = { trait = leper
					trait = pneumonic
					trait = ill
					trait = syphilitic } } }
		 }
	desc = { text = EVTDESCGslunacy29
		trigger = { FROM = { OR = { trait = hard_pregnancy
					trait = troubled_pregnancy } } }
		 }
	desc = { text = EVTDESCHslunacy29
		trigger = { FROM = { is_mutated_trigger = yes } }
		 }
	desc = { text = EVTDESCIslunacy29
		trigger = { FROM = { trait = lunatic_3 } }
		 }
	picture = GFX_evt_lunatic

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy29
				random = { chance = 10
						add_trait = cruel }
	}
}

# Maniac - Unfeeling - Loses craven
character_event = {
	id = slunacy.30
	desc = EVTDESCslunacy30
	picture = GFX_evt_lunatic

	trigger = { has_character_modifier = unfeeling
		OR={
			trait = lunatic_2
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
		age = 12
		OR = { trait = craven
			NOT = { trait = brave } }
		NOT = { trait = resting }
		NOT = { trait = incapable }
		NOT = { trait = incapacitated }
	}

	mean_time_to_happen = { years = 10}

	option = {
		name = EVTOPTAslunacy30
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
		remove_trait = craven
		add_trait = brave
	}
}

# Maniac - Unfeeling - Loses paranoid
character_event = {
	id = slunacy.31
	desc = EVTDESCslunacy31
	picture = GFX_evt_lunatic

	trigger = { has_character_modifier = unfeeling
		OR={
			trait = lunatic_2
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
			age = 12
			trait = paranoid
			NOT = { trait = resting }
			NOT = { trait = incapable }
			NOT = { trait = incapacitated } 
	}

	mean_time_to_happen = { years = 10}

	option = {
		name = EVTOPTAslunacy31
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
		remove_trait = paranoid
	}
}

# Maniac - Unfeeling - Wounds himself
character_event = {
	id = slunacy.32
	desc = EVTDESCslunacy32
	picture = GFX_evt_lunatic

	trigger = { has_character_modifier = unfeeling
		OR={
			trait = lunatic_2
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
		age = 12
		NOT = { trait = craven }
		NOT = { trait = resting }
		NOT = { trait = incapable }
		NOT = { trait = incapacitated } 
	}

	mean_time_to_happen = { years = 10}

	option = {
		name = EVTOPTAslunacy32
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
		if = { limit = { trait = maimed }
			random = { chance = 15
				remove_trait = maimed
				add_trait = incapable } }
 		if = { limit = { OR = { trait = scarred
					trait = wounded } }
			random = { chance = 30
				add_trait = maimed } }
 		if = { limit = { NOT = { trait = scarred }
				 NOT = { trait = wounded }
				 NOT = { trait = maimed } }
			add_trait = wounded }
	}
}

# Lunatic - God delusional makes people worship him
character_event = {
	id = slunacy.33
	desc = { text = EVTDESCAslunacy33
		trigger = { is_female = no }
		 }
	desc = { text = EVTDESCBslunacy33
		trigger = { is_female = yes }
		 }
	picture = GFX_evt_lunatic

	trigger = { prisoner = no
			age = 16
			OR={
				trait = lunatic_3
				any_artifact={
					is_artifact_equipped = yes
					has_artifact_flag = madness_artifact
				}
			}
			is_ruler = yes
			has_character_modifier = god_delusion
			NOT = { trait = resting }
			NOT = { trait = incapable }
			NOT = { trait = incapacitated }
			NOT = { trait = studying_magic }
			NOT = { trait = crafting_magic_item }
			}

	mean_time_to_happen = { years = 10
        			modifier = { factor = 0.75
						trait = immortal
						}
        			modifier = { factor = 0.75
						trait = immortal
						}
				}

	option = {
		name = EVTOPTAslunacy33
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
			prestige = 350
			piety = -400
			}
}

# Lunatic - God delusional becomes Chaos Undivided (worship himself)
character_event = {
	id = slunacy.34
	desc = { text = EVTDESCAslunacy34
		trigger = { religion = sigmarite }
		 }
	desc = { text = EVTDESCBslunacy34
		trigger = { NOT = { religion = sigmarite } }
		 }
	picture = GFX_evt_lunatic

	trigger = { prisoner = no
		age = 16
		OR={
			trait = lunatic_3
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
		is_ruler = yes
		has_character_modifier = god_delusion
		NOT = { trait = resting }
		NOT = { trait = incapable }
		NOT = { trait = incapacitated }
		NOR = {
			religion_group = chaos_gods_group
		}
		is_undead_trigger = no
		OR = {
			trait = creature_human
			trait = creature_dwarf
			trait = creature_elf
			trait = creature_halfling
			trait = creature_ogre
		}
	}

	mean_time_to_happen = { years = 10
        			modifier = { factor = 0.75
						trait = immortal
						}
        			modifier = { factor = 0.75
						trait = immortal
						}
				}

	option = {
		name = EVTOPTAslunacy34
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter

		if = { 
			limit = { NOT = { religion_group = necromantic_group } }
			religion = chaos 
		}
		piety = -400
	}
}


#Unfeeling - loses a lover
character_event = {
	id = slunacy.35
	desc = EVTDESCslunacy35
	picture = GFX_evt_lunatic

	trigger = { prisoner = no
		age = 16
		OR={
			trait = lunatic_2
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
		has_character_modifier = unfeeling
		NOT = { trait = resting }
		NOT = { trait = incapable }
		NOT = { trait = incapacitated }
		has_lover = yes
	}

	mean_time_to_happen = { years = 10}

	option = {
		name = EVTOPTAslunacy35
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
		random_lover = {
			character_event = { id = slunacy.35005 }
			remove_lover = ROOT 
		}
	}
}

#Lover informed
character_event = {
	id = slunacy.35005
	desc = EVTDESCslunacy35005
	picture = GFX_evt_lunatic

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy35005
	}
}

#Unfeeling - loses a rival
character_event = {
	id = slunacy.36
	desc = EVTDESCslunacy36
	picture = GFX_evt_lunatic

	trigger = { prisoner = no
		age = 16
		OR={
			trait = lunatic_2
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
		has_character_modifier = unfeeling
		NOT = { trait = resting }
		NOT = { trait = incapable }
		NOT = { trait = incapacitated }
		any_rival = { is_alive = yes }
	}

	mean_time_to_happen = { years = 10}

	option = {
		name = EVTOPTAslunacy36
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
		random_lover = {
			character_event = { id = slunacy.36005 }
			remove_rival = ROOT 
		}
	}

}

#Rival informed
character_event = {
	id = slunacy.36005
	desc = EVTDESCslunacy36005
	picture = GFX_evt_lunatic

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy36005
	}

}

#Unfeeling - loses a friend
character_event = {
	id = slunacy.37
	desc = EVTDESCslunacy37
	picture = GFX_evt_lunatic

	trigger = { prisoner = no
		age = 16
		OR={
			trait = lunatic_2
			any_artifact={
				is_artifact_equipped = yes
				has_artifact_flag = madness_artifact
			}
		}
		has_character_modifier = unfeeling
		NOT = { trait = resting }
		NOT = { trait = incapable }
		NOT = { trait = incapacitated }
		any_friend = { is_alive = yes }
	}

	mean_time_to_happen = { years = 10}

	option = {
		name = EVTOPTAslunacy37
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
			random_friend = {
					character_event = { id = slunacy.37005 }
					remove_friend = ROOT }
	}

}

#Friend informed
character_event = {
	id = slunacy.37005
	desc = EVTDESCslunacy37005
	picture = GFX_evt_lunatic

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy37005
	}

}

####################################################################################
####################################VAMPIRE LUNACY##################################
####################################################################################

#As they age, Vampires naturally gain lunacy
character_event = {
    id = slunacy.38
    hide_window = yes

	min_age = 75
	capable_only = yes

	trigger = {
		OR = { trait = vampire_lahmian_visible
			trait = vampire_carstein_visible
			trait = vampire_blood_visible
			trait = vampire_strigoi_visible
			trait = vampire_necrarch_visible
			trait = vampire_jade_visible
			trait = vampire_mahtmasi_visible }
	}

	mean_time_to_happen = {
		years = 66
            	modifier = { factor = 0.9
				age = 150
			 }
            	modifier = { factor = 0.9
				age = 250
			 }
            	modifier = { factor = 0.9
				age = 400
			 }
            	modifier = { factor = 0.9
				age = 600
			 }
            	modifier = { factor = 0.8
				age = 1000
			 }
            	modifier = { factor = 0.7
				OR = { trait = vampire_strigoi_visible
					trait = vampire_strigoi_hidden }
			 }
            	modifier = { factor = 0.8
				OR = { trait = vampire_necrarch_visible
					trait = vampire_necrarch_hidden }
			 }
            	modifier = { factor = 0.9
				OR = { graphical_culture = lahmianeverkidgfx
					graphical_culture = carsteineverkidgfx }
			 }

		}
    immediate = {

 	   random_list = {
			30 = {
				modifier = {
           				 factor = 1.5
            				NOT = { trait = creature_human }
            				NOT = { trait = creature_amazon }
      					  }
				modifier = {
           				 factor = 0.7
            				trait = infirm
      					  }
				modifier = {
           				 factor = 0.7
            				trait = addict
      					  }
				modifier = {
           				 factor = 0.8
            				trait = depressed
      					  }
				modifier = {
           				 factor = 0.9
            				trait = stressed
      					  }
				modifier = {
           				 factor = 0.9
            				trait = drunkard
      					  }
				modifier = {
           				 factor = 0.5
            				trait = imbecile
      					  }
				modifier = {
           				 factor = 0.6
            				trait = idiot
      					  }
				modifier = {
           				 factor = 0.7
            				trait = slow
      					  }
				modifier = {
           				 factor = 0.8
            				trait = dumb
      					  }
				modifier = {
           				 factor = 0.9
            				trait = dim
      					  }
				modifier = {
           				 factor = 1.2
            				trait = bright
      					  }
				modifier = {
           				 factor = 1.5
            				trait = smart
      					  }
				modifier = {
           				 factor = 1.75
            				trait = quick
      					  }
				modifier = {
           				 factor = 2
            				trait = brilliant
      					  }
				modifier = {
           				 factor = 2.5
            				trait = genius
      					  }
				modifier = {
           				 factor = 1.25
            				has_character_modifier = magic_power_1
      					  }
				modifier = {
           				 factor = 1.5
            				has_character_modifier = magic_power_2
      					  }
				modifier = {
           				 factor = 1.75
            				has_character_modifier = magic_power_3
      					  }
				modifier = {
           				 factor = 2
            				has_character_modifier = magic_power_4
      					  }

				#The special cases have pretty much no saving throw
           		 	modifier = { factor = 0.1
					OR = { trait = vampire_strigoi_visible
						trait = vampire_strigoi_hidden }
					 }
            			modifier = { factor = 0.9
					OR = { trait = vampire_necrarch_visible
						trait = vampire_necrarch_hidden }
					 }
            			modifier = { factor = 0.4
					OR = { graphical_culture = lahmianeverkidgfx
						graphical_culture = carsteineverkidgfx }
					 }
				 }
			70 = { change_variable = { which = "lunatic_counter" value = 1 }
				if = { limit = {
					OR = { trait = vampire_strigoi_visible
						trait = vampire_strigoi_hidden } }
					change_variable = { which = "lunatic_counter" value = 1 }
				 	}
				if = { limit = { NOT = { trait = lunatic_3 }
						check_variable = { which = "lunatic_counter" value = 20 } }
					remove_trait = lunatic_1
					remove_trait = lunatic_2
					add_trait = lunatic_3
					# Character has become a raving lunatic
					character_event = { id = mutate.6 days = 50 random = 150 }
					break = yes }
				if = { limit = { NOT = { trait = lunatic_2 }
						check_variable = { which = "lunatic_counter" value = 10 } }
					remove_trait = lunatic_1
					remove_trait = lunatic_3
					add_trait = lunatic_2
					# Character has become insane
					character_event = { id = mutate.7  days = 50 random = 150 }
					break = yes }
				if = { limit = { NOT = { trait = lunatic_1 }
						check_variable = { which = "lunatic_counter" value = 5 } }
					remove_trait = lunatic_3
					remove_trait = lunatic_2
					add_trait = lunatic_1
					# Character has become twitchy
					character_event = { id = mutate.8  days = 50 random = 150 }
					break = yes }
				}
			}
	}
}

#Umbrella event (yearly pulse) - For Vampires
character_event = {
	id = slunacy.39
	hide_window = yes
	is_triggered_only = yes

	capable_only = yes
	min_age = 76

	trigger = {
		OR = { trait = vampire_lahmian_visible
			trait = vampire_carstein_visible
			trait = vampire_blood_visible
			trait = vampire_strigoi_visible
			trait = vampire_necrarch_visible
			trait = vampire_jade_visible
			trait = vampire_mahtmasi_visible }

		OR = { 
			trait = lunatic_1
			trait = lunatic_2
			trait = lunatic_3 
		}
	}

    # trigger a random mutation
    immediate = {

	#always add modifiers to decide which god would approve more of which sort of madness
	#always call for mutate.5 on any added insanity to determine the new value of the variable.
        random_list = {
		#twitchy - shadows behind (becomes paranoid)
		#twitchy - untouched by others' misery (becomes cruel)
		#twitchy - mage tries dangerous experiment (on success increased learning, on failure wounded, on critical failure disfigured+wounded courtier)


		#maniac gets Everchild Syndrome maddness
		#maniac gets God Delusion maddness
		#maniac gets Bloodthirsty maddness

		#lunatic gets Heart of Melancholy maddness
		#lunatic gets Exquisite Agonies maddness


		#lunatic kills random courtier
		#lunatic goes on a killing spree (province modifier)
		#lunatic mage blows up a building (province modifier)


		10 = { character_event = { id = slunacy.2 } } #twitchy
		10 = { character_event = { id = slunacy.3 } } #twitchy
		5 = { character_event = { id = slunacy.5 } } #twitchy
		10 = { modifier = {
          			factor = 0
          			NOT = { trait = lunatic_2 }
				}
			 modifier = {
          			factor = 0
          			NOR = {  graphical_culture = lahmianeverkidgfx
					graphical_culture = carsteineverkidgfx }
				}
			 modifier = {
          			factor = 1.5
          			trait = shy
				}
			 modifier = {
          			factor = 1.25
          			is_married = no
				}
			 modifier = {
          			factor = 0
          			OR = {
					 has_character_modifier = blind_virtue
					 has_character_modifier = fake_mage
					 has_character_modifier = despairing_laughter
					 has_character_modifier = unfeeling
					 has_character_modifier = bloodthirsty
					 has_character_modifier = god_delusion
					 has_character_modifier = everchild_syndrome
					 has_character_modifier = exquisite_agonies
					 has_character_modifier = heart_of_melancholy }
				}
			 modifier = {
          			factor = 2
          			mother = { is_alive = yes }
				}
			character_event = { id = slunacy.40 } } #maniac Everchild Syndrome
		10 = { modifier = {
          			factor = 0
          			NOT = { trait = lunatic_2 }
				}
			modifier = {
          			factor = 1.25
          			trait = cruel
				}
			modifier = {
          			factor = 1.75
          			OR = { trait = vampire_blood_visible
					trait = vampire_blood_hidden }
				}
			modifier = {
          			factor = 1.25
          			OR = { trait = vampire_strigoi_visible
					trait = vampire_strigoi_hidden }
				}
			modifier = {
          			factor = 1.5
          			trait = impaler
				}
			modifier = {
          			factor = 1.25
          			trait = duelist
				}
			 modifier = {
          			factor = 0
          			OR = {
					 has_character_modifier = blind_virtue
					 has_character_modifier = fake_mage
					 has_character_modifier = despairing_laughter
					 has_character_modifier = unfeeling
					 has_character_modifier = bloodthirsty
					 has_character_modifier = god_delusion
					 has_character_modifier = everchild_syndrome
					 has_character_modifier = exquisite_agonies
					 has_character_modifier = heart_of_melancholy }
				}
			character_event = { id = slunacy.14 } } #maniac Bloodthirsty
		10 = { modifier = {
          			factor = 0
          			NOT = { trait = lunatic_2 }
				}
			modifier = {
          			factor = 1.75
          			OR = { trait = vampire_jade_visible
					trait = vampire_jade_hidden }
				}
			modifier = {
          			factor = 1.25
          			trait = proud
				}
			modifier = {
          			factor = 1.5
          			trait = ambitious
				}
			modifier = {
          			factor = 1.75
          			age = 500
				}
			modifier = {
          			factor = 0.25
          			is_ruler = no
				}
			modifier = {
          			factor = 1.75
          			independent = yes
				}
			modifier = {
          			factor = 2
          			mother = { is_alive = no }
          			father = { is_alive = no }
				}
			 modifier = {
          			factor = 0
          			OR = {
					 has_character_modifier = blind_virtue
					 has_character_modifier = fake_mage
					 has_character_modifier = despairing_laughter
					 has_character_modifier = unfeeling
					 has_character_modifier = bloodthirsty
					 has_character_modifier = god_delusion
					 has_character_modifier = everchild_syndrome
					 has_character_modifier = exquisite_agonies
					 has_character_modifier = heart_of_melancholy }
				}
			character_event = { id = slunacy.15 } } #maniac God Delusion
		10 = { modifier = {
          			factor = 0
          			NOT = { trait = lunatic_3 }
				}
			 modifier = {
          			factor = 1.5
          			trait = stressed
				}
			 modifier = {
          			factor = 2.5
          			trait = depressed
				}
			 modifier = {
          			factor = 2.5
          			trait = widowed
				}
			modifier = {
          			factor = 0.75
          			mother = { is_alive = yes }
				}
			modifier = {
          			factor = 0.75
          			father = { is_alive = yes }
				}
			modifier = {
          			factor = 0.95
          			any_spouse = { is_alive = yes }
				}
			modifier = {
          			factor = 0.75
          			any_friend = { is_alive = yes }
				}
			modifier = {
          			factor = 0.65
          			any_lover = { is_alive = yes }
				}
			modifier = {
          			factor = 0.75
          			OR = { trait = vampire_blood_visible
					trait = vampire_blood_hidden }
				}
			modifier = {
          			factor = 1.25
          			OR = { trait = vampire_strigoi_visible
					trait = vampire_strigoi_hidden }
				}
			 modifier = {
          			factor = 0
          			OR = {
					 has_character_modifier = blind_virtue
					 has_character_modifier = fake_mage
					 has_character_modifier = despairing_laughter
					 has_character_modifier = unfeeling
					 has_character_modifier = bloodthirsty
					 has_character_modifier = god_delusion
					 has_character_modifier = everchild_syndrome
					 has_character_modifier = exquisite_agonies
					 has_character_modifier = heart_of_melancholy }
				}
			character_event = { id = slunacy.42 } } #lunatic Heart of Melancholy
		10 = { modifier = {
          			factor = 0
          			NOT = { trait = lunatic_3 }
				}
			modifier = {
          			factor = 1.5
          			trait = lustful
				}
			modifier = {
          			factor = 1.5
          			trait = gluttonous
				}
			modifier = {
          			factor = 1.75
          			trait = hedonist
				}
			modifier = {
          			factor = 0.5
          			OR = { trait = vampire_necrarch_visible
					trait = vampire_necrarch_hidden }
				}
			modifier = {
          			factor = 0.75
          			OR = { trait = vampire_blood_visible
					trait = vampire_blood_hidden }
				}
			modifier = {
          			factor = 0.95
          			OR = { trait = vampire_strigoi_visible
					trait = vampire_strigoi_hidden }
				}
			 modifier = {
          			factor = 0
          			OR = {
					 has_character_modifier = blind_virtue
					 has_character_modifier = fake_mage
					 has_character_modifier = despairing_laughter
					 has_character_modifier = unfeeling
					 has_character_modifier = bloodthirsty
					 has_character_modifier = god_delusion
					 has_character_modifier = everchild_syndrome
					 has_character_modifier = exquisite_agonies
					 has_character_modifier = heart_of_melancholy }
				}
			character_event = { id = slunacy.41 } } #lunatic Exquisite Agonies
		35 = { 	#Nothing

				# Cosmic modifiers not geography or trait dependent
				# Morrslieb presence
				modifier = {
					factor = 0.85
					has_global_flag = morrslieb_full
				}

				# Chaos counter modifier
				modifier = {
					factor = 1.4
					is_doom_very_low_trigger = yes
				}
				modifier = {
					factor = 0.95
					is_doom_low_trigger = yes
				}
				modifier = {
					factor = 0.85
					is_doom_medium_trigger = yes
				}
				modifier = {
					factor = 0.75
					is_doom_high_trigger = yes
				}
				modifier = {
					factor = 0.5
					is_doom_very_high_trigger = yes
				}

				# Trait dependent modifiers
				modifier = {
					factor = 0.95
					trait = addict
				}
				modifier = {
					factor = 0.85
					trait = lore_tzeentch
				}
				modifier = {
					factor = 0.95
					trait = proud
				}
				modifier = {
					factor = 0.95
					trait = ambitious
				}
				modifier = {
					factor = 0.95
					trait = cruel
				}
				modifier = {
					factor = 0.75
					trait = depressed
				}
				modifier = {
					factor = 0.95
					trait = widowed
				}
				modifier = {
					factor = 0.85
					trait = hedonist
				}
				modifier = {
					factor = 1.5
				  mother = { is_alive = yes }
				}
				modifier = {
					factor = 1.5
				  father = { is_alive = yes }
				}
				modifier = {
					factor = 1.45
				  any_lover = { is_alive = yes }
				}
				modifier = {
					factor = 1.35
				  any_friend = { is_alive = yes }
				}
				modifier = {
					factor = 1.25
				  any_spouse = { is_alive = yes }
				}
				modifier = {
					factor = 0.75
					trait = vampire_strigoi_hidden
				}
				modifier = {
					factor = 0.75
					trait = vampire_strigoi_visible
				}
				modifier = {
					factor = 0.85
					trait = vampire_necrarch_hidden
				}
				modifier = {
					factor = 0.85
					trait = vampire_necrarch_visible
				}
				modifier = { factor = 0.95
				OR = { graphical_culture = lahmianeverkidgfx
						graphical_culture = carsteineverkidgfx }
				 }
				modifier = {
					factor = 1.25
				NOT = { trait = magic_potential_1 }
				NOT = { trait = magic_potential_2 }
				NOT = { trait = magic_potential_3 }
				NOT = { trait = magic_potential_4 }
				}
				modifier = {
					factor = 1.25
				NOT = { has_character_modifier = magic_power_1 }
				NOT = { has_character_modifier = magic_power_2 }
				NOT = { has_character_modifier = magic_power_3 }
				NOT = { has_character_modifier = magic_power_4 }
				}

				# Religion dependent modifier (obviously service under darks gods banner increase chance)
				# basic modifier

				# Location dependent modifiers
				modifier = {
					factor = 0.75
					location = { region = world_chaos_wastes }
				}
				modifier = {
					factor = 0.95
					location = { kingdom = { title = k_sylvania } }
				}
				modifier = {
					factor = 0.85
					location = { kingdom = { title = k_mousillon } }
				}
				modifier = {
					factor = 0.95
					location = { duchy = { title = d_geisterforst } }
				}
				modifier = {
					factor = 0.75
					location = { has_province_modifier = warpdust_traces }
				}
			}
		}
	}
}

# Maniac - Gets Everchild Syndrome
character_event = {
	id = slunacy.40
	desc = EVTDESCslunacy40
	picture = GFX_evt_feral_vampire

	trigger = { trait = lunatic_2
		NOT = { has_character_modifier = blind_virtue }
		NOT = { has_character_modifier = fake_mage }
		NOT = { has_character_modifier = despairing_laughter }
		NOT = { has_character_modifier = unfeeling }
		NOT = { has_character_modifier = bloodthirsty }
		NOT = { has_character_modifier = god_delusion }
		NOT = { has_character_modifier = everchild_syndrome }
		NOT = { has_character_modifier = exquisite_agonies }
		NOT = { has_character_modifier = heart_of_melancholy } }

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy40
		if = { limit = { NOT = { religion_group = chaos_gods_group }
				NOT = { religion_group = necromantic_group }
				NOT = { religion_group = horned_rat_god_group }
				 }
			piety = -400 }
		hidden_tooltip = {
			any_vassal = {
				limit = { OR = { religion = nurgle
					AND = { NOT = { religion_group = chaos_gods_group }
						NOT = { religion_group = necromantic_group }
						NOT = { religion_group = horned_rat_god_group } } }
					 }
				opinion = { modifier = opinion_lunatic_w
						who = ROOT
						years = 10 } }
			any_courtier = {
				limit = { is_landed = no
					OR = { religion = nurgle
					AND = { NOT = { religion_group = chaos_gods_group }
						NOT = { religion_group = necromantic_group }
						NOT = { religion_group = horned_rat_god_group } } }
					 }
				opinion = { modifier = opinion_lunatic_w
						who = ROOT
						years = 10 } }
				}
		change_variable = { which = "lunatic_counter" value = 2 }
		add_character_modifier = { name = everchild_syndrome duration = -1 }
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
	}
}

# Lunatic - Gets Exquisite Agonies
character_event = {
	id = slunacy.41
	desc = EVTDESCslunacy41
	picture = GFX_evt_feral_vampire

	trigger = { trait = lunatic_3
		NOT = { has_character_modifier = blind_virtue }
		NOT = { has_character_modifier = fake_mage }
		NOT = { has_character_modifier = despairing_laughter }
		NOT = { has_character_modifier = unfeeling }
		NOT = { has_character_modifier = bloodthirsty }
		NOT = { has_character_modifier = god_delusion }
		NOT = { has_character_modifier = everchild_syndrome }
		NOT = { has_character_modifier = exquisite_agonies }
		NOT = { has_character_modifier = heart_of_melancholy } }

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy41
		if = { limit = { NOT = { religion_group = chaos_gods_group }
				NOT = { religion_group = necromantic_group }
				NOT = { religion_group = horned_rat_god_group }
				 }
			piety = -400 }
		hidden_tooltip = {
			any_vassal = {
				limit = { OR = { religion = nurgle
					AND = { NOT = { religion_group = chaos_gods_group }
						NOT = { religion_group = necromantic_group }
						NOT = { religion_group = horned_rat_god_group } } }
					 }
				opinion = { modifier = opinion_lunatic_w
						who = ROOT
						years = 10 } }
			any_courtier = {
				limit = { is_landed = no
					OR = { religion = nurgle
					AND = { NOT = { religion_group = chaos_gods_group }
						NOT = { religion_group = necromantic_group }
						NOT = { religion_group = horned_rat_god_group } } }
					 }
				opinion = { modifier = opinion_lunatic_w
						who = ROOT
						years = 10 } }
				}
		change_variable = { which = "lunatic_counter" value = 3 }
		add_character_modifier = { name = exquisite_agonies duration = -1 }
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
	}
}

# Lunatic - Gets Heart of Melancholy
character_event = {
	id = slunacy.42
	desc = EVTDESCslunacy42
	picture = GFX_evt_feral_vampire

	trigger = { trait = lunatic_3
		NOT = { has_character_modifier = blind_virtue }
		NOT = { has_character_modifier = fake_mage }
		NOT = { has_character_modifier = despairing_laughter }
		NOT = { has_character_modifier = unfeeling }
		NOT = { has_character_modifier = bloodthirsty }
		NOT = { has_character_modifier = god_delusion }
		NOT = { has_character_modifier = everchild_syndrome }
		NOT = { has_character_modifier = exquisite_agonies }
		NOT = { has_character_modifier = heart_of_melancholy } }

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy42
		if = { limit = { NOT = { religion_group = chaos_gods_group }
				NOT = { religion_group = necromantic_group }
				NOT = { religion_group = horned_rat_god_group }
				 }
			piety = -400 }
		hidden_tooltip = {
			any_vassal = {
				limit = { OR = { religion = nurgle
						AND = { NOT = { religion_group = chaos_gods_group }
							NOT = { religion_group = necromantic_group }
							NOT = { religion_group = horned_rat_god_group } } }
					 }
				opinion = { modifier = opinion_lunatic_w
						who = ROOT
						years = 10 }
				 }
			any_courtier = {
				limit = { is_landed = no
					OR = { religion = nurgle
						AND = { NOT = { religion_group = chaos_gods_group }
							NOT = { religion_group = necromantic_group }
							NOT = { religion_group = horned_rat_god_group } } }
					 }
				opinion = { modifier = opinion_lunatic_w
						who = ROOT
						years = 10 }
				}
			}
		change_variable = { which = "lunatic_counter" value = 3 }
		add_character_modifier = { name = heart_of_melancholy duration = -1 }
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
	}
}

#####################

#Everchild interacts with his mother
character_event = {
	id = slunacy.43
	desc = { text = EVTDESCAslunacy43
		trigger = { mother = { NOR = { graphical_culture = lahmianeverkidgfx
					graphical_culture = carsteineverkidgfx } } }
		}
	desc = { text = EVTDESCBslunacy43
		trigger = { mother = { OR = { graphical_culture = lahmianeverkidgfx
					graphical_culture = carsteineverkidgfx } } }
		}
	picture = GFX_evt_vampire_politics

	trigger = { has_character_modifier = everchild_syndrome
			trait = lunatic_2
			mother = { is_alive = yes }
			NOT = { trait = resting }
			NOT = { trait = incapable }
			NOT = { trait = incapacitated } }

	min_age = 75
	mean_time_to_happen = { years = 33}

	option = {
		name = EVTOPTAslunacy43
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
		mother = { character_event = { id = slunacy.43005 } }
	}
}

#Mother receives request
character_event = {
	id = slunacy.43005
	desc = { text = EVTDESCAslunacy43005
		trigger = { mother = { NOR = { graphical_culture = lahmianeverkidgfx
					graphical_culture = carsteineverkidgfx } } }
		}
	desc = { text = EVTDESCBslunacy43005
		trigger = { mother = { OR = { graphical_culture = lahmianeverkidgfx
					graphical_culture = carsteineverkidgfx } } }
		}
	picture = GFX_evt_vampire_politics

	is_triggered_only = yes

	option = { #Suckle
		name = EVTOPTAslunacy43005
		trigger = { NOR = { graphical_culture = lahmianeverkidgfx
			graphical_culture = carsteineverkidgfx } }
		hidden_tooltip = { FROM = { character_event = { id = slunacy.43006 } } }
	}
	option = { #Get away
		name = EVTOPTBslunacy43005
		trigger = { NOR = { graphical_culture = lahmianeverkidgfx
			graphical_culture = carsteineverkidgfx } }
		hidden_tooltip = { FROM = { character_event = { id = slunacy.43007 } } }
	}
	option = { #Make fun
		name = EVTOPTCslunacy43005
		trigger = { OR = { graphical_culture = lahmianeverkidgfx
			graphical_culture = carsteineverkidgfx } }
		hidden_tooltip = { FROM = { character_event = { id = slunacy.43008 } } }
	}
}

#Everchild suckles
character_event = {
	id = slunacy.43006
	desc = { text = EVTDESCAslunacy43006
		trigger = { NOR = { graphical_culture = lahmianeverkidgfx
			graphical_culture = carsteineverkidgfx } }
		}
	desc = { text = EVTDESCBslunacy43006
		trigger = { OR = { graphical_culture = lahmianeverkidgfx
			graphical_culture = carsteineverkidgfx } }
		}
	picture = GFX_evt_vampire_politics

	is_triggered_only = yes

	option = { #Turn her if she's human
		name = EVTOPTAslunacy43006
		trigger = { FROM = { trait = creature_human
				NOR = { trait = vampire_lahmian_visible
					trait = vampire_carstein_visible
					trait = vampire_blood_visible
					trait = vampire_strigoi_visible
					trait = vampire_necrarch_visible
					trait = vampire_jade_visible
					trait = vampire_mahtmasi_visible
					trait = vampire_lahmian_hidden
					trait = vampire_carstein_hidden
					trait = vampire_blood_hidden
					trait = vampire_strigoi_hidden
					trait = vampire_necrarch_hidden
					trait = vampire_jade_hidden
					trait = vampire_mahtmasi_hidden } } }
					hidden_tooltip = {
						FROM = {
							clear_favour_effect = yes
							clr_character_flag = hidden_cultist_tzeentch
							clr_character_flag = hidden_cultist_nurgle
							clr_character_flag = hidden_cultist_slaanesh
							clr_character_flag = hidden_cultist_khorne
							clr_character_flag = hidden_cultist_undivided
				}
			}
	if = {
	limit = {
	trait = vampire_lahmian_visible
	}
	FROM = { add_trait = vampire_lahmian_visible
	set_graphical_culture = lahmian_vampire }
	FROM = { religion = nagashi }
	}
	if = {
	limit = {
	trait = vampire_carstein_visible
	}
	FROM = { add_trait = vampire_carstein_visible
	set_graphical_culture = generic_vampire }
	FROM = { religion = vampiric }
	}
	if = {
	limit = {
	trait = vampire_blood_visible
	}
	FROM = { add_trait = vampire_blood_visible
	culture = blooddragons_culture
	set_graphical_culture = generic_vampire }
	FROM = { religion = vampiric }
	}
	if = {
	limit = {
	trait = vampire_necrarch_visible
	}
	FROM = { add_trait = vampire_necrarch_visible
	set_graphical_culture = generic_vampire }
	FROM = { religion = vampiric }
	}
	if = {
	limit = {
	trait = vampire_jade_visible
	}
	FROM = { add_trait = vampire_jade_visible
	set_graphical_culture = generic_vampire }
	FROM = { religion = vampiric }
	}
	if = {
	limit = {
	trait = vampire_mahtmasi_visible
	}
	FROM = { add_trait = vampire_mahtmasi_visible
	set_graphical_culture = generic_vampire }
	FROM = { religion = vampiric }
	}
	recalc_succession = yes
	}
	option = { #Just suckle if vampire
		name = EVTOPTBslunacy43006
		trigger = {
			FROM = {
				is_vampire_trigger = yes
			}
		}
	}
}


#Child is pushed away
character_event = {
	id = slunacy.43007
	desc = EVTDESCAslunacy43007
	picture = GFX_evt_vampire_politics

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy43007
		opinion = { who = FROM
			modifier = opinion_annoyed }
	}
}

#Mother is child as well
character_event = {
	id = slunacy.43008
	desc = EVTDESCAslunacy43008
	picture = GFX_evt_vampire_politics

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy43008
		add_friend = FROM
	}
}

#A spouse or lover has an everchild
character_event = {
	id = slunacy.44
	desc = { text = EVTDESCAslunacy44
		trigger = {
			is_vampire_trigger = no
		}
	}
	desc = { text = EVTDESCBslunacy44
		trigger = {
			is_vampire_trigger = yes
		}
	}
	picture = GFX_evt_vampire_politics
	min_age = 16

	trigger = {
		OR = {
			any_spouse = { has_character_modifier = everchild_syndrome }
			any_lover = { has_character_modifier = everchild_syndrome }
		}
		NOR = {
			trait = resting
			trait = incapable
			trait = incapacitated
			graphical_culture = lahmianeverkidgfx
			graphical_culture = carsteineverkidgfx
		}
	}

	mean_time_to_happen = { years = 10}

	option = { #Don't love it anymore
		name = EVTOPTAslunacy44
		if = { limit = { any_lover = { has_character_modifier = everchild_syndrome } }
				random_lover = { limit = { has_character_modifier = everchild_syndrome }
							character_event = { id = slunacy.44001 } }
				break = yes }
		if = { limit = { any_spouse = { has_character_modifier = everchild_syndrome } }
				random_spouse = { limit = { has_character_modifier = everchild_syndrome }
							character_event = { id = slunacy.44001 } }
				break = yes }
	}
	option = { #It was never about love
		name = EVTOPTBslunacy44
		trigger = { NOT = { any_lover = { has_character_modifier = everchild_syndrome } } }
		if = { limit = { any_lover = { has_character_modifier = everchild_syndrome } }
				random_lover = { limit = { has_character_modifier = everchild_syndrome }
							character_event = { id = slunacy.44002 } }
				break = yes }
		if = { limit = { any_spouse = { has_character_modifier = everchild_syndrome } }
				random_spouse = { limit = { has_character_modifier = everchild_syndrome }
							character_event = { id = slunacy.44002 } }
				break = yes }
	}
	option = { #Actually...
		name = EVTOPTCslunacy44
		trigger = { OR = { trait = lustful
					trait = hedonist
					religion = slaanesh } }
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
		if = { limit = { any_lover = { has_character_modifier = everchild_syndrome } }
				random_lover = { limit = { has_character_modifier = everchild_syndrome }
							character_event = { id = slunacy.44003 }
						remove_lover = ROOT }
				break = yes }
		if = { limit = { any_spouse = { has_character_modifier = everchild_syndrome } }
				random_spouse = { limit = { has_character_modifier = everchild_syndrome }
							character_event = { id = slunacy.44003 } }
				break = yes }
	}
}

#Lover/Spouse doesn't love you as a child anymore
character_event = {
	id = slunacy.44001
	desc = { text = EVTDESCAslunacy44001
		trigger = { FROM = { NOR = { trait = vampire_lahmian_visible
					trait = vampire_carstein_visible
					trait = vampire_blood_visible
					trait = vampire_strigoi_visible
					trait = vampire_necrarch_visible
					trait = vampire_jade_visible
					trait = vampire_mahtmasi_visible
					trait = vampire_lahmian_hidden
					trait = vampire_carstein_hidden
					trait = vampire_blood_hidden
					trait = vampire_strigoi_hidden
					trait = vampire_necrarch_hidden
					trait = vampire_jade_hidden
					trait = vampire_mahtmasi_hidden } } }
		}
	desc = { text = EVTDESCBslunacy44001
		trigger = { FROM = { OR = { trait = vampire_lahmian_visible
					trait = vampire_carstein_visible
					trait = vampire_blood_visible
					trait = vampire_strigoi_visible
					trait = vampire_necrarch_visible
					trait = vampire_jade_visible
					trait = vampire_mahtmasi_visible
					trait = vampire_lahmian_hidden
					trait = vampire_carstein_hidden
					trait = vampire_blood_hidden
					trait = vampire_strigoi_hidden
					trait = vampire_necrarch_hidden
					trait = vampire_jade_hidden
					trait = vampire_mahtmasi_hidden } } }
		}
	picture = GFX_evt_vampire_politics

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy44001
		opinion = { who = FROM
			modifier = opinion_annoyed }
	}
}

#Spouse/Lover is cold towards you
character_event = {
	id = slunacy.44002
	desc = EVTDESCAslunacy44002
	picture = GFX_evt_vampire_politics

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy44002
		opinion = { who = FROM
			modifier = opinion_annoyed }
	}
}

#Spouse/Lover likes your childish charms
character_event = {
	id = slunacy.44003
	desc = EVTDESCAslunacy44003
	picture = GFX_evt_vampire_politics

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy44003
		add_lover = FROM
		opinion = { who = FROM
			modifier = opinion_lustful_buddy }
	}
}

# Exquisite Pleasures - Becomes Hedonist
character_event = {
	id = slunacy.45
	desc = EVTDESCslunacy45
	picture = GFX_evt_vampire_politics

	min_age = 75

	trigger = { has_character_modifier = exquisite_agonies
			NOT = { trait = hedonist }
			NOT = { trait = resting }
			NOT = { trait = incapable }
			NOT = { trait = incapacitated } }

	mean_time_to_happen = { years = 10}

	option = {
		name = EVTOPTAslunacy45
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
		add_trait = hedonist
	}
}

# Exquisite Pleasures - Try new things
character_event = {
	id = slunacy.46
	desc = EVTDESCslunacy46
	picture = GFX_evt_vampire_politics

	min_age = 75

	trigger = { has_character_modifier = exquisite_agonies
			trait = hedonist
			NOT = { trait = resting }
			NOT = { trait = incapable }
			NOT = { trait = incapacitated } }

	mean_time_to_happen = { years = 10}

	option = { #cutting
		name = EVTOPTAslunacy46
		hidden_tooltip = { character_event = { id = slunacy.46001 days = 2 random = 2 } }
	}
	option = { #drinking
		name = EVTOPTBslunacy46
		hidden_tooltip = { random_list = {
						50 = { character_event = { id = slunacy.46002 days = 2 random = 2 } }
						50 = { character_event = { id = slunacy.46003 days = 2 random = 2 } }
					 }
				 }
	}
	option = { #lusting
		name = EVTOPTCslunacy46
		hidden_tooltip = { random_list = {
						25 = { character_event = { id = slunacy.46004 days = 2 random = 2 } }
						25 = { character_event = { id = slunacy.46005 days = 2 random = 2 } }
						25 = { character_event = { id = slunacy.46006 days = 2 random = 2 } }
						25 = { character_event = { id = slunacy.46007 days = 2 random = 2 } }
					 }
				 }
	}
	option = { #experimenting
		name = EVTOPTDslunacy46
		hidden_tooltip = { random_list = {
						25 = { character_event = { id = slunacy.46008 days = 2 random = 2 } }
						25 = { character_event = { id = slunacy.46009 days = 2 random = 2 } }
						25 = { character_event = { id = slunacy.46010 days = 2 random = 2 } }
						25 = { character_event = { id = slunacy.46011 days = 2 random = 2 } }
					 }
				 }
	}
}
# Exquisite Pleasures - Cutting
character_event = {
	id = slunacy.46001
	desc = EVTDESCslunacy46001
	picture = GFX_evt_feral_vampire

	trigger = { has_character_modifier = exquisite_agonies
			NOT = { trait = resting }
			NOT = { trait = incapable }
			NOT = { trait = incapacitated } }

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy46001
		if = { limit = { trait = maimed }
			random = { chance = 40
				remove_trait = maimed
				add_trait = disfigured } }
 		if = { limit = { OR = { trait = scarred
					trait = wounded } }
			random = { chance = 10
				add_trait = maimed } }
 		if = { limit = { NOT = { trait = scarred }
				 NOT = { trait = wounded }
				 NOT = { trait = maimed } }
			add_trait = wounded }
	}
}

# Exquisite Pleasures - Drink blood
character_event = {
	id = slunacy.46002
	desc = EVTDESCslunacy46002
	picture = GFX_evt_feral_vampire

	trigger = { has_character_modifier = exquisite_agonies
			NOT = { trait = resting }
			NOT = { trait = incapable }
			NOT = { trait = incapacitated } }

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy46002
 		if = { limit = { trait = gluttonous }
			random = { chance = 25
				add_trait = is_fat } }
 		if = { limit = { NOT = { trait = gluttonous }
				 NOT = { trait = temperate } }
			random = { chance = 30
				add_trait = gluttonous } }
 		if = { limit = { trait = temperate }
			random = { chance = 40
				remove_trait = temperate } }
	}
}

# Exquisite Pleasures - Eat flesh
character_event = {
	id = slunacy.46003
	desc = EVTDESCslunacy46003
	picture = GFX_evt_feral_vampire

	trigger = { has_character_modifier = exquisite_agonies
			NOT = { trait = resting }
			NOT = { trait = incapable }
			NOT = { trait = incapacitated } }

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy46003
		piety = -50
		any_vassal = { limit = { OR = { trait = vampire_lahmian_visible
						trait = vampire_carstein_visible
						trait = vampire_blood_visible
						trait = vampire_necrarch_visible
						trait = vampire_mahtmasi_visible } }

			opinion = { modifier = opinion_depraved_undead
					who = FROM }
			}
		any_courtier = { limit = { is_ruler = no
					OR = { trait = vampire_lahmian_visible
						trait = vampire_carstein_visible
						trait = vampire_blood_visible
						trait = vampire_necrarch_visible
						trait = vampire_mahtmasi_visible } }

			opinion = { modifier = opinion_depraved_undead
					who = FROM }
			}

		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
		hidden_tooltip = { random_list = {
						70 = { change_variable = { which = "lunatic_counter" value = 2 } }
						30 = { modifier = { factor = 2.5
									OR = { trait = vampire_strigoi_visible
										trait = vampire_strigoi_hidden } }
							}
					 }
				 }
 		if = { limit = { trait = gluttonous }
			random = { chance = 25
				add_trait = is_fat } }
 		if = { limit = { NOT = { trait = gluttonous }
				 NOT = { trait = temperate } }
			random = { chance = 30
				add_trait = gluttonous } }
 		if = { limit = { trait = temperate }
			random = { chance = 40
				remove_trait = temperate } }
	}
}

# Exquisite Pleasures - Lusting on vampires
character_event = {
	id = slunacy.46004
	desc = EVTDESCslunacy46004
	picture = GFX_evt_vampire_politics

	trigger = { has_character_modifier = exquisite_agonies
			NOT = { trait = resting }
			NOT = { trait = incapable }
			NOT = { trait = incapacitated } }

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy46004
		piety = 50
 		if = { limit = { NOT = { trait = lustful }
				 NOT = { trait = chaste }
				 NOT = { trait = celibate } }
			random = { chance = 50
				add_trait = lustful } }
 		if = { limit = { OR = { trait = celibate
					trait = chaste } }
			random = { chance = 50
				remove_trait = chaste
				remove_trait = celibate } }
	}
}


# Exquisite Pleasures - Lusting on mortals
character_event = {
	id = slunacy.46005
	desc = EVTDESCslunacy46005
	picture = GFX_evt_vampire_politics

	trigger = { has_character_modifier = exquisite_agonies
			NOT = { trait = resting }
			NOT = { trait = incapable }
			NOT = { trait = incapacitated } }

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy46005
		piety = -50
		any_vassal = { limit = { OR = { trait = vampire_blood_visible
						trait = vampire_necrarch_visible
						trait = vampire_mahtmasi_visible } }

			opinion = { modifier = opinion_depraved_undead
					who = FROM }
			}
		any_courtier = { limit = { is_ruler = no
					OR = { trait = vampire_blood_visible
						trait = vampire_necrarch_visible
						trait = vampire_mahtmasi_visible } }
			opinion = { modifier = opinion_depraved_undead
					who = FROM }
			}
 		if = { limit = { NOT = { trait = lustful }
				 NOT = { trait = chaste }
				 NOT = { trait = celibate } }
			random = { chance = 50
				add_trait = lustful } }
 		if = { limit = { OR = { trait = celibate
					trait = chaste } }
			random = { chance = 50
				remove_trait = chaste
				remove_trait = celibate } }
	}
}

# Exquisite Pleasures - Lusting on ghouls
character_event = {
	id = slunacy.46006
	desc = EVTDESCslunacy46006
	picture = GFX_evt_feral_vampire

	trigger = { has_character_modifier = exquisite_agonies
			NOT = { trait = resting }
			NOT = { trait = incapable }
			NOT = { trait = incapacitated } }

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy46006
		prestige = -50
		piety = -50
		any_vassal = { limit = { OR = { trait = vampire_lahmian_visible
						trait = vampire_carstein_visible
						trait = vampire_blood_visible
						trait = vampire_mahtmasi_visible } }

			opinion = { modifier = opinion_depraved_undead
					who = FROM }
			}
		any_courtier = { limit = { is_ruler = no
					OR = { trait = vampire_lahmian_visible
						trait = vampire_carstein_visible
						trait = vampire_blood_visible
						trait = vampire_mahtmasi_visible } }

			opinion = { modifier = opinion_depraved_undead
					who = FROM }
			}
 		if = { limit = { NOT = { trait = lustful }
				 NOT = { trait = chaste }
				 NOT = { trait = celibate } }
			random = { chance = 50
				add_trait = lustful } }
 		if = { limit = { OR = { trait = celibate
					trait = chaste } }
			random = { chance = 50
				remove_trait = chaste
				remove_trait = celibate } }
	}
}

# Exquisite Pleasures - Lusting on undead
character_event = {
	id = slunacy.46007
	desc = EVTDESCslunacy47007
	picture = GFX_evt_feral_vampire

	trigger = { has_character_modifier = exquisite_agonies
			NOT = { trait = resting }
			NOT = { trait = incapable }
			NOT = { trait = incapacitated } }

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy47007
		prestige = -150
		piety = -150
 		if = { limit = { NOT = { trait = lustful }
				 NOT = { trait = chaste }
				 NOT = { trait = celibate } }
			random = { chance = 50
				add_trait = lustful } }
 		if = { limit = { OR = { trait = celibate
					trait = chaste } }
			random = { chance = 50
				remove_trait = chaste
				remove_trait = celibate } }
	}
}

# Exquisite Pleasures - Daring the sun
character_event = {
	id = slunacy.46008
	desc = EVTDESCslunacy47008
	picture = GFX_evt_feral_vampire

	trigger = { has_character_modifier = exquisite_agonies
			NOT = { trait = resting }
			NOT = { trait = incapable }
			NOT = { trait = incapacitated } }

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy47008
		health = -1
		random = { chance = 10
		if = {
 limit = {
 is_invincible_trigger = yes
 }

			antideath_effect = yes
			break = yes
}
			death = { death_reason = death_accident } }
	}
}

# Exquisite Pleasures - Hooks and chains
character_event = {
	id = slunacy.46009
	desc = EVTDESCslunacy47009
	picture = GFX_evt_feral_vampire

	trigger = { has_character_modifier = exquisite_agonies
			NOT = { trait = resting }
			NOT = { trait = incapable }
			NOT = { trait = incapacitated } }

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy47009
		health = -0.25
	}
}

# Exquisite Pleasures - The Holy Symbols
character_event = {
	id = slunacy.46010
	desc = EVTDESCslunacy47010
	picture = GFX_evt_feral_vampire

	trigger = { has_character_modifier = exquisite_agonies
			NOT = { trait = resting }
			NOT = { trait = incapable }
			NOT = { trait = incapacitated } }

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy47010
		health = -0.5
	}
}

# Exquisite Pleasures - Running water
character_event = {
	id = slunacy.46011
	desc = EVTDESCslunacy47011
	picture = GFX_evt_feral_vampire

	trigger = { has_character_modifier = exquisite_agonies
			NOT = { trait = resting }
			NOT = { trait = incapable }
			NOT = { trait = incapacitated } }

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy47011
		health = -1
		random = { chance = 10
		if = {
 limit = {
 is_invincible_trigger = yes
 }

			antideath_effect = yes
			break = yes
}
			death = { death_reason = death_accident } }
	}
}

# Heart of Melancholy - Becomes depressed
character_event = {
	id = slunacy.48
	desc = EVTDESCslunacy48
	picture = GFX_evt_feral_vampire

	min_age = 75

	trigger = { has_character_modifier = heart_of_melancholy
			NOT = { trait = depressed }
			NOT = { trait = resting }
			NOT = { trait = incapable }
			NOT = { trait = incapacitated } }

	mean_time_to_happen = { years = 10}

	option = {
		name = EVTOPTAslunacy48
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
		add_trait = depressed
	}
}

# Heart of Melancholy - Recollects about past glories
character_event = {
	id = slunacy.49
	desc = EVTDESCslunacy49
	picture = GFX_evt_feral_vampire

	min_age = 75

	trigger = { has_character_modifier = heart_of_melancholy
			NOT = { trait = resting }
			NOT = { trait = incapable }
			NOT = { trait = incapacitated } }

	mean_time_to_happen = { years = 10}

	option = {
		name = EVTOPTAslunacy49
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
		prestige = -50

	}
}
# Heart of Melancholy - Goes into hibernation
character_event = {
	id = slunacy.49001
	desc = EVTDESCslunacy49001
	picture = GFX_evt_feral_vampire

	min_age = 75

	trigger = { has_character_modifier = heart_of_melancholy
			NOT = { trait = resting }
			NOT = { trait = incapable }
			NOT = { trait = incapacitated } }

	mean_time_to_happen = { years = 30}

	option = {
		name = EVTOPTAslunacy49001
		hidden_tooltip = { character_event = { id = mutate.5 } } #lunacy counter
		add_trait = resting
		capital_scope = { add_character_modifier = { name = hidden_hibernated_strigoi
									duration = -1 } }
		hidden_tooltip = { character_event = { id = slunacy.49005 days = 100 random = 900 } } #hibernation clock
	}
}

# Heart of Melancholy - Chance to awaken again
character_event = {
	id = slunacy.49005
	desc = EVTDESCslunacy49005
	picture = GFX_evt_feral_vampire

	trigger = { trait = resting }

	is_triggered_only = yes

	option = {
		name = EVTOPTAslunacy49005
		remove_trait = resting
		capital_scope = { remove_character_modifier = hidden_hibernated_strigoi }
	}
	option = {
		name = EVTOPTBslunacy49005
		piety = 750
		hidden_tooltip = { character_event = { id = slunacy.49005 days = 100 random = 900 } } #hibernation clock
	}
}
