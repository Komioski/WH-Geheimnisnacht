namespace = chaosr
### Hidden Tombola (prep/travel? events)
character_event = {
    id = chaosr.1
	desc=EVTDESCchaosR1
    is_triggered_only = yes

	hide_window = yes

    trigger = {
		OR={
		event_target:chaos_settlement_province={
			num_of_max_settlements >= 5
			OR={
				has_castle = yes
				has_city = yes
			}
		}
		event_target:chaos_settlement_province={
			num_of_settlements <= 4
			OR={
				has_castle = no
				has_city = no
			}
		}}
        event_target:chaos_settlement={
			holding_type=tribal
			num_of_buildings >= 1
		}
    }
	fail_trigger_effect = {
        event_target:chaos_settlement_province={
			clr_province_flag = start_bracket
			clr_province_flag = mid_bracket
			clr_province_flag = top_bracket
			clr_province_flag = development_is_done
			set_variable ={ which = chaos_settlement_event_progress value = 0}
			if={limit={
				event_target:chaos_settlement_province={
					num_of_max_settlements >= 5
					NOT={
						has_castle = yes
						has_city = yes
					}
				}
			}
			province_event={id=chaosr.9} #Destroy Settlement
			}
		}
	}

    immediate = {
		if={limit={event_target:chaos_settlement={holder_scope={higher_tier_than=baron}}}
			if={limit={NOT={event_target:chaos_settlement_province={has_province_flag = absence_of_governor1}}}
			event_target:chaos_settlement_province={set_province_flag = absence_of_governor1}
			repeat_event={id=chaosr.1 days=365}
			}
			else_if={limit={event_target:chaos_settlement_province={has_province_flag = absence_of_governor1}}
			event_target:chaos_settlement_province={set_province_flag = absence_of_governor2}
			event_target:chaos_settlement_province={clr_province_flag = absence_of_governor1}
			repeat_event={id=chaosr.1 days=365}
			}
			else_if={limit={event_target:chaos_settlement_province={has_province_flag = absence_of_governor2}}
			province_event={id=chaosr.9} #Destroy Settlement
			}
			break=yes
		}
        #event_targets usable:
        # chaos_warlord (Founder)
        # chaos_chief
        # chaos_settlement
        # chaos_settlement_province

        random_list = {
			#General Events
            15 = { #Development
                trigger = {
                    NOT={event_target:chaos_settlement_province={has_province_flag = development_is_done}}
                }
                #Run single progress point...
                add_1_point_to_chaos_settlement_progress_effect = yes #up variable for outcomes...
                evaluate_chaos_settlement_progress_effect = yes
                province_event={id=chaosr.6 days=369}
            }
            5 = { #Warlord
                trigger = {
                    NOT={event_target:chaos_settlement_province={has_province_flag = development_is_done}}
                }
                #Run single progress point...
                lose_1_point_to_chaos_settlement_progress_effect = yes #up variable for outcomes...
				evaluate_chaos_settlement_progress_effect = yes
                province_event={id=chaosr.7 days=360}
            }
            10 = { #Assassination
                trigger = {
					NOT={event_target:chaos_settlement_province={has_province_flag = start_bracket}}
                    NOT={event_target:chaos_settlement_province={has_province_flag = development_is_done}}
                }
                #Run single progress point...
                lose_1_point_to_chaos_settlement_progress_effect = yes #up variable for outcomes...
				evaluate_chaos_settlement_progress_effect = yes
                province_event={id=chaosr.8 days=300}
            }
            10 = { #Lose a Building
                trigger = {NOT={event_target:chaos_settlement_province={has_province_flag = development_is_done}}}
				add_1_point_to_chaos_settlement_progress_effect = yes #up variable for outcomes...
				evaluate_chaos_settlement_progress_effect = yes
                event_target:chaos_settlement_province={province_event = { id = chaosr.3 days=120}}
            }
			#Progression
            5 = { #Player fakes progress...
                trigger = {event_target:chaos_settlement_province={has_province_flag = start_bracket}}
                random = {
                    chance = 75
                    #Run single progress point...
                    add_1_point_to_chaos_settlement_progress_effect = yes #up variable for outcomes...
                    evaluate_chaos_settlement_progress_effect = yes
                }
                repeat_event={id=chaosr.1 days=60}
            }
			#Mid Bracket
            # 10 = { ### Travel starts!
            #     trigger = {
            #         event_target:chaos_settlement_province={has_province_flag = mid_bracket}
            #     }
            #     repeat_event={id=chaosr.1 days=1}
            # }
            10 = { #Player fakes progress...
                trigger = {
                    event_target:chaos_settlement_province={has_province_flag = mid_bracket}
                }
                random = {
                    chance = 85
                    #Run single progress point...
                    add_1_point_to_chaos_settlement_progress_effect = yes #up variable for outcomes...
                    evaluate_chaos_settlement_progress_effect = yes
                }
                repeat_event={id=chaosr.1 days=120}
            }
            ### Top Bracket
            # 10 = { ### Travel starts!
            #     trigger = {
            #         event_target:chaos_settlement_province={has_province_flag = top_bracket}
            #         NOT={event_target:chaos_settlement_province={has_province_flag = development_is_done}}
            #     }
            #     repeat_event={id=chaosr.1 days=1}
            # }
            10 = { #Player fakes progress...
                trigger = {
                    event_target:chaos_settlement_province={has_province_flag = top_bracket}
                    NOT={event_target:chaos_settlement_province={has_province_flag = development_is_done}}
                }
                random = {
                    chance = 85
                    #Run single progress point...
                    add_1_point_to_chaos_settlement_progress_effect = yes #up variable for outcomes...
                    evaluate_chaos_settlement_progress_effect = yes
                }
                repeat_event={id=chaosr.1 days=240}
            }
			#
            10 = { # FINAL EVENTS...
                trigger = {
                    event_target:chaos_settlement_province={has_province_flag = development_is_done}
                }
                event_target:chaos_settlement_province={province_event = { id = chaosr.4 days=62}}
            }
        }
    }
	option={name=OK}
}
province_event={
	id=chaosr.2
	desc = EVTDESCchaosR2
	picture = GFX_evt_chaos_marauder
	border = GFX_event_normal_frame_economy

    is_triggered_only = yes

	immediate={
	}
	option={
		THIS={
		hidden_effect={set_variable ={ which = chaos_settlement_event_progress value = 0}
		set_variable ={ which = chaos_settlement_development value = 0}}
		save_event_target_as=chaos_settlement_province
		set_province_flag=start_bracket
		any_province_holding={limit={holding_type=tribal}
			add_building=tb_steppe_hold_1
			add_building=tb_market_town_1
			add_building=tb_steppechaos_barracks_1
			if={limit={event_target:chaos_chief={culture=FROMFROM}}
			add_building=tb_noblestable_1
			add_building=tb_steppe_hold_2
			}
			if={limit={event_target:chaos_chief={culture_group=kurgan_group}}
			add_building=tb_steppekurgan_militia_1
			}
			else_if={limit={event_target:chaos_chief={culture_group=hung_group}}
			add_building=tb_steppehung_militia_1
			}
			save_event_target_as=chaos_settlement
		}}
		character_event={ id=chaosr.1 }
		name=EXCELLENT
	}
}
province_event={
	id=chaosr.3
	desc = EVTDESCchaosR3
	picture = GFX_evt_questing_chaos_wastes
	border = GFX_event_normal_frame_war
    is_triggered_only = yes

	immediate={
	}
	option={
		event_target:chaos_settlement={
			destroy_random_building=yes
		}
		character_event={ id=chaosr.1 }
		name=CURSES
	}
}
province_event={
	id=chaosr.4
	desc = EVTDESCchaosR4
	picture = GFX_evt_questing_darklands
	border = GFX_event_normal_frame_economy
    is_triggered_only = yes

	immediate={
	}
	option={
		trigger={event_target:chaos_settlement_province={has_city = no}}
		event_target:chaos_settlement={
			convert_to = city
		}
		event_target:chaos_settlement_province={
		if={limit = {check_variable = { which = chaos_settlement_event_progress value = 4 }}
			event_target:chaos_settlement={
			add_building=ct_wall_1
			add_building=ct_wall_2
			add_building=ct_wall_q_1
			add_building=ct_training_grounds_1
			add_building=ct_training_grounds_2
			add_building=ct_barracks_1
			add_building=ct_barracks_2
			add_building=ct_marketplace_1
			}}
			else_if={limit = {check_variable = { which = chaos_settlement_event_progress value = 3 }}
			event_target:chaos_settlement={
			add_building=ct_wall_1
			add_building=ct_wall_2
			add_building=ct_wall_q_1
			add_building=ct_training_grounds_1
			add_building=ct_barracks_1
			add_building=ct_marketplace_1
			}}
			else_if={limit = {check_variable = { which = chaos_settlement_event_progress value = 2 }}
			event_target:chaos_settlement={
			add_building=ct_wall_1
			add_building=ct_training_grounds_1
			add_building=ct_barracks_1
			add_building=ct_marketplace_1
			}}
			else_if={limit = {check_variable = { which = chaos_settlement_event_progress value = 1 }}
			event_target:chaos_settlement={
			add_building=ct_wall_1
			add_building=ct_training_grounds_1
			}}
		}
		event_target:chaos_settlement_province={
		clr_province_flag = absence_of_governor1
		clr_province_flag = absence_of_governor2
		clr_province_flag=development_is_done
		set_variable ={ which = chaos_settlement_event_progress value = 0}
		}
		prestige=250
		name=EVTOPTA_chaosR4
	}
	option={
		trigger={event_target:chaos_settlement_province={has_castle = no}}
		event_target:chaos_settlement={
			convert_to = castle
		}
		event_target:chaos_settlement_province={
		if={limit = {check_variable = { which = chaos_settlement_event_progress value = 4 }}
			event_target:chaos_settlement={
			add_building=ca_wall_1
			add_building=ca_wall_2
			add_building=ca_wall_q_1
			add_building=ca_militia_barracks_1
			add_building=ca_militia_barracks_2
			add_building=ca_steppe_barracks_1
			add_building=ca_steppe_barracks_2
			add_building=ca_town_1
			}}
			else_if={limit = {check_variable = { which = chaos_settlement_event_progress value = 3 }}
			event_target:chaos_settlement={
			add_building=ca_wall_1
			add_building=ca_wall_2
			add_building=ca_wall_q_1
			add_building=ca_militia_barracks_1
			add_building=ca_steppe_barracks_1
			add_building=ca_town_1
			}}
			else_if={limit = {check_variable = { which = chaos_settlement_event_progress value = 2 }}
			event_target:chaos_settlement={
			add_building=ca_wall_1
			add_building=ca_militia_barracks_1
			add_building=ca_steppe_barracks_1
			add_building=ca_town_1
			}}
			else_if={limit = {check_variable = { which = chaos_settlement_event_progress value = 1 }}
			event_target:chaos_settlement={
			add_building=ca_wall_1
			add_building=ca_steppe_barracks_1
			}}
		}
		event_target:chaos_settlement_province={
		clr_province_flag = absence_of_governor1
		clr_province_flag = absence_of_governor2
		clr_province_flag=development_is_done
		set_variable ={ which = chaos_settlement_event_progress value = 0}
		}
		prestige=250
		name=EVTOPTB_chaosR4
	}
}
# province_event={
# 	id=chaosr.5
# 	desc = EVTDESCchaosR5
#	picture = GFX_evt_chaos_marauder
#	border = GFX_event_normal_frame_war
#   is_triggered_only = yes
#
#	immediate={
#	}
#	option={
#		name=EXCELLENT
#	}
#}
province_event={
	id=chaosr.6
	desc = EVTDESCchaosR6
	picture = GFX_evt_chaos_march
	border = GFX_event_normal_frame_war
    is_triggered_only = yes

	immediate={
		event_target:chaos_settlement_province={change_variable = { which = chaos_settlement_development value = 1 }}
	}
	option={
		name=EXCELLENT
		character_event={ id=chaosr.1 }
		manpower=100
		prestige=100
	}
}
province_event={
	id=chaosr.7
	desc = EVTDESCchaosR7
	picture = GFX_evt_chaos_march
	border = GFX_event_normal_frame_war
    is_triggered_only = yes

	immediate={
		event_target:chaos_settlement_province={ set_province_flag=force_peasant_revolt province_event={ id=TOG.1000 }}
	}
	option={
		name=EVTOPTA_TOG_1000
		character_event={ id=chaosr.1 }
		prestige=-100
	}
}
province_event={
	id=chaosr.8
	desc = EVTDESCchaosR8
	picture = GFX_evt_chaos_march
	border = GFX_event_normal_frame_war
    is_triggered_only = yes

	immediate={
		event_target:chaos_settlement_province={change_variable = { which = chaos_settlement_development value = 1 }}
		if={limit={event_target:chaos_settlement={holder_scope={any_dynasty_member ={is_heir = no}}}}
			random_list={
				20={
				create_random_diplomat={
					dynasty = random
					religion = nurgle
					culture = event_target:chaos_settlement_province
					female = no
					age = 50
					add_trait = has_nurgle_rot
					add_trait = quick
					add_trait = ugly
					add_trait = chaste
					add_trait = champion_nurgle
				}}
				20={
				create_random_steward={
					dynasty = random
					religion = slaanesh
					culture = event_target:chaos_settlement_province
					female = yes
					age = 16
					health = 6
					fertility = 0.8

					attributes = {
					martial = 9
					diplomacy = 3
					stewardship = 9
					intrigue = 12
					learning = 6
					}
					add_trait = patient
					add_trait = shrewd
					add_trait = proud
					add_trait = lustful
					add_trait = champion_slaanesh
				}}
				20={
				create_random_soldier={
					dynasty = random
					religion = khorne
					culture = event_target:chaos_settlement_province
					female = no
					age = 17

					attributes = {
					martial = 12
					diplomacy = 6
					stewardship = 4
					intrigue = 3
					learning = 3
					}
					add_trait = temperate
					add_trait = wroth
					add_trait = champion_khorne
				}}
				15={
				create_random_intriguer={
					dynasty = random
					religion = tzeentch
					culture = event_target:chaos_settlement_province
					female = no
					age = 66
					health = 6

					attributes = {
					martial = 12
					diplomacy = 6
					stewardship = 6
					intrigue = 6
					learning = 12
					}
					add_trait = ambitious
					add_trait = champion_tzeentch
					add_trait = scholar
					add_trait = envious
					add_trait = arbitrary
				}}
				20={
				create_character={
					dynasty = random
					religion = chaos
					culture = event_target:chaos_settlement_province
					female = no
					age = 21
					add_trait = chaos_knight
				}}
				5={
				create_character={
					random_traits=no
					dynasty = random
					religion = chaos
					culture = event_target:chaos_settlement_province
					female = no
					age = 16
					add_trait = naive_appeaser
					add_trait = imbecile
					add_trait = feeble
					add_trait = groomed
					add_trait = dull
					add_trait = champion_undivided
					add_trait = trusting
				}}
			}
		}
		new_character = {
            save_event_target_as = chaos_chief
            # Set Racial Trait
            character_event = {
              id = aiclean.31
            }
			nurgle_blessing_check_effect = yes
        }
	}
	option={
		trigger={event_target:chaos_settlement={holder_scope={any_dynasty_member ={is_heir = no}}}}
		name=EVTOPTAchaosR8
		event_target:chaos_chief={
			show_portrait = yes
		}
		event_target:chaos_settlement={holder_scope={ death = {death_reason = death_murder}}}
		event_target:chaos_settlement={grant_title = event_target:chaos_chief}
		character_event={ id=chaosr.1 }
	}
	option={
		trigger={event_target:chaos_settlement={holder_scope={any_dynasty_member ={is_heir = yes}}}}
		name=EVTOPTBchaosR8
		event_target:chaos_settlement={holder_scope={ death = {death_reason = death_murder}}}
		character_event={ id=chaosr.1 }
	}
}
province_event={
	id=chaosr.9
	picture = GFX_evt_questing_darklands
	border = GFX_event_normal_frame_war
    is_triggered_only = yes
	#An outbreak of violence during the occupation of [From.From.GetName] has lead to reprisals from your own troops. Many buildings were destroyed before order was restored.
	desc = {
		text = EVTDESCchaosR9A
		trigger = {event_target:chaos_settlement_province={has_province_flag = absence_of_governor2}}
	}desc = {
		text = EVTDESCchaosR9A
		trigger = {NOT={event_target:chaos_settlement_province={has_province_flag = absence_of_governor2}}}
	}

	immediate={
		event_target:chaos_settlement_province={
		clr_province_flag = start_bracket
		clr_province_flag = mid_bracket
		clr_province_flag = top_bracket
		clr_province_flag = absence_of_governor1
		clr_province_flag = absence_of_governor2
		clr_province_flag=development_is_done
		set_variable ={ which = chaos_settlement_event_progress value = 0}
		}
	}
	option={
		name=CURSES
		prestige=-250
		event_target:chaos_settlement_province={
			destroy_settlement = THIS
		}
	}
}
##Fate of Karak Dum
narrative_event = {
	id = chaosr.20
	title = EVTTITLE_FATE_OF_KARAG_DUM
	border = GFX_event_narrative_frame_war
	religion_group=chaos_gods_group
	desc={
		trigger={ NOT={religion=hashut}}
		text=EVTDESC_CHAOSR_20
	}
	desc={
		trigger={religion=hashut}
		text=EVTDESC_CHAOSR_20_B
	}
	picture = GFX_evt_dwarf_fortress

	trigger = {
		independent = yes
		NOT = { has_global_flag = fate_of_karakdum }
		ROOT = {completely_controls = d_karak_dum}
	}
	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		create_character = { #Easter Egg ;3
			random_traits = no
			name = "Leadbald"
			dynasty = random #Gotha
			religion = hashut
			culture = dwarf_chaos
			female = no
			age = 104
			attributes = {
			martial = 6
			diplomacy = 6
			stewardship = 9
			intrigue = 12
			learning = 6
			}
            trait = creature_dwarf
			trait = thrifty_clerk
			trait = cruel
			trait = architect
			trait = greedy
			trait = temperate
		}
		new_character = {
			if={limit={ROOT={NOT={religion=hashut}}}
			add_trait = adventurer}
			random_list={
				10={add_trait = chaos_dwarf_sorcerer}
        			10 = { add_trait = chaos_dwarf_daemonsmith }
				10={add_trait = ambitious}
				10={
					add_trait = shrewd
					add_trait = sturdy
				}
				10={}
			}
			save_event_target_as=dawi_zharr_candidate
		}
	}

	option = {
		name = EVTOPTA_chaosR20 # Burn it to the Ground
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				OR = {
					religion=nurgle
					religion=tzeentch
					religion=hashut
				}
			}
		}
		if={limit={religion=tzeentch}
			add_offmap_currency = {
				offmap = tzeentch_warp
				value = 100
			}
		}
		if={limit={religion=khorne}
			add_offmap_currency = {
				offmap = khorne_warp
				value = 500
			}
		}
		if={limit={religion=nurgle}
			add_offmap_currency = {
				offmap = nurgle_warp
				value = -100
			}
		}
		if={limit={religion=slaanesh}
			add_offmap_currency = {
				offmap = slaanesh_warp
				value = 100
			}
		}
		hidden_effect={
		any_realm_character = {
			limit = { religion_group = dwarf_gods_group }
			opinion = {
				who = ROOT
				modifier = opinion_furious
				years = 200
			}
		}}
		wealth = 500
		prestige = 250
		piety = 250
		add_trait = greedy
		c_karak_dum={
			grant_title={
			target = PREV
			type = invasion
			}
		}
		c_rodmarin={
			grant_title={
			target = PREV
			type = invasion
			}
		}
		c_grung_dwor={
			grant_title={
			target = PREV
			type = invasion
			}
		}
		c_grongol_norn={
			grant_title={
			target = PREV
			type = invasion
			}
		}
		d_karak_dum={
			grant_title={
			target = PREV
			type = invasion
			}
		}
		hidden_effect={
		gain_settlements_under_title = {
			title = c_karak_dum
			enemy = ROOT
			type = holy_war
		}
		gain_settlements_under_title = {
			title = c_rodmarin
			enemy = ROOT
			type = holy_war
		}
		gain_settlements_under_title = {
			title = c_grung_dwor
			enemy = ROOT
			type = holy_war
		}
		gain_settlements_under_title = {
			title = c_grongol_norn
			enemy = ROOT
			type = holy_war
		}}
		if={limit={religion_group=chaos_gods_group}
			c_karak_dum={
				location={
				culture=kul
				religion=nurgle
				}
			}
			c_rodmarin={
				location={
				culture=baersonling
				religion=khorne
				}
			}
			c_grongol_norn={
				location={
				culture=hastling
				religion=tzeentch
				}
			}
			c_grung_dwor={
				location={
				culture=kul
				religion=chaos
				}
			}
		}
		else_if={
			limit={religion=hashut}
			c_karak_dum={
				location={
				culture=dwarf_chaos
				religion=hashut
				}
			}
			c_rodmarin={
				location={
				culture=dwarf_chaos
				religion=hashut
				}
			}
			c_grongol_norn={
				location={
				culture=dwarf_chaos
				religion=hashut
				}
			}
			c_grung_dwor={
				location={
				culture=dwarf_chaos
				religion=hashut
				}
			}
		}
		if={limit={c_jong_on={holder_scope={NOT={religion_group=chaos_gods_group}}}}
		c_jong_on={holder_scope={set_defacto_liege=PREV}}}
		k_karak_dum = { destroy_landed_title = THIS }
		hidden_effect={event_target:dawi_zharr_candidate={death = {death_reason = death_murder}}}
	}
	option = {
		name = {
			text = EVTOPTB_chaosR20 # Let the Dawi Zharr Handle it...
			trigger = {NOT={religion=hashut}}
		}
		name = {
			text = EVTOPTB_chaosR20B # Appoint Governor
			trigger = {religion=hashut}
		}
		event_target:dawi_zharr_candidate={
			show_portrait = yes
		}
		ai_chance = {
			factor = 25
		}
		if={limit={religion=tzeentch}
			add_offmap_currency = {
				offmap = tzeentch_warp
				value = 1000
			}
		}
		if={limit={religion=khorne}
			add_offmap_currency = {
				offmap = khorne_warp
				value = 200
			}
		}
		if={limit={religion=nurgle}
			add_offmap_currency = {
				offmap = nurgle_warp
				value = 400
			}
		}
		if={limit={religion=slaanesh}
			add_offmap_currency = {
				offmap = slaanesh_warp
				value = 200
			}
		}
		wealth = 100
		prestige = 250
		piety = 125
		hidden_effect={
		any_realm_character = {
			limit = { religion_group = dwarf_gods_group }
			opinion = {
				who = ROOT
				modifier = opinion_furious
				years = 200
			}
		}}
		k_karak_dum = { destroy_landed_title = THIS }
		event_target:dawi_zharr_candidate = {
			c_karak_dum={
				grant_title={
				target = PREV
				type = invasion
				}
			}
			c_rodmarin={
				grant_title={
				target = PREV
				type = invasion
				}
			}
			c_grung_dwor={
				grant_title={
				target = PREV
				type = invasion
				}
			}
			c_grongol_norn={
				grant_title={
				target = PREV
				type = invasion
				}
			}
			d_karak_dum={
				grant_title={
				target = PREV
				type = invasion
				}
			}
			hidden_effect={
			gain_settlements_under_title = {
				title = c_karak_dum
				enemy = PREV
				type = holy_war
			}
			gain_settlements_under_title = {
				title = c_rodmarin
				enemy = PREV
				type = holy_war
			}
			gain_settlements_under_title = {
				title = c_grung_dwor
				enemy = PREV
				type = holy_war
			}
			gain_settlements_under_title = {
				title = c_grongol_norn
				enemy = PREV
				type = holy_war
			}}
			set_defacto_liege=ROOT
			if={limit={c_jong_on={holder_scope={NOT={religion_group=chaos_gods_group}}}}
			c_jong_on={holder_scope={set_defacto_liege=PREV}}}
		}
		event_target:dawi_zharr_candidate = {
			set_character_flag = buying_chaos_dwarfs
			character_event = { id = DR_chaos_dwarf.14 }
			wealth = 400
		}
		c_karak_dum={
			location={
			culture=dwarf_chaos
			religion=hashut
			}
		}
		c_rodmarin={
			location={
			culture=dwarf_chaos
			religion=hashut
			}
		}
	}
	option = {
		name = EVTOPTC_chaosR20 # Burn it and leave it
		trigger={
			NOR={
				trait=kind
				religion=nurgle
			}
		}
		ai_chance = {
			factor = 10
		}
		if={limit={religion=tzeentch}
			add_offmap_currency = {
				offmap = tzeentch_warp
				value = 250
			}
		}
		if={limit={religion=khorne}
			add_offmap_currency = {
				offmap = khorne_warp
				value = 500
			}
		}
		if={limit={religion=nurgle}
			add_offmap_currency = {
				offmap = nurgle_warp
				value = 500
			}
		}
		if={limit={religion=slaanesh}
			add_offmap_currency = {
				offmap = slaanesh_warp
				value = 500
			}
		}
		hidden_effect={
		any_realm_character = {
			limit = { religion_group = dwarf_gods_group }
			opinion = {
				who = ROOT
				modifier = opinion_furious
				years = 200
			}
		}}
		wealth = 500
		prestige = 250
		piety = 250

		hidden_effect={
			c_karak_dum={
				location={
				culture=kul
				religion=nurgle
				}
			}
			c_rodmarin={
				location={
				culture=baersonling
				religion=khorne
				}
			}
			c_grongol_norn={
				location={
				culture=hastling
				religion=tzeentch
				}
			}
			c_grung_dwor={
				location={
				culture=kul
				religion=chaos
				}
			}
		}
		hidden_effect={
			create_random_intriguer={
				random_traits=yes
				culture=hastling
				religion=tzeentch
				age = 25
                trait = creature_human
				trait=champion_tzeentch
				trait=lore_tzeentch
			}
			new_character={
				random_lore_mage_effect=yes
				c_grongol_norn={
					grant_title={
					target = PREV
					type = invasion
					}
				}
				set_defacto_liege=THIS
				spawn_unit = {
					owner = new_character
					province = 1104
					home = 1104

					troops = {
					archers = { 65 105 }
					light_infantry = { 65 105 }
					light_cavalry = { 25 25 }
					heavy_infantry = { 50 50 }
					}
					cannot_inherit=yes
					is_looter = yes
					attrition = 1.0
					reinforces = yes
					maintenance_multiplier = 0.5
				}
				wealth=250
			}
			create_random_soldier={
				random_traits=yes
				culture=baersonling
				religion=khorne
				age = 22
                trait = creature_human
				trait=champion_khorne
			}
			new_character={
				c_rodmarin={
					grant_title={
					target = PREV
					type = invasion
					}
				}
				set_defacto_liege=THIS
				spawn_unit = {
					owner = new_character
					province = 1315
					home = 1315

					troops = {
					archers = { 125 125 }
					light_infantry = { 125 125 }
					heavy_infantry = { 50 50 }
					}
					cannot_inherit=yes
					is_looter = yes
					attrition = 1.0
					reinforces = yes
					maintenance_multiplier = 0.5
				}
				wealth=250
			}
			create_random_soldier={
				random_traits=yes
				culture=kul
				religion=nurgle
				age = 37
                trait = creature_human
				trait=champion_nurgle
			}
			new_character={
				c_karak_dum={
					grant_title={
					target = new_character
					type = invasion
					}
				}
				set_defacto_liege=THIS
				spawn_unit = {
					owner = new_character
					province = 1105
					home = 1105

					troops = {
					archers = { 125 125 }
					light_infantry = { 125 125 }
					heavy_infantry = { 50 50 }
					}
					cannot_inherit=yes
					is_looter = yes
					attrition = 1.0
					reinforces = yes
					maintenance_multiplier = 0.5
				}
				wealth=250
			}
			create_random_soldier={
				random_traits=yes
				culture=kul
				religion=chaos
				age = 35
                trait = creature_human
				trait=champion_undivided
			}
			new_character = {
				c_grung_dwor={
					grant_title={
					target = PREV
					type = invasion
					}
				}
				spawn_unit = {
					owner = new_character
					province = 1103
					home = 1103

					troops = {
					archers = { 125 125 }
					light_infantry = { 125 125 }
					heavy_infantry = { 50 50 }
					}
					cannot_inherit=yes
					is_looter = yes
					attrition = 1.0
					reinforces = yes
					maintenance_multiplier = 0.5
				}
				set_defacto_liege=THIS
				wealth=250
			}
		}
		if={limit={c_jong_on={holder_scope={NOT={religion_group=chaos_gods_group}}}}
		c_jong_on={holder_scope={set_defacto_liege=PREV}}}
		k_karak_dum = { destroy_landed_title = THIS }
		hidden_effect={event_target:dawi_zharr_candidate={death = {death_reason = death_murder}}}
	}
	after={
		set_global_flag = fate_of_karakdum
		any_playable_ruler = {
			limit = {
				capital_scope = { NOT = { region = world_albion } }
				NOT={character=ROOT}
				OR={
					AND={religion_group=greenskin_gods_group
					is_within_diplo_range = ROOT}
					capital_scope = { region = world_old_world }
					capital_scope = { region = world_chaos_wastes_broken_lands }
					capital_scope = { region = world_chaos_wastes_eastern_steppes }
					capital_scope = { region = world_norsca }
					capital_scope = { region = world_troll_country }
					religion_group=dwarf_gods_group
					religion_group=hashut
				}
				OR={
					ai=no
					AND={
						NOT={ capital_scope = { region = world_karaz_ankor_southern_holds } }
						religion_group=dwarf_gods_group
					}
					AND={
						religion_group=old_world_group
						independent=yes
					}
				}
			}
			character_event = {
				id = chaosr.21 days = 30
			}
		}
	}
}
character_event = {
	id = chaosr.21
	title = EVTTITLE_FATE_OF_KARAG_DUM# Disaster
	desc={
		trigger={ religion_group=greenskin_gods_group }
		text=EVTDESC_CHAOSR_21_A
	}
	desc={
		trigger={religion_group=chaos_gods_group}
		text=EVTDESC_CHAOSR_21_B
	}
	desc={
		trigger={
			NOR={
			religion_group=chaos_gods_group
			religion_group=greenskin_gods_group
			}
		}
		text=EVTDESC_CHAOSR_21_C
	}
	picture = {
		trigger={ FROM={NOT={religion=hashut}}}
		picture = GFX_evt_dwarf_fortress
	}
	picture = {
		trigger={ FROM={religion=hashut}}
		picture = GFX_evt_chaos_dwarf_march
	}

	is_triggered_only = yes

	option = {
		name = {
			text = EVTOPTH_chaosR21 # Let the Dawi Zharr Handle it...
			trigger = {religion=hashut}
		}
		name = {
			text = EVTOPTO_chaosR21
			trigger = {religion=old_world_group}
		}
		name = {
			text = EVTOPTC_chaosR21
			trigger = {
			religion=chaos_gods_group
			NOT={religion=hashut}
			}
		}
		name = {
			text = EVTOPTD_chaosR21
			trigger = {religion=dwarf_gods_group}
		}
		name = {
			text = EVTOPTG_chaosR21
			trigger = {religion_group=greenskin_gods_group}
		}
		if={limit={religion_group=dwarf_gods_group}
			opinion = {
				modifier = opinion_dwarf_grudge
				who = FROM
				months = 10000
			}
			opinion = {
				modifier = opinion_dwarf_grudge
				who = event_target:dawi_zharr_candidate
				months = 10000
			}
		}
		else_if={limit={religion_group=greenskin_gods_group}
			prestige=-200}
		else_if={limit={NOR={
			trait=brave
			religion_group=chaos_gods_group
			}}
			opinion = {
				modifier = opinion_afraid
				who = FROM
				years = 25
			}
		}
		event_target:dawi_zharr_candidate={
			show_portrait = yes
		}
		FROM={
			show_portrait = yes
		}
		ai_chance={
			factor=10
		}
	}
	option = {
		name = EVTOPT_chaosR21B
		trigger={religion_group=dwarf_gods_group}
		piety=-250
		if={limit={NOR={
			trait=brave
			religion_group=chaos_gods_group
			}}
			opinion = {
				modifier = opinion_afraid
				who = FROM
				years = 25
			}
		}
		ai_chance={
			factor=5
			modifier = {
				factor = 0
				NOR = {
					trait = cruel
					trait = cynical
				}
			}
		}
	}
}
#A building was destroyed during the siege of [From.From.GetName].
character_event = {
	id = chaosr.1500
	desc = EVTDESCchaosR1500
	picture = GFX_evt_siege
	border = GFX_event_normal_frame_war

	is_triggered_only = yes
	hide_window = yes

	trigger = {
		NOT = { culture_group = beastman_group }
		open_follower_of_any_chaos_gods = yes
		FROM = {
			holder_scope = {
				open_follower_of_any_chaos_gods = no
				NOR = {
					religion = norscan_gods
                    religion = norscan_gods_reformed
					religion = hashut
				}
			}
        }
    }

	immediate = {
		if = {
			limit = {
				NOR = {
					has_character_modifier = more_sacking
					has_character_modifier = normal_sacking
					has_character_modifier = less_sacking
					has_character_modifier = zealous_sacking
				}
				war = yes
			}
			job_marshal = {
				character_event = {
					id = chaosr.1509
				}
			}
		}
		if = {
			limit = {
				OR = {
					has_character_modifier = more_sacking
					has_character_modifier = normal_sacking
					has_character_modifier = less_sacking
					has_character_modifier = zealous_sacking
					war = no
				}
			}
			character_event = {
				id = chaosr.1508
				days = 1
			}
		}
	}
	option = {
		name = CURSES
	}
}
#HIDDEN
character_event = {
	id = chaosr.1501
	desc = OK
	picture = GFX_evt_siege
	border = GFX_event_normal_frame_war

	is_triggered_only = yes
	hide_window = yes

	trigger = {
		NOT = { culture_group = beastman_group }
		open_follower_of_any_chaos_gods = yes
		FROM = {
			holder_scope = {
				open_follower_of_any_chaos_gods = no
				NOR = {
					religion = norscan_gods
                    religion = norscan_gods_reformed
					religion = hashut
				}
			}
        }
    }

	immediate = {
		if = {
			limit = {
				FROM = {
					NOT = { has_any_building = yes }
					NOT = { is_capital = yes }
					NOT = { has_holding_modifier = sacked }
					NOT = { has_holding_modifier = burned }
				}
				FROM = {
					owner = {
						NOT = { character = ROOT }
						NOT = { is_vassal_or_below = ROOT }
					}
				}
				OR = {
					has_character_modifier = more_sacking
					has_character_modifier = normal_sacking
					#has_character_modifier = less_sacking
					has_character_modifier = zealous_sacking
					war = no
				}
			}
			character_event = {
				id = chaosr.1503
				days = 1
			}
			FROM = {
				owner = {
					character_event = {
						id = chaosr.1506
						days = 2
					}
				}
			}
		}
		if = {
			limit = {
				FROM = {
					has_any_building = yes
					NOT = { has_holding_modifier = sacked }
					NOT = { has_holding_modifier = burned }
				}
				FROM = {
					owner = {
						NOT = { character = ROOT }
						NOT = { is_vassal_or_below = ROOT }
					}
				}
				OR = {
					has_character_modifier = more_sacking
					has_character_modifier = normal_sacking
					has_character_modifier = less_sacking
					has_character_modifier = zealous_sacking
					war = no
				}
			}
			character_event = {
				id = chaosr.1504
				days = 1
			}
			FROM = {
				owner = {
					character_event = {
						id = chaosr.1507
						days = 1
					}
				}
			}
		}
		if = {
			limit = {
				NOR = {
					has_character_modifier = more_sacking
					has_character_modifier = normal_sacking
					has_character_modifier = less_sacking
					has_character_modifier = zealous_sacking
				}
				war = yes
			}
			job_marshal = {
				character_event = {
					id = chaosr.1509
				}
			}
		}
	}
	option = {
		name = OK
	}
}
#HIDDEN
character_event = {
	id = chaosr.1502
	desc = OK
	picture = GFX_evt_siege
	border = GFX_event_normal_frame_war

	is_triggered_only = yes
	hide_window = yes

	trigger = {
		NOT = { culture_group = beastman_group }
		open_follower_of_any_chaos_gods = yes
		FROM = {
			holder_scope = {
				open_follower_of_any_chaos_gods = no
				NOR = {
					religion = norscan_gods
                    religion = norscan_gods_reformed
					religion = hashut
				}
			}
        }
    }

	immediate = {
		if = {
			limit = {
				FROM = {
					NOT = { has_any_building = yes }
					NOT = { is_capital = yes }
					NOT = { has_holding_modifier = sacked }
					NOT = { has_holding_modifier = burned }
					NOT = { holding_type = tribal }
					NOT = { holding_type = nomad }
				}
				FROM = {
					owner = {
						NOT = { character = ROOT }
						NOT = { is_vassal_or_below = ROOT }
					}
				}
				OR = {
					has_character_modifier = more_sacking
					has_character_modifier = normal_sacking
					#has_character_modifier = less_sacking
					has_character_modifier = zealous_sacking
					war = no
				}
			}
			character_event = {
				id = chaosr.1503
				days = 1
			}
			FROM = {
				owner = {
					character_event = {
						id = chaosr.1506
						days = 1
					}
				}
			}
		}
		if = {
			limit = {
				FROM = {
					has_any_building = yes
					NOT = { has_holding_modifier = sacked }
					NOT = { has_holding_modifier = burned }
					NOT = { holding_type = tribal }
					NOT = { holding_type = nomad }
				}
				FROM = {
					owner = {
						NOT = { character = ROOT }
						NOT = { is_vassal_or_below = ROOT }
					}
				}
				OR = {
					has_character_modifier = more_sacking
					has_character_modifier = normal_sacking
					#has_character_modifier = less_sacking
					has_character_modifier = zealous_sacking
					war = no
				}
			}
			character_event = {
				id = chaosr.1505
				days = 1
			}
			FROM = {
				owner = {
					character_event = {
						id = chaosr.1507
						days = 1
					}
				}
			}
		}
		if = {
			limit = {
				NOR = {
					has_character_modifier = more_sacking
					has_character_modifier = normal_sacking
					has_character_modifier = less_sacking
					has_character_modifier = zealous_sacking
				}
				war = yes
			}
			job_marshal = {
				character_event = {
					id = chaosr.1509
				}
			}
		}
	}
	option = {
		name = OK
	}
}
#Angered by the resistance of the defenders, your men run wild on gaining entrance to [From.From.GetName]. A fire breaks out and destroys the settlement.
character_event = {
	id = chaosr.1503

	#Your men have completely razed the infidel stronghold of [From.From.GetName]!
	desc =  {
		text = EVTDESCchaosR1502A
		trigger = {
			has_character_modifier = zealous_sacking
		}
	}
	#An outbreak of violence during the occupation of [From.From.GetName] has lead to a bloodbath! While bodies litter the street the population have fled leaving the settlement in ruins.
	desc = {
		text = EVTDESCchaosR1502A
		trigger = {
			has_character_modifier = more_sacking
		}
	}
	#An outbreak of violence during the occupation of [From.From.GetName] has lead to a bloodbath! While bodies litter the street the population have fled leaving the settlement in ruins.
	desc = {
		text = EVTDESCchaosR1502A
		trigger = {
			NOR={
				has_character_modifier = more_sacking
				has_character_modifier = zealous_sacking
			}
		}
	}

	picture = GFX_evt_siege
	border = GFX_event_normal_frame_war

	is_triggered_only = yes
	#hide_from = yes
	#notification = yes

	#There's nothing left to occupy...
	option = {
		name = OPTchaosr1501A
		add_doom_progress_medium_effect = yes
		prestige=100
		FROMFROM = {
			destroy_settlement = THIS
		}
	}
}
#NOTIFICATION: Hungry for loot, your men run riot in [From.From.GetName]. Several buildings are destroyed in the chaos.
character_event = {
	id = chaosr.1504
	desc = EVTDESCchaosR1501B

	picture = GFX_evt_siege
	border = GFX_event_normal_frame_war

	is_triggered_only = yes
	hide_from = yes
	notification = yes

	immediate = {
		FROMFROM = {
			destroy_random_building = yes
			destroy_random_building = yes
			add_holding_modifier = {
				modifier = sacked
				months = 12
			}
		}
		add_doom_progress_tiny_effect = yes
	}

	option = {
		name = CURSES
	}
}
#NOTIFICATION: Angered by the resistance of the defenders, your men run wild on gaining entrance to [From.From.GetName]. A fire breaks out and destroys much of the settlement before it is extinguished.
character_event = {
	id = chaosr.1505
	desc = EVTDESCchaosR1502B

	picture = GFX_evt_siege
	border = GFX_event_normal_frame_war

	is_triggered_only = yes
	hide_from = yes
	notification = yes

	immediate = {
		FROMFROM = {
			destroy_random_building = yes
			destroy_random_building = yes
			destroy_random_building = yes
			destroy_random_building = yes
			add_holding_modifier = {
				modifier = burned
				months = 24
			}
		}
		add_doom_progress_tiny_effect = yes
	}

	option = {
		name = CURSES
	}
}
#NOTIFICATION: Your holding of [From.From.GetName] has been destroyed in the fighting!
character_event = {
	id = chaosr.1506
	desc = EVTDESCchaosR1506

	picture = GFX_evt_siege
	border = GFX_event_normal_frame_war

	is_triggered_only = yes
	hide_from = yes
	notification = yes

	option = {
		name = CURSES
	}
}
#NOTIFICATION: Your holding of [From.From.GetName] has been destroyed in the fighting!
character_event = {
	id = chaosr.1507
	desc = EVTDESCchaosR1506

	picture = GFX_evt_siege
	border = GFX_event_normal_frame_war

	is_triggered_only = yes
	hide_from = yes
	notification = yes

	option = {
		name = CURSES
	}
}
#NOTIFICATION: A building was destroyed during the siege of [From.From.GetName].
character_event = {
	id = chaosr.1508
	desc = EVTDESCchaosR1500
	picture = GFX_evt_siege
	border = GFX_event_normal_frame_war

	is_triggered_only = yes
	hide_from = yes
	notification = yes

	trigger = {
		FROMFROM = {
			has_any_building = yes
			NOT = { has_holding_modifier = sacked }
			NOT = { has_holding_modifier = burned }
		}
	}

	immediate = {
		FROMFROM = {
			destroy_random_building = yes
		}
		add_doom_progress_tiny_effect = yes
	}
	option = {
		name = CURSES
	}
}
#HIDDEN
character_event = {
	id = chaosr.1509

	is_triggered_only = yes
	hide_window = yes

	option = {
		name = OK

		FROM = {
			character_event = {
				id = chaosr.1510
			}
		}
	}
}
#Your marshal is asking how you want to deal with the captured towns.
character_event = {
	id = chaosr.1510
	desc = EVTDESCchaosR1510

	picture = GFX_evt_siege
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	immediate = {
		remove_character_modifier = more_sacking
		remove_character_modifier = normal_sacking
		remove_character_modifier = less_sacking
		remove_character_modifier = zealous_sacking
		clr_character_flag = changed_discipline
		set_character_flag = changed_discipline
	}

	option = {
		name = OPTchaosr1510A # Burn it all!
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					trait = kind
					trait = charitable
				}
			}
			modifier = {
				factor = 2
				OR = {
					trait = deceitful
					trait = ambitious
					trait = envious
					trait = cruel
					trait = impaler
				}
			}
		}
		custom_tooltip = {
			text = desc_more_sacking
			hidden_tooltip = {
				add_character_modifier = {
					name =  more_sacking
					days = -1
				}
			}
		}
	}
	option = {
		name = OPTchaosr1510C # Go easy
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				OR = {
					trait = kind
					trait = charitable
					trait = greedy
				}
			}
			modifier = {
				factor = 0
				OR = {
					trait = envious
					trait = cruel
					trait = impaler
				}
			}
		}
		custom_tooltip = {
			text = desc_less_sacking
			hidden_tooltip = {
				add_character_modifier = {
					name =  less_sacking
					days = -1
				}
			}
		}
	}
	option = {
		name = OPTchaosr1510D # Holy war
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					trait = kind
					trait = charitable
				}
			}
			modifier = {
				factor = 2
				OR = {
					trait = deceitful
					trait = ambitious
					trait = envious
					trait = cruel
					trait = impaler
				}
			}
			modifier = {
				factor = 4
				trait = zealous
			}
		}
		trigger = {
			any_war = {
				OR = {
					using_cb = religious
					using_cb = crusade
					using_cb = new_crusade
				}
			}
		}
		custom_tooltip = {
			text = desc_zealous_sacking
			hidden_tooltip = {
				add_character_modifier = {
					name =  zealous_sacking
					days = -1
				}
			}
		}
	}
	option = {
		name = OPTchaosr1510B # Meh
		ai_chance = {
			factor = 20
		}
		custom_tooltip = {
			text = desc_normal_sacking
			hidden_tooltip = {
				add_character_modifier = {
					name =  normal_sacking
					days = -1
				}
			}
		}
	}
}
#HIDDEN
character_event = {
	id = chaosr.1511
	desc = OK
	picture = GFX_evt_siege
	border = GFX_event_normal_frame_war

	is_triggered_only = yes
	hide_window = yes

	trigger = {
		NOT = { culture_group = beastman_group }
		open_follower_of_any_chaos_gods = yes
		FROM = {
			holder_scope = {
				open_follower_of_any_chaos_gods = no
				NOR = {
					religion = norscan_gods
                    religion = norscan_gods_reformed
					religion = hashut
				}
			}
        }
    }

	immediate = {
		if = {
			limit = {
				FROM = {
					NOT = { has_any_building = yes }
					NOT = { is_capital = yes }
					NOT = { has_holding_modifier = sacked }
					NOT = { has_holding_modifier = burned }
				}
				FROM = {
					owner = {
						NOT = { character = ROOT }
						NOT = { is_vassal_or_below = ROOT }
					}
				}
				OR = {
					has_character_modifier = more_sacking
					#has_character_modifier = normal_sacking
					#has_character_modifier = less_sacking
					has_character_modifier = zealous_sacking
				}
			}
			character_event = {
				id = chaosr.1512
				days = 1
			}
			FROM = {
				owner = {
					character_event = {
						id = chaosr.1506
						days = 1
					}
				}
			}
		}
		if = {
			limit = {
				FROM = {
					has_any_building = yes
					NOT = { has_holding_modifier = sacked }
					NOT = { has_holding_modifier = burned }
				}
				FROM = {
					owner = {
						NOT = { character = ROOT }
						NOT = { is_vassal_or_below = ROOT }
					}
				}
				OR = {
					has_character_modifier = more_sacking
					#has_character_modifier = normal_sacking
					#has_character_modifier = less_sacking
					has_character_modifier = zealous_sacking
				}
			}
			character_event = {
				id = chaosr.1513
				days = 1
			}
			FROM = {
				owner = {
					character_event = {
						id = chaosr.1507
						days = 1
					}
				}
			}
		}
		if = {
			limit = {
				NOR = {
					has_character_modifier = more_sacking
					has_character_modifier = normal_sacking
					has_character_modifier = less_sacking
					has_character_modifier = zealous_sacking
				}
				war = yes
			}
			job_marshal = {
				character_event = {
					id = chaosr.1509
				}
			}
		}
	}
	option = {
		name = OK
	}
}
#Your men have completely razed the infidel stronghold of [From.From.GetName]!
#An outbreak of violence during the occupation of [From.From.GetName] has lead to a bloodbath! While bodies litter the street the population have fled leaving the settlement in ruins.
character_event = {
	id = chaosr.1512

	#Your men have completely razed the infidel stronghold of [From.From.GetName]!
	desc =  {
		text = EVTDESCchaosR1512A
		trigger = {
			has_character_modifier = zealous_sacking
		}
	}
	#An outbreak of violence during the occupation of [From.From.GetName] has lead to a bloodbath! While bodies litter the street the population have fled leaving the settlement in ruins.
	desc = {
		text = EVTDESCchaosR1512B
		trigger = {
			has_character_modifier = more_sacking
		}
	}
	#An outbreak of violence during the occupation of [From.From.GetName] has lead to a bloodbath! While bodies litter the street the population have fled leaving the settlement in ruins.
	desc = {
		text = EVTDESCchaosR1512B
		trigger = {
			NOR={
				has_character_modifier = more_sacking
				has_character_modifier = zealous_sacking
			}
		}
	}

	picture = GFX_evt_siege
	border = GFX_event_normal_frame_war

	is_triggered_only = yes
	#hide_from = yes
	#notification = yes

	option = {
		name = EXCELLENT
		prestige=100
		FROMFROM = {
			destroy_settlement = THIS
		}
	}
}
#Your troops have slaughtered the infidels of [From.From.GetName]! Bodies litter the streets and many buildings were destroyed.
#An outbreak of violence during the occupation of [From.From.GetName] has lead to reprisals from your own troops. Many buildings were destroyed before order was restored.
character_event = {
	id = chaosr.1513

	#Your troops have slaughtered the infidels of [From.From.GetName]! Bodies litter the streets and many buildings were destroyed.
	desc =  {
		text = EVTDESCchaosR1513A
		trigger = {
			has_character_modifier = zealous_sacking
		}
	}
	#An outbreak of violence during the occupation of [From.From.GetName] has lead to reprisals from your own troops. Many buildings were destroyed before order was restored.
	desc = {
		text = EVTDESCchaosR1513B
		trigger = {
			has_character_modifier = more_sacking
		}
	}

	picture = GFX_evt_siege
	border = GFX_event_normal_frame_war

	is_triggered_only = yes
	hide_from = yes
	notification = yes

	immediate = {
		FROMFROM = {
			destroy_random_building = yes
			destroy_random_building = yes
			destroy_random_building = yes
			destroy_random_building = yes
			destroy_random_building = yes
			destroy_random_building = yes
			destroy_random_building = yes
			destroy_random_building = yes

			add_holding_modifier = {
				modifier = burned
				months = 24
			}
		}
	}

	option = {
		name = EXCELLENT
	}
}
#HIDDEN
character_event = {
	id = chaosr.1514

	hide_window = yes
    	is_triggered_only = yes

	trigger = {
		war = no
		OR = {
			has_character_modifier = more_sacking
			has_character_modifier = normal_sacking
			has_character_modifier = less_sacking
			has_character_modifier = zealous_sacking
		}
	}
	immediate = {
		remove_character_modifier = more_sacking
		remove_character_modifier = normal_sacking
		remove_character_modifier = less_sacking
		remove_character_modifier = zealous_sacking
	}
	option = {
		name = OK
	}
}
#HIDDEN
character_event = {
	id = chaosr.1515
	desc = OK
	picture = GFX_evt_siege
	border = GFX_event_normal_frame_war

	is_triggered_only = yes
	hide_window = yes

	trigger = {
		NOT = { culture_group = beastman_group }
		open_follower_of_any_chaos_gods = yes
		FROM = {
			holder_scope = {
				open_follower_of_any_chaos_gods = no
				NOR = {
					religion = norscan_gods
                    religion = norscan_gods_reformed
					religion = hashut
				}
			}
        }
    }

	immediate = {
		if = {
			limit = {
				FROM = {
					NOT = { is_capital = yes }
					NOT = { has_holding_modifier = sacked }
					NOT = { has_holding_modifier = burned }
				}
				FROM = {
					owner = {
						NOT = { character = ROOT }
						NOT = { is_vassal_or_below = ROOT }
					}
				}
				OR = {
					has_character_modifier = more_sacking
					#has_character_modifier = normal_sacking
					#has_character_modifier = less_sacking
					has_character_modifier = zealous_sacking
				}
			}
			character_event = {
				id = chaosr.1512
				days = 1
			}
			FROM = {
				owner = {
					character_event = {
						id = chaosr.1506
						days = 2
					}
				}
			}
		}
	}
	option = {
		name = OK
	}
}
# Chaos Horde Instability
character_event = {
	id = chaosr.500
	hide_window = yes

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_dlc = "Horse Lords"
		independent = yes
		is_nomadic = yes
		government=chaos_horde_government
	}

	immediate = {
		current_heir = {
		  save_event_target_as = nomadic_heir
		}
		if={limit={has_law=nomad_stability_law_1}
			capital_scope = { duchy={ save_event_target_as = capital_duchy }}
			capital_scope = { kingdom={ save_event_target_as = capital_kingdom }}
			event_target:nomadic_heir={ character_event = { id = chaosr.508 days = 1} } #Nomadic Ducal. Kingdom Exclusion Tier Shatter
			any_vassal={
				limit={
				is_nomadic=no
				higher_tier_than=baron
				}
				set_defacto_liege = THIS
			}
		}
		else_if={limit={has_law=nomad_stability_law_0}
			capital_scope = { duchy={ save_event_target_as = capital_duchy }}
			event_target:nomadic_heir={ character_event = { id = chaosr.503 days = 1} } #Nomadic Ducal Tier Shatter
			any_vassal={
				limit={
				is_nomadic=no
				higher_tier_than=baron
				}
				set_defacto_liege = THIS
			}
		}
		else={
			any_vassal = {character_event = { id = chaosr.501 }}
		}
	}
}

character_event = {
	id = chaosr.501
	desc = EVTDESC_CHAOSR_503
	picture = GFX_evt_horsemanship

	only_playable = yes
	capable_only = yes
	prisoner = no
	min_age = 16

	is_triggered_only = yes

	trigger = {
		has_dlc = "Horse Lords"
		liege = {
			independent = yes
			is_nomadic = yes
			in_revolt = no
		}
		in_revolt = no
		independent = no
	}

	option = {
		name = EVTOPTA_GR_11 # Remain a vassal
		ai_chance = {
			factor = 100
			modifier = {
				factor = 2
				opinion = {
					who = FROM
					value = 25
				}
			}
			modifier = {
				factor = 2
				opinion = {
					who = FROM
					value = 50
				}
			}
			modifier = {
				factor = 2
				opinion = {
					who = FROM
					value = 75
				}
			}
			modifier = {
				factor = 2
				opinion = {
					who = FROM
					value = 100
				}
			}
			modifier = {
				factor = 2
				liege = {
					NOT = {
						realm_size = 50
					}
				}
			}
			modifier = {
				factor = 3
				is_nomadic = yes
			}
			modifier = {
				factor = 4
				trait = content
			}
		}
	}
	option = {
		name = EVTOPTB_GR_11 # Go independent

		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				clan = yes
				OR = {
					has_blood_oath_with = FROM
					is_friend = FROM
				}
			}
			modifier = {
				factor = 2
				clan = yes
				OR = {
					has_feud_with = FROM
					is_rival = FROM
				}
			}
			modifier = {
				factor = 2
				NOT = {
					opinion = {
						who = FROM
						value = -25
					}
				}
			}
			modifier = {
				factor = 2
				NOT = {
					opinion = {
						who = FROM
						value = -50
					}
				}
			}
			modifier = {
				factor = 2
				NOT = {
					opinion = {
						who = FROM
						value = -75
					}
				}
			}
			modifier = {
				factor = 2
				NOT = {
					opinion = {
						who = FROM
						value = -100
					}
				}
			}
			modifier = {
				factor = 2
				trait = ambitious
			}
		}

		hidden_tooltip = {
			event_target:nomadic_heir = { character_event = { id = chaosr.502 days = 1 } }
		}

		if = {
			limit = {
				is_nomadic = yes
			}
			any_demesne_title = {
				limit = {
					tier = count
				}
				add_claim = event_target:nomadic_heir
			}
		}

		if = {
			limit = {
				is_nomadic = no
			}
			reverse_opinion = {
				who = event_target:nomadic_heir
				modifier = declared_independence_nomad
				years = 50
			}
			hidden_tooltip = {
				any_courtier_or_vassal = {
					limit = {
						dynasty = ROOT
					}
					reverse_opinion = {
						who = event_target:nomadic_heir
						modifier = declared_independence_nomad
						years = 50
					}
				}
			}
		}

		liege = {
			any_vassal = {
				limit = {
					in_revolt = yes
					any_war = {
						defender = { character = ROOT }
						attacker = {
							character = THIS
						}
					}
				}
				set_defacto_liege = THIS
			}
		}

		set_defacto_liege = THIS
	}
}

# The liege is notified of the independence
character_event = {
	id = chaosr.502
	desc = EVTDESC_GR_12
	picture = GFX_evt_emissary

	is_triggered_only = yes

	notification = yes

	option = {
		name = EVTOPTA_GR_12
	}

}
character_event = {
	id = chaosr.503
	desc = EVTDESC_CHAOSR_503
	picture = GFX_evt_chaos_warband
	religion_group=chaos_gods_group
	is_triggered_only = yes
	trigger={
		event_target:nomadic_heir={
		OR={
			AND={
			check_variable ={ which = chaos_tribe_break_aways value == 0}
			prestige <  15000
			}
			AND={
			check_variable ={ which = chaos_tribe_break_aways value == 1}
			prestige <  14000
			}
			AND={
			check_variable ={ which = chaos_tribe_break_aways value == 2}
			prestige <  13000
			}
			AND={
			check_variable ={ which = chaos_tribe_break_aways value == 3}
			prestige <  12000
			}
			AND={
			check_variable ={ which = chaos_tribe_break_aways value == 4}
			prestige <  11000
			}
			AND={
			check_variable ={ which = chaos_tribe_break_aways value == 5}
			prestige <  10000
			}
			AND={
			check_variable ={ which = chaos_tribe_break_aways value == 6}
			prestige <  9500
			}
			AND={
			check_variable ={ which = chaos_tribe_break_aways value == 7}
			prestige <  9000
			}
			AND={
			check_variable ={ which = chaos_tribe_break_aways value == 8}
			prestige <  8500
			}
			AND={
			check_variable ={ which = chaos_tribe_break_aways value == 9}
			prestige <  8000
			}
			AND={
			check_variable ={ which = chaos_tribe_break_aways value == 10}
			prestige <  7500
			}
			AND={
			check_variable ={ which = chaos_tribe_break_aways value == 11}
			prestige <  7000
			}
			AND={
			check_variable ={ which = chaos_tribe_break_aways value == 12}
			prestige <  6000
			}
			AND={
			check_variable ={ which = chaos_tribe_break_aways value == 13}
			prestige <  5000
			}
			AND={
			check_variable ={ which = chaos_tribe_break_aways value == 14}
			prestige <  4000
			}
			AND={
			check_variable ={ which = chaos_tribe_break_aways value == 15}
			prestige <  3000
			}
			AND={
			check_variable ={ which = chaos_tribe_break_aways value = 15}
			prestige <  2500
			}
		}
		any_realm_province = {
			NOT = {
				any_province_holding = {
					 holding_type = nomad
				}
			}
			duchy={NOT={title=event_target:capital_duchy}}
			any_neighbor_province = {
				owner = {
					NOT={same_realm = ROOT}
				}
			}
		}}
	}
	fail_trigger_effect = { set_variable = {which=chaos_tribe_break_aways value=0 }}
	immediate={
		event_target:nomadic_heir={
		change_variable ={ which = chaos_tribe_break_aways value = 1}
		random_realm_province = {
			limit={
				NOT = {
					any_province_holding = {
						 holding_type = nomad
					}
				}
				duchy={NOT={title=event_target:capital_duchy}}
				any_neighbor_province = {
					owner = {
						NOT={same_realm = ROOT}
					}
				}
			}
			duchy={ save_event_target_as = target_duchy }
			save_event_target_as = target_prov
		}}
	}
	option = {
		name = EVTOPTA_chaosr_508 # Go independent
		prestige=250
		event_target:target_prov={province_event = {id = chaosr.504}}
	}
	option = {
		name = EVTOPTB_chaosr_508 # Go Swap
		custom_tooltip = {text = desc_character_swap_breakaway}
		trigger={ai=no}
		set_character_flag=breakaway_swapping
		event_target:target_prov={province_event = {id = chaosr.504}}
	}
}
character_event = {
	id = chaosr.504
	hide_window = yes

	is_triggered_only = yes
	immediate={
		if={limit={event_target:target_duchy={ owner={ character= event_target:nomadic_heir}}}
			event_target:target_duchy={
				destroy_landed_title = THIS
			}
		}
		random_list={
			10={create_random_diplomat={random_traits = yes culture=event_target:nomadic_heir religion=event_target:nomadic_heir}}
			20={create_random_soldier={random_traits = yes culture=event_target:nomadic_heir religion=event_target:nomadic_heir}}
			10={create_random_intriguer={random_traits = yes culture=event_target:nomadic_heir religion=event_target:nomadic_heir}}
			20={create_random_steward={random_traits = yes culture=event_target:nomadic_heir religion=event_target:nomadic_heir}}
			15={create_random_priest={random_traits = yes culture=event_target:nomadic_heir religion=event_target:nomadic_heir}}
			15={create_random_intriguer={random_traits = yes culture=beastman_main religion=event_target:nomadic_heir}}
			10={create_random_soldier={random_traits = yes culture=beastman_main religion=event_target:nomadic_heir}}
		}
		if={limit={new_character={culture_group=beastman_group}}
			new_character={
				random_list={
					30={religion=chaos}
					15={religion=khorne}
					10={religion=slaanesh}
					12={religion=tzeentch}
					15={religion=nurgle}
					10={}
				}
			}
		}
		if={limit={new_character={not={culture_group=beastman_group}}}
			if={limit={
				OR={
					region=world_chaos_wastes_eastern_steppes
					region=world_chaos_wastes_zanbaijin
				}}
				new_character={
					random_list={
						20={culture=khazag}
						25={culture=yusak}
						20={culture=tokmar}
						20={culture=kul}
						5={culture=dolgan}
						10={}
					}
				}
				new_character={
					random_list={
						20={religion=chaos}
						20={religion=khorne}
						10={religion=slaanesh}
						12={religion=tzeentch}
						20={religion=nurgle}
						10={}
					}
				}
			}
			else_if={limit={region=world_chaos_wastes_broken_lands}
				new_character={
					random_list={
						20={culture=aghol}
						25={culture=gharhar}
						20={culture=kvellig}
						20={culture=tahmak}
						5={culture=mung}
						10={}
					}
				}
				new_character={
					random_list={
						10={religion=chaos}
						15={religion=khorne}
						25={religion=slaanesh}
						25={religion=tzeentch}
						10={religion=nurgle}
						15={}
					}
				}
			}
			else_if={limit={region=world_chaos_wastes_far_wastes}
				new_character={
					random_list={
						35={culture=mung}
						20={culture=aghol}
						25={culture=chi_an}
						5={culture=kvellig}
						20={}
					}
				}
				new_character={
					random_list={
						20={religion=chaos}
						25={religion=khorne}
						20={religion=slaanesh}
						25={religion=tzeentch}
						10={religion=nurgle}
						10={}
					}
				}
			}
		}
		if={limit={new_character={religion=khorne}}
			random_list={
				30={add_trait=khorne_berserker}
				15={add_trait=khorne_champion}
				10={add_trait=chaos_knight}
				5={add_trait=chosen_khorne}
				40={}
			}
		}
		else_if={limit={new_character={religion=tzeentch}}
			new_character={
			random_list={
				20={add_trait=chaos_knight}
				10={add_trait=champion_tzeentch}
				10={
					add_trait=champion_tzeentch
					add_trait=lore_tzeentch
					random_lore_mage_effect = yes
				}
				15={
					add_trait=lore_tzeentch
					random_lore_mage_effect = yes
				}
				5={add_trait=chosen_tzeentch}
				40={}
			}}
		}
		else_if={limit={new_character={religion=nurgle}}
			new_character={
			random_list={
				20={add_trait=chaos_knight}
				10={add_trait=champion_nurgle}
				10={
					add_trait=chaos_knight
					add_trait=lore_nurgle
					random_lore_mage_effect = yes
				}
				10={
					add_trait=lore_nurgle
					random_lore_mage_effect = yes
				}
				5={add_trait=chosen_nurgle}
				40={}
			}}
		}
		else_if={limit={new_character={religion=slaanesh}}
			new_character={
			random_list={
				20={add_trait=chaos_knight}
				15={add_trait=champion_slaanesh}
				5={
					add_trait=duelist
					add_trait=attractive
				}
				10={
					add_trait=lore_slaanesh
					random_lore_mage_effect = yes
				}
				5={add_trait=chosen_slaanesh}
				40={}
			}}
		}
		else_if={limit={new_character={religion=chaos}}
			new_character={
			random_list={
				20={add_trait=chaos_knight}
				15={add_trait=champion_undivided}
				5={
					add_trait=duelist
					add_trait=champion_undivided
				}
				10={
					add_trait=lore_chaos
					random_lore_mage_effect = yes
				}
				5={add_trait=chaos_chosen}
				45={}
			}}
		}
		if={limit={new_character={is_chaos_champion_trigger = yes}}
			new_character={
			random_list={
				35={
					set_character_flag=successful_chaos_warlord
					character_event= {id = chaosr.505 days = 30 }
					prestige=750
					piety=750
				}
				#15={
				#	piety=500
				#	prestige=500
				#}
				#15={
				#	prestige=250
				#	piety=250
				#}
			}}
		}
		event_target:nomadic_heir={
			opinion = {
				modifier = opinion_breakaway_nomad
				who = new_character
				years = 3
			}
		}
		new_character = {
            # Set Racial Trait
            character_event = {
              id = aiclean.31
            }
			ROOT={
				county={
					grant_title_no_opinion={
					target = PREVPREV
					type = invasion
					}
				}
			}
			if={limit={new_character={
					not={culture_group=beastman_group}
					is_tribal=yes
					}
				}
				random_list={
					75={set_government_type=chaos_horde_government}
					25={if={limit={event_target:target_duchy={ has_holder = no}}
						event_target:target_duchy={
							grant_title_no_opinion={
							target = PREV
							}
						}}
					}
				}
			}
			set_defacto_liege = THIS
			if={limit={new_character={
					culture_group=beastman_group
					}
				}
				set_government_type=beastman_government
			}
			population=4000
			random_list={
				25={
					character_event= {id = chaosr.506 days = 15 }
					set_character_flag=successful_chaos_warlord
					population=2000
					prestige=800
					wealth=120
					piety=200
					create_retinue=chaosmarauders
					create_retinue=chaosmarauders
					create_retinue=chaosmarauderchampions
					create_retinue=chaosmarauderhorsemen
				}
				75={
					modifier = {
						factor = 0
						has_character_flag = successful_chaos_warlord
					}
					character_event= {id = chaosr.507 days = 50 }
					set_character_flag=breakaway_chaos_warlord
					prestige=500
					wealth=80
					piety=100
					create_retinue=chaosmarauders
					create_retinue=chaosmarauders
					create_retinue=chaosmarauderhorsemen
				}
			}
		}
		event_target:nomadic_heir={
			any_realm_province = {
				limit={
					NOT = {
						any_province_holding = {
							 holding_type = nomad
						}
					}
					duchy={title=event_target:target_duchy}
				}
				county={
					new_character={
						grant_title_no_opinion={
							target = PREV
							type = invasion
						}
					}
				}
			}
		}
	}
	after={
		repeat_event = {id = chaosr.503}
	}
}
#Subjugation of Nearby Weaker tribes
character_event = {
	id = chaosr.505
	desc = EVTDESC_GR_12
	picture = GFX_evt_emissary

	is_triggered_only = yes

	notification = yes
	trigger={is_nomadic=yes}
	fail_trigger_effect={
		clr_character_flag=successful_chaos_warlord
	}
	immediate={
		any_neighbor_independent_ruler={limit={
			has_character_flag=breakaway_chaos_warlord
			NOT={has_character_flag=successful_chaos_warlord}
			}
			any_vassal={
				limit = { tier = king }
				set_defacto_liege = THIS
			}
			any_vassal={
				limit = { tier = duke }
				set_defacto_liege = THIS
			}
			any_vassal={
				limit = { tier = count }
				set_defacto_liege = THIS
			}
			any_title_under={
				limit = { tier = emperor }
				owner = {
					opinion = {
						modifier = opinion_subjugated
						who = ROOT
					}
				}
				ROOT={
					grant_title_no_opinion = {
						target = PREV
						type = invasion
					}
				}
				set_title_flag=title_to_destroy_flag
			}
			set_defacto_liege=root
		}
		clr_character_flag=successful_chaos_warlord
	}
	option = {
		name = EVTOPTA_GR_12
	}
}
#Subjugation of Nearby Weaker tribes
character_event = {
	id = chaosr.506
	desc = EVTDESC_GR_12
	picture = GFX_evt_emissary

	is_triggered_only = yes

	notification = yes
	trigger={is_nomadic=yes}
	fail_trigger_effect={
		clr_character_flag=successful_chaos_warlord
	}
	immediate={
		random_neighbor_independent_ruler={limit={
			has_character_flag=breakaway_chaos_warlord
			NOT={has_character_flag=successful_chaos_warlord}
			}
			any_vassal={
				limit = { tier = king }
				set_defacto_liege = THIS
			}
			any_vassal={
				limit = { tier = duke }
				set_defacto_liege = THIS
			}
			any_vassal={
				limit = { tier = count }
				set_defacto_liege = THIS
			}
			any_title_under={
				limit = { tier = emperor }
				owner = {
					opinion = {
						modifier = opinion_subjugated
						who = ROOT
					}
				}
				ROOT={
					grant_title_no_opinion = {
						target = PREV
						type = invasion
					}
				}
				set_title_flag=title_to_destroy_flag
			}
			set_defacto_liege=root
		}
		clr_character_flag=successful_chaos_warlord
	}
	option = {
		name = EVTOPTA_GR_12
	}
}
#Flag Clear
character_event = {
	id = chaosr.507
	hide_window=yes
	is_triggered_only = yes

	notification = yes
	immediate={
		clr_character_flag=breakaway_chaos_warlord
	}
	option = {
		name = OK
	}

}
character_event = {
	id = chaosr.508
	desc = EVTDESC_CHAOSR_503
	picture = GFX_evt_chaos_warband
	religion_group=chaos_gods_group
	is_triggered_only = yes
	trigger={
		event_target:nomadic_heir={
		OR={
			AND={
			check_variable ={ which = chaos_tribe_break_aways value == 0}
			prestige <  10000
			}
			AND={
			check_variable ={ which = chaos_tribe_break_aways value == 1}
			prestige <  9000
			}
			AND={
			check_variable ={ which = chaos_tribe_break_aways value == 2}
			prestige <  8000
			}
			AND={
			check_variable ={ which = chaos_tribe_break_aways value == 3}
			prestige <  7000
			}
			AND={
			check_variable ={ which = chaos_tribe_break_aways value == 4}
			prestige <  6000
			}
			AND={
			check_variable ={ which = chaos_tribe_break_aways value == 5}
			prestige <  5500
			}
			AND={
			check_variable ={ which = chaos_tribe_break_aways value == 6}
			prestige <  5000
			}
			AND={
			check_variable ={ which = chaos_tribe_break_aways value == 7}
			prestige <  4500
			}
			AND={
			check_variable ={ which = chaos_tribe_break_aways value == 8}
			prestige <  4000
			}
			AND={
			check_variable ={ which = chaos_tribe_break_aways value == 9}
			prestige <  3500
			}
			AND={
			check_variable ={ which = chaos_tribe_break_aways value = 10}
			prestige <  2500
			}
		}
		any_realm_province = {
			NOT = {
				any_province_holding = {
					 holding_type = nomad
				}
			}
			kingdom={NOT={title=event_target:capital_kingdom}}
			any_neighbor_province = {
				owner = {
					NOT={same_realm = ROOT}
				}
			}
		}}
	}
	fail_trigger_effect = { set_variable = {which=chaos_tribe_break_aways value=0 }}
	immediate={
		event_target:nomadic_heir={
		change_variable ={ which = chaos_tribe_break_aways value = 1}
		random_realm_province = {
			limit={
				NOT = {
					any_province_holding = {
						 holding_type = nomad
					}
				}
				kingdom={NOT={title=event_target:capital_kingdom}}
				any_neighbor_province = {
					owner = {
						NOT={same_realm = ROOT}
					}
				}
			}
			duchy={ save_event_target_as = target_duchy }
			save_event_target_as = target_prov
		}}
	}
	option = {
		name = EVTOPTA_chaosr_508 # Go independent
		prestige=250
		event_target:target_prov={province_event = {id = chaosr.509}}
	}
	option = {
		name = EVTOPTB_chaosr_508 # Go Swap
		custom_tooltip = {text = desc_character_swap_breakaway}
		trigger={ai=no}
		set_character_flag=breakaway_swapping
		event_target:target_prov={province_event = {id = chaosr.509}}
	}
}
character_event = {
	id = chaosr.509
	hide_window = yes

	is_triggered_only = yes
	immediate={
		if={limit={event_target:target_duchy={ owner={ character= event_target:nomadic_heir}}}
			event_target:target_duchy={
				destroy_landed_title = THIS
			}
		}
		random_list={
			10={create_random_diplomat={random_traits = yes culture=event_target:nomadic_heir religion=event_target:nomadic_heir}}
			20={create_random_soldier={random_traits = yes culture=event_target:nomadic_heir religion=event_target:nomadic_heir}}
			10={create_random_intriguer={random_traits = yes culture=event_target:nomadic_heir religion=event_target:nomadic_heir}}
			20={create_random_steward={random_traits = yes culture=event_target:nomadic_heir religion=event_target:nomadic_heir}}
			15={create_random_priest={random_traits = yes culture=event_target:nomadic_heir religion=event_target:nomadic_heir}}
			15={create_random_intriguer={random_traits = yes culture=beastman_main religion=event_target:nomadic_heir}}
			10={create_random_soldier={random_traits = yes culture=beastman_main religion=event_target:nomadic_heir}}
		}
		if={limit={new_character={culture_group=beastman_group}}
			new_character={
				random_list={
					30={religion=chaos}
					15={religion=khorne}
					10={religion=slaanesh}
					12={religion=tzeentch}
					15={religion=nurgle}
					10={}
				}
			}
		}
		if={limit={new_character={not={culture_group=beastman_group}}}
			if={limit={
				OR={
					region=world_chaos_wastes_eastern_steppes
					region=world_chaos_wastes_zanbaijin
				}}
				new_character={
					random_list={
						20={culture=khazag}
						25={culture=yusak}
						20={culture=tokmar}
						20={culture=kul}
						5={culture=dolgan}
						10={}
					}
				}
				new_character={
					random_list={
						20={religion=chaos}
						20={religion=khorne}
						10={religion=slaanesh}
						12={religion=tzeentch}
						20={religion=nurgle}
						10={}
					}
				}
			}
			else_if={limit={region=world_chaos_wastes_broken_lands}
				new_character={
					random_list={
						20={culture=aghol}
						25={culture=gharhar}
						20={culture=kvellig}
						20={culture=tahmak}
						5={culture=mung}
						10={}
					}
				}
				new_character={
					random_list={
						10={religion=chaos}
						15={religion=khorne}
						25={religion=slaanesh}
						25={religion=tzeentch}
						10={religion=nurgle}
						15={}
					}
				}
			}
			else_if={limit={region=world_chaos_wastes_far_wastes}
				new_character={
					random_list={
						35={culture=mung}
						20={culture=aghol}
						25={culture=chi_an}
						5={culture=kvellig}
						20={}
					}
				}
				new_character={
					random_list={
						20={religion=chaos}
						25={religion=khorne}
						20={religion=slaanesh}
						25={religion=tzeentch}
						10={religion=nurgle}
						10={}
					}
				}
			}
		}
		if={limit={new_character={religion=khorne}}
			random_list={
				30={add_trait=khorne_berserker}
				15={add_trait=khorne_champion}
				10={add_trait=chaos_knight}
				5={add_trait=chosen_khorne}
				40={}
			}
		}
		else_if={limit={new_character={religion=tzeentch}}
			new_character={
			random_list={
				20={add_trait=chaos_knight}
				10={add_trait=champion_tzeentch}
				10={
					add_trait=champion_tzeentch
					add_trait=lore_tzeentch
					random_lore_mage_effect = yes
				}
				15={
					add_trait=lore_tzeentch
					random_lore_mage_effect = yes
				}
				5={add_trait=chosen_tzeentch}
				40={}
			}}
		}
		else_if={limit={new_character={religion=nurgle}}
			new_character={
			random_list={
				20={add_trait=chaos_knight}
				10={add_trait=champion_nurgle}
				10={
					add_trait=chaos_knight
					add_trait=lore_nurgle
					random_lore_mage_effect = yes
				}
				10={
					add_trait=lore_nurgle
					random_lore_mage_effect = yes
				}
				5={add_trait=chosen_nurgle}
				40={}
			}}
		}
		else_if={limit={new_character={religion=slaanesh}}
			new_character={
			random_list={
				20={add_trait=chaos_knight}
				15={add_trait=champion_slaanesh}
				5={
					add_trait=duelist
					add_trait=attractive
				}
				10={
					add_trait=lore_slaanesh
					random_lore_mage_effect = yes
				}
				5={add_trait=chosen_slaanesh}
				40={}
			}}
		}
		else_if={limit={new_character={religion=chaos}}
			new_character={
			random_list={
				20={add_trait=chaos_knight}
				15={add_trait=champion_undivided}
				5={
					add_trait=duelist
					add_trait=champion_undivided
				}
				10={
					add_trait=lore_chaos
					random_lore_mage_effect = yes
				}
				5={add_trait=chaos_chosen}
				45={}
			}}
		}
		if={limit={new_character={is_chaos_champion_trigger = yes}}
			new_character={
			random_list={
				35={
					set_character_flag=successful_chaos_warlord
					character_event= {id = chaosr.505 days = 30 }
					prestige=750
					piety=750
				}
				#15={
				#	piety=500
				#	prestige=500
				#}
				#15={
				#	prestige=250
				#	piety=250
				#}
			}}
		}
		event_target:nomadic_heir={
			opinion = {
				modifier = opinion_breakaway_nomad
				who = new_character
				years = 3
			}
		}
		new_character = {
            # Set Racial Trait
            character_event = {
              id = aiclean.31
            }
			ROOT={
				county={
					grant_title_no_opinion={
					target = PREVPREV
					type = invasion
					}
				}
			}
			set_defacto_liege = THIS
			if={limit={new_character={
					not={culture_group=beastman_group}
					is_tribal=yes
					}
				}
				random_list={
					75={set_government_type=chaos_horde_government}
					25={if={limit={event_target:target_duchy={ has_holder = no}}
						event_target:target_duchy={
							grant_title_no_opinion={
							target = PREV
							}
						}}
					}
				}
			}
			if={limit={new_character={
					culture_group=beastman_group
					}
				}
				set_government_type=beastman_government
			}
			population=4000
			random_list={
				25={
					character_event= {id = chaosr.506 days = 15 }
					set_character_flag=successful_chaos_warlord
					population=2000
					prestige=800
					wealth=120
					piety=200
					create_retinue=chaosmarauders
					create_retinue=chaosmarauders
					create_retinue=chaosmarauderchampions
					create_retinue=chaosmarauderhorsemen
				}
				75={
					modifier = {
						factor = 0
						has_character_flag = successful_chaos_warlord
					}
					character_event= {id = chaosr.507 days = 50 }
					set_character_flag=breakaway_chaos_warlord
					prestige=500
					wealth=80
					piety=100
					create_retinue=chaosmarauders
					create_retinue=chaosmarauders
					create_retinue=chaosmarauderhorsemen
				}
			}
		}
		event_target:nomadic_heir={
			any_realm_province = {
				limit={
					NOT = {
						any_province_holding = {
							 holding_type = nomad
						}
					}
					duchy={title=event_target:target_duchy}
				}
				county={
					new_character={
						grant_title_no_opinion={
							target = PREV
							type = invasion
						}
					}
				}
			}
		}
	}
	after={
		repeat_event = {id = chaosr.508}
	}
}
